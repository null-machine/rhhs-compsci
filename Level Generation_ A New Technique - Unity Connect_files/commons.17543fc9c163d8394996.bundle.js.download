!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n=window.webpackJsonp_name_;window.webpackJsonp_name_=function(r,o,s){for(var i,l,u,c=0,d=[];c<r.length;c++)l=r[c],a[l]&&d.push(a[l][0]),a[l]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(n&&n(r,o,s);d.length;)d.shift()();if(s)for(c=0;c<s.length;c++)u=t(t.s=s[c]);return u};var r={},a={9:0};t.e=function(e){function n(){i.onerror=i.onload=null,clearTimeout(l);var t=a[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),a[e]=void 0)}var r=a[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var o=new Promise(function(t,n){r=a[e]=[t,n]});r[2]=o;var s=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.timeout=12e4,t.nc&&i.setAttribute("nonce",t.nc),i.src=t.p+""+e+".17543fc9c163d8394996.bundle.js";var l=setTimeout(n,12e4);return i.onerror=i.onload=n,s.appendChild(i),o},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://connect-prd-cdn.unity.com/cdn-origin/assets/Project",t.oe=function(e){throw console.error(e),e}}([function(e,t,n){e.exports=n(8)(999)},function(e,t,n){e.exports=n(8)(11)},function(e,t,n){e.exports=n(8)(52)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c=r(n(2)),d=r(n(1)),f=r(n(42)),p=r(n(14)),g=r(n(43)),h="";"undefined"!=typeof window&&(h=""+-(new Date).getTimezoneOffset(),g.default.set("utcOffset",h,{expires:7}));var m=(l=i=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),u.call(r),s=n,o(r,s)}return s(t,d.default.Component),t}(),i.contextTypes={locale:c.default.string,i18nOverrides:c.default.object,i18nKeyOnly:c.default.string,utcOffset:c.default.string,cookies:c.default.object},u=function(){this.moment=function(){var e=f.default.apply(void 0,arguments);h?e.utcOffset(parseInt(h,10)):this.context.cookies.utcOffset?e.utcOffset(parseInt(this.context.cookies.utcOffset,10)):this.context.utcOffset&&e.utcOffset(parseInt(this.context.utcOffset,10));var t=p.default.MOMENT_LOCALE[this.context.locale];return t&&e.locale(t),e}.bind(this),this.duration=function(){var e=f.default.duration.apply(f.default,arguments),t=p.default.MOMENT_LOCALE[this.context.locale];return t&&e.locale(t),e}.bind(this)},l);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,r.default)(e);return function(e){return e.prototype.ss=function(){return t.apply(void 0,arguments)},e}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(593))},function(e,t,n){e.exports=n(8)(1315)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=e.locale,i=e.i18nOverrides,d=e.i18nKeyOnly,f=e.utcOffset,p=e.cookies.utcOffset,g=t[n];if(!g)return n;if(d)return g;var h=c||p||f,m=t.__i18nPlugin||"undefined"!=typeof window&&window.__i18nPlugin;if(a){var v=i&&i[a]&&i[a][g]||m&&m[a]&&m[a][g];if(v){var _=l.test(v),y=!0;r&&r.noMarkDown&&(y=!1);var b=y&&u.test(v);if(_||b)try{var S=(0,o.default)(v,a,h);return b?(0,s.default)(S.format(r),r):S.format(r)}catch(e){return console.error("fail to parse intl message, key: "+g+", result: "+v,e),v}return v}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=a,t.default=function(e){return function(t){return t.prototype.__=function(t,n){return a(this.context,e,t,n)},t}};var o=r(n(534)),s=r(n(119)),i=r(n(43)),l=/\{.+?}/,u=/[~*_]{2}.+?[~*_]{2}|\[.+?]\(.+?\)|:([^\s:]+?):|\n\n/,c="";"undefined"!=typeof window&&(c=""+-(new Date).getTimezoneOffset(),i.default.set("utcOffset",c,{expires:7}))},function(e,t,n){"use strict";function r(e){return e===s.inProgress}function a(e){return e===s.succeeded}function o(e){return e===s.failed}Object.defineProperty(t,"__esModule",{value:!0}),t.isLoading=r,t.isSucceeded=a,t.isFailed=o,t.isInitial=function(e){return e===s.initial},t.isLoadingOrSucceeded=function(e){return r(e)||a(e)},t.isFailedOrSucceeded=function(e){return o(e)||a(e)};var s=(0,function(e){return e&&e.__esModule?e:{default:e}}(n(25)).default)({initial:null,succeeded:null,failed:null,inProgress:null});t.default=s},,function(e,t,n){e.exports=n(8)(851)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(691)),o=n(468),s=n(175),i=r(n(707)),l=r(n(470)),u=r(n(708)),c=r(n(709)),d=r(n(471)),f=n(469);n(710),e.exports={Editor:a.default,composeDecorators:o.composeDecorators,EditorBlock:s.EditorBlock,EditorState:s.EditorState,BlockMapBuilder:s.BlockMapBuilder,CharacterMetadata:s.CharacterMetadata,ContentBlock:s.ContentBlock,ContentState:s.ContentState,SelectionState:s.SelectionState,Modifier:s.Modifier,RichUtils:s.RichUtils,convertToRaw:s.convertToRaw,convertFromRaw:s.convertFromRaw,genKey:s.genKey,getVisibleSelectionRect:s.getVisibleSelectionRect,isSoftNewlineEvent:i.default,DraftOffsetKey:l.default,setDraftEditorSelection:u.default,getEntityKeyForSelection:c.default,expandRangeToStartOfLine:d.default,createEditorStateWithText:f.createEditorStateWithText,findEditorKey:f.findEditorKey,getSelectionInlineStyle:f.getSelectionInlineStyle,toggleBlockType:f.toggleBlockType,moveAtomicBlockBefore:f.moveAtomicBlockBefore,addEmptyBlockBefore:f.addEmptyBlockBefore,addAtomicBlockBefore:f.addAtomicBlockBefore,isAtomicBlockSelected:f.isAtomicBlockSelected,moveToPrevBlock:f.moveToPrevBlock,moveToNextBlock:f.moveToNextBlock,moveToLastBlock:f.moveToLastBlock,isBlockBeforeAtomic:f.isBlockBeforeAtomic,isBlockAfterAtomic:f.isBlockAfterAtomic,isFocusAtLastLine:f.isFocusAtLastLine,isFocusAtFirstLine:f.isFocusAtFirstLine,isSelectionAtBlockStart:f.isSelectionAtBlockStart,isSelectionAtBlockEnd:f.isSelectionAtBlockEnd,isSelectionAtFirstBlock:f.isSelectionAtFirstBlock,isSelectionAtLastBlock:f.isSelectionAtLastBlock,getLeafOffsetKeyAndOffset:f.getLeafOffsetKeyAndOffset,getLeafBoundingClientRect:f.getLeafBoundingClientRect,getSelectedEntity:f.getSelectedEntity,getSelectedEntityData:f.getSelectedEntityData,addUserMention:f.addUserMention,addLearnMention:f.addLearnMention,mergeAtomicEntityData:f.mergeAtomicEntityData,normalizeValidAtomicBlocks:f.normalizeValidAtomicBlocks,removeAllBlocks:f.removeAllBlocks,isEmptyContent:f.isEmptyContent,normalizeRepostMentions:f.normalizeRepostMentions,normalizeEmbedLinks:f.normalizeEmbedLinks,markTextOverLength:f.markTextOverLength,$editorStateFromText:f.$editorStateFromText,$editorStateFromJSON:f.$editorStateFromJSON}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n=null;return e.forEach(function(e){if(e.id===t)n=e.path;else if(e.categories){var r=a(e.categories,t);r&&(n=r)}}),n}function o(e,t,n){var r=e||{},a=r.width,o=r.height,s=1;if(t>0&&(s=Math.round(100*t/a)/100),n>1){var i=Math.round(100*n/o)/100;s=Math.min(s,i)}var l=Math.round(a*s),u=Math.round(o*s);return t>0&&(l=Math.min(l,t)),n>1&&(u=Math.min(u,n)),{width:l,height:u}}function s(e,t){if(!e)return!1;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!s(e[n],t[n]))return!1}else if(e[n]!==t[n])return(0,l.default)(e[n],t[2]);return!0}function i(e,t){if(!t)return null;var n=t.errorCode,r=t.target,a=t.message,o=[e,n];return r?o.push(r.trim().replace(/(\s|[-:.])+/g,"_")):a&&o.push(a.trim().replace(/(\s|[-:.])+/g,"_")),o.join("_")}var l=function(e){return e&&e.__esModule?e:{default:e}}(n(566)),u=/<iframe.*(\/>|<\/iframe>)/i,c=/\bwidth="(\s|\d)*"/i,d=/\bheight="(\s|\d)*"/i,f=/<[^>]+>/g,p=[{reg:/&nbsp;/g,str:" "},{reg:/&lt;/g,str:"<"},{reg:/&gt;/g,str:">"},{reg:/&amp;/g,str:"&"},{reg:/&quot;/g,str:'"'},{reg:/&apos;/g,str:"'"}],g={pro:"pro",plus:"plus",none:""};e.exports={formatSize:function(e){var t=["Bytes","KB","MB","GB","TB"],n=0,r=0;return e>0&&(r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1),n=(e/Math.pow(1024,r)).toFixed(1)),n+" "+t[r]},formatNumber:function(e){var t=["","K","M"],n=0,r=0;return e>0&&(n=(r=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),t.length-1))>0?(e/Math.pow(1e3,r)).toFixed(1):Math.round(e/Math.pow(1e3,r))),n+" "+t[r]},formatNumberV2:function(e){return e<1e3?e:e<1e6?Math.sign(e)*(Math.abs(e)/1e3).toFixed(0)+"K":Math.sign(e)*(Math.abs(e)/1e6).toFixed(0)+"M"},getPackageVersionDescription:function(e,t){return e&&e.locales?(e.locales[t]||e.locales.en_US||e.locales[0]).longDescription:null},getCategoryPath:a,getCountryData:function(){return{BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"}},isChild:function(e,t){if(e.hasChildNodes())for(var n=e.children||e.childNodes,r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},isParent:function(e,t){if(null===e||null===t)return!1;for(t=t.parentNode;t!==document.body;){if(t===e)return!0;t=t.parentNode}return!1},buildAssetStoreUrl:function(e){return"https://www.assetstore.unity3d.com/"+e},buildAssetStorePackageUrl:function(e,t){var n="en";if(t){var r=t.split("_");r.length>0&&r[0]!==n&&(n=r[r.length-1].toLowerCase())}return"https://www.assetstore.unity3d.com/"+n+"/#!/content/"+e},toProposalAttachmentUrl:function(e,t){return"/proposal-attachments/"+t+"/"+e},buildGithubUrl:function(e){return"https://github.com/"+e},buildFacebookUrl:function(e){return"https://www.facebook.com/"+e},buildTwitterUrl:function(e){return"https://twitter.com/"+e},buildLinkedinUrl:function(e){return"https://www.linkedin.com/in/"+e},compare:function(e,t){return e.startTime>t.startTime?-1:e.startTime<t.startTime?1:0},buildOutWebsiteUrl:function(e,t){return e?e.startsWith("http")?e:t?"http://"+e:"https://"+e:""},extractName:function(e){if(!e)return"";e=e.trim();var t="";if(/^\W+/.test(e))t=e[0];else{var n=e.indexOf(" ")>0?" ":",",r=e.split(n),a=r.length;t=a>1?""+r[0][0]+r[a-1][0]:r[0][0]}return t},validateEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},getHost:function(e){return e?(e=e.replace("http://",""),e=e.replace("https://",""),e=e.split("/")[0],e=e.replace("www.","")):""},normalizeHtml:function(e,t,n){var r=e||{},a=r.html,o=r.width,s=r.height;if(u.test(a)){var i=1;if(t>0&&(i=Math.round(100*t/o)/100),n>1){var l=Math.round(100*n/s)/100;i=Math.min(i,l)}var f=Math.round(o*i),p=Math.round(s*i);return t>0&&(f=Math.min(f,t)),n>1&&(p=Math.min(p,n)),a.replace(c,'width="'+f+'"').replace(d,'height="'+p+'"')}return a},normalizeImage:function(e,t,n){var r=e||{},a=r.width,s=r.height;return o(e,Math.min(a,t),Math.min(s,n))},normalizeContent:o,arrayEqual:s,getPreviewText:function(e,t){if(!e)return{};if(t>=e.length||t<=0)return{text:e,isShort:!1};for(var n=t,r=e[n];n>0&&/\w/.test(r);)r=e[n-=1];return{text:e.substr(0,n||t),isShort:!0}},getPreviewTextV2:function(e,t){var n=/[^\x00-\xff]/g;if(e.replace(n,"mm").length<=t)return{text:e,isShort:!1};for(var r=Math.floor(t/2);r<e.length;r++)if(e.substr(0,r).replace(n,"mm").length>=t)return{text:e.substr(0,r),isShort:!0};return{text:e,isShort:!1}},getDaysFromNumOfUnit:function(e,t,n){if(e&&t&&n){var r=n().subtract(e,t);return n().diff(r,"days")}return 0},getNumOfUnitFromDays:function(e,t){var n={num:1,unit:"days"},r=[];if(e&&t){var a=t().subtract(e,"days");r=["months","weeks","days"].map(function(e){return{num:t().diff(a,e),unit:e}})}return(r=r.filter(function(e){return e.num>0}))&&r.length>0&&(n=r[0]),n},splitTags:function(e){return e?e.trim().split(/\s*[,|，|、]\s*/):[""]},arrayInsert:function(e,t){var n=[];if(e){var a=e.findIndex(function(e){return e===t});n=[].concat(r(e)),a<0&&t&&n.push(t)}return n},arrayRemove:function(e,t){var n=[];if(e){var a=e.findIndex(function(e){return e===t});n=[].concat(r(e)),a>=0&&t&&n.splice(a,1)}return n},arrayMove:function(e,t,n){if(t===n)return e;var r=e[t];return e.reduce(function(e,a,o){var s=a;return o===n&&(t<n&&(e=e.concat(a),s=r),t>n&&(e=e.concat(r))),o===t?e:e.concat(s)},[])},minWindowWidth:800,getFileIcon:function(e){return"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e||"application/msword"===e?"file-word":"application/pdf"===e?"file-pdf":"file-empty"},pauseEvent:function(e){e.stopPropagation(),e.preventDefault()},timeCompare:function(e,t,n){if(!e)return 1;if(!t)return-1;if(!n)return 0;var r=n(e),a=n(t),o=r.diff(a);return o<0?1:o>0?-1:0},convertHtmlToStr:function(e){if(!e||"string"!=typeof e||""===e)return e;var t=e.replace(f,"");return p.forEach(function(e){t=t.replace(e.reg,e.str)}),t},getUserTitleRole:function(e,t){if(!e||!t)return null;var n=e.title,r=e.jobRoleIds,a=n;if(r&&r.length>0){var o=t[r[0]];a=a?n+" - "+o.name:o.name}return a},securedURL:function(e){return e?e.startsWith("https://")||e.startsWith("//")?e:e.replace(/^(http:\/\/)?/,"https://"):""},getLangText:function(e){switch(e){case"zh_CN":return"简体中文";case"ja_JP":return"日本語";case"ko_KR":return"한국어";case"ru_RU":return"Русский";case"es_ES":return"Español";case"fr_FR":return"Français";case"de_DE":return"Deutsch";case"pt_PT":return"Português";default:return"English"}},getErrorMsg:i,onError:function(e){return function(t){var n=t.props,r=t.controller,a=n.result,o=i(e,a);o&&r.getSignal("header.showMessage")({message:o})}},contains:function(e,t){return!(!e||0===e.length)&&e.findIndex(function(e){return e===t})>=0},parseCriteria:function(e){var t=(e||{}).k,n={};return(t?JSON.parse(t):[]).forEach(function(e,t){var r=e.split(":");if(2===r.length){var a=n[r[0]]||[];a.push({value:r[1],index:t}),n[r[0]]=a}}),n},isUserDeleted:function(e,t){if("Deleted User"!==t)return!1;var n=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return e&&n.test(e)},groupLimitations:g}},function(e,t,n){e.exports=n(8)(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(2)),h=r(n(1)),m=r(n(3)),v=r(n(4)),_=r(n(724)),y=(l=(0,v.default)(_.default))((d=c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),p(t,[{key:"onThisClick",value:function(e){var t=this.props,n=t.onClick,r=t.href;t.loading||(r?this.refs.aTag.click():n&&n(e))}},{key:"renderContent",value:function(){var e=this.props,t=e.label,n=e.loading,r=e.loadingClassName,a=[],o={pointerEvents:"none"};return(n||!1)&&(a.push(h.default.createElement("div",{key:"loading",className:this.ss("raised-btn-loading-wrap")},h.default.createElement("div",{className:this.ss("raised-btn-loading",r)}))),o.opacity=0,o.cursor="auto"),a.push(h.default.createElement("div",{key:"label",style:o},t)),a}},{key:"render",value:function(){var e=this,t=this.props,n=t.href,r=(t.onClick,t.className),o=t.target,s=t.theme,i=(t.loading,t.loadingClassName,t.size),l=t.widthType,u=t.gaTag,c=a(t,["href","onClick","className","target","theme","loading","loadingClassName","size","widthType","gaTag"]),d=["raised-btn","raised-btn-"+(s||"default"),r,u,i&&"size-"+i,l&&"width-"+l],p=o||"_self",g=void 0;return n&&(g=h.default.createElement("a",{href:n,ref:"aTag",target:p})),h.default.createElement("button",f({},c,{ref:"button",className:this.ss.apply(this,d),onClick:function(t){return e.onThisClick(t)}}),this.renderContent(),g)}}]),t}(),c.propTypes={label:g.default.string,className:g.default.string,loadingClassName:g.default.string,gaTag:g.default.string,href:g.default.string,onClick:g.default.func,disabled:g.default.bool,target:g.default.string,loading:g.default.bool,size:g.default.oneOf(["xxsmall","xsmall","small","medium","large","xlarge","xxlarge","new-small","new-medium","new-large","new-xlarge","new-xxlarge"]),theme:g.default.oneOf(["primary","default","secondary","black","thirdly","fourthly","fifthly","red","blue","white","transparent","link","pink","link-border","white-link-border","blue-link-border","gray","purple","header-default","primary-blue","webgl","violet","new-default"]),widthType:g.default.oneOf(["full","auto"])},u=d))||u;t.default=y},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(2)),p=r(n(1)),g=r(n(3)),h=r(n(464)),m=r(n(183)),v=(r(n(720)),r(n(4))),_=r(n(721)),y=r(n(14)),b=[200,400,600,800,1e3,1200,1400,1600,1800,2e3],S=["video/x-m4v","video/webm","video/x-ms-wmv","video/x-msvideo","video/3gpp","video/ogg","video/flv","video/x-flv","video/mp4","video/quicktime","video/mpeg","video/ogv"],w=(i=(0,v.default)(_.default))((c=u=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={loaded:!1},r.onLoad=function(){r.state.loaded||r.setState({loaded:!0})},s=n,o(r,s)}return s(t,g.default),d(t,[{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&this.setState({loaded:!1})}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.sizes,r=e.alt,a=e.objectFit,o=e.objectPosition,s=e.placeholderSrc,i=e.gif,l=e.contentType,u=void 0,c=y.default.CDN_URLS.some(function(e){return t&&t.startsWith(e)}),d=t&&t.endsWith(".gif")||i,f=-1!==S.indexOf(l),g=(0,m.default)(h.default&&h.default.ua);if(f)u=p.default.createElement("video",{className:this.ss("image"),onLoad:this.onLoad,preload:"metadata",style:{objectFit:a,objectPosition:o},src:t});else if(c)if(d&&!g)u=p.default.createElement("video",{className:this.ss("image"),onLoad:this.onLoad,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{objectFit:a,objectPosition:o}},p.default.createElement("source",{src:t+"._gif_.mp4",type:"video/mp4"}));else{var v=[];b.forEach(function(e){v.push(t+"."+e+"x0x1.webp "+e+"w")}),v=v.join(",");var _=t.endsWith(".png"),w=[];b.forEach(function(e){var n=_?".png":".jpg";w.push(t+"."+e+"x0x1"+n+" "+e+"w")}),w=w.join(","),u=p.default.createElement("picture",{onLoad:this.onLoad},p.default.createElement("source",{type:"image/webp","data-srcset":v,sizes:n}),!_&&p.default.createElement("source",{type:"image/jpeg","data-srcset":w,sizes:n}),_&&p.default.createElement("source",{type:"image/png","data-srcset":w,sizes:n}),p.default.createElement("img",{className:"lazyload","data-src":t,alt:r,style:{objectFit:a,objectPosition:o}}))}else u=p.default.createElement("picture",{onLoad:this.onLoad},p.default.createElement("img",{className:"lazyload","data-src":t,alt:r,style:{objectFit:a,objectPosition:o}}));u=s&&!this.state.loaded?p.default.createElement("div",{className:this.ss("placeholder-wrapper")},p.default.createElement("picture",null,p.default.createElement("img",{src:s,alt:r,style:{objectFit:a,objectPosition:o}})),p.default.createElement("div",{style:{height:"0",overflow:"hidden"}},u)):p.default.createElement("div",{className:this.ss("placeholder-wrapper")},u);var E=this.props,O=E.width,I=E.height,k=E.maxWidth,C=E.maxHeight;if(0!==O&&0!==I){var T={maxWidth:0!==k?k+"px":"100%",maxHeight:0!==C?C+"px":"100%"},j={paddingBottom:100*I/O+"%"};return p.default.createElement("div",{className:this.ss("image-wrapper"),style:T},p.default.createElement("div",{style:j}),p.default.createElement("div",{className:this.ss("imageholder")},u))}return u}}]),t}(),u.propTypes={src:f.default.string.isRequired,gif:f.default.bool,sizes:f.default.string.isRequired,alt:f.default.string,objectFit:f.default.oneOf(["fill","contain","cover","none","scale-down"]),objectPosition:f.default.string,contentType:f.default.string,width:f.default.number,height:f.default.number,maxWidth:f.default.number,maxHeight:f.default.number,placeholderSrc:f.default.string},u.defaultProps={objectFit:"cover",objectPosition:"center center",width:0,height:0,maxWidth:0,maxHeight:0},l=c))||l;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(n(2)),m=r(n(1)),v=r(n(3)),_=n(11),y=r(n(24)),b=r(n(15)),S=r(n(4)),w=r(n(722)),E=r(n(6)),O=r(n(723)),I=(l=(0,S.default)(w.default),u=(0,E.default)(O.default),l(c=u((f=d=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.user,r=e.typing,o=e.size,s=e.status,i=e.shape,l=e.className,u=e.statusClassName,c=e.isFollowed,d=e.nameClassName,f=a(e,["user","typing","size","status","shape","className","statusClassName","isFollowed","nameClassName"]),g=t||{},h=g.avatar,v=g.name,S=g.fullName,w=g.fullname,E=g.username,O=g.anonymous,I=g.isBot,k=h&&0===h.indexOf("data:image"),C=h&&k?{backgroundImage:'url("'+h+'")'}:null,T=null;if(!h){if((0,_.isUserDeleted)(E,S)||(0,_.isUserDeleted)(E,w))T=m.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-user")});else if(O)T=m.default.createElement("div",{className:this.ss("anonymous","ifont","ifont-icons-anonymous")});else{var j=v||S||w;T=m.default.createElement("div",{className:this.ss("name",d)},(0,_.extractName)(j))}"company-card"===o&&(T=m.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-company")}))}var M=m.default.createElement("div",{className:this.ss("status","status-"+s,r&&"status-typing",u)},r&&m.default.createElement("div",{className:this.ss("ellipsis")},m.default.createElement("div",null),m.default.createElement("div",null),m.default.createElement("div",null))),P=h&&!k&&m.default.createElement("div",{className:this.ss("image-wrap")},m.default.createElement(b.default,{src:h,sizes:"100px"}));return I&&(P=m.default.createElement("div",{className:this.ss("image-wrap")},m.default.createElement(b.default,{src:n(184),sizes:"100px"})),T=null),m.default.createElement("div",p({},f,{className:this.ss("avatar","avatar-"+o,i,!h&&!O&&"default-bg",l),style:C}),P,T,s&&M,c&&m.default.createElement(y.default,{text:this.__("followed"),position:"bottom"},m.default.createElement("div",{className:this.ss("followed")},m.default.createElement("div",{className:this.ss("check","ifont","ifont-check")}))))}}]),t}(),d.propTypes={user:h.default.object.isRequired,typing:h.default.bool,size:h.default.oneOf(["xxxxxsmall","xxxxsmall","xxxsmall","xxsmall","xsmall","xmsmall","small","medium","large","xlarge","xxlarge","xxxlarge","xxxxlarge","message-card","company-card","user-card","message-menu","profile","quick-search","repost","group","group-small","unified-profile","expert-card","suggest","v2-large","v2-medium","v2-small"]),status:h.default.oneOf(["online","offline","idle"]),shape:h.default.oneOf(["circle","square"]),className:h.default.string,nameClassName:h.default.string,statusClassName:h.default.string,isFollowed:h.default.bool},d.defaultProps={typing:!1,size:"small",shape:"circle"},c=f))||c)||c);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(2)),p=r(n(1)),g=r(n(3)),h=n(23),m=r(n(43)),v=n(26),_=r(n(4)),y=r(n(716)),b=h.presets.noWobble,S=(i=(0,_.default)(y.default))((c=u=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=0;if(r.context.cookies.scrollerWidth)s=parseInt(r.context.cookies.scrollerWidth,10);else if(r.context.platform){var i=r.context.platform,l=i.name,u=i.os;u&&u.family&&u.family.indexOf("Windows")>-1?s="Microsoft Edge"===l?12:17:u&&u.family&&u.family.indexOf("Ubuntu")>-1&&("Firefox"===l?s=15:"Chrome"===l&&(s=13))}return r.state={scrollerWidth:s,scrollTo:null},r.dimension={scrollTop:0,scrollHeight:0,offsetHeight:0},r.currentStepId=0,r}return s(t,g.default),d(t,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.handleResize()},window.addEventListener("resize",this._handleResize),this._handleMouseMove=function(t){return e.handleMouseMove(t)},this._handleMouseUp=function(t){return e.handleMouseUp(t)},window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp),this.setScrollerWidth(),this.setScrollerState()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize),window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp),this.setScrollerWidthTimeout&&(clearTimeout(this.setScrollerWidthTimeout),this.setScrollerWidthTimeout=null)}},{key:"getScrollerNode",value:function(){return this.refs.scroller||{}}},{key:"getScrollbarOffset",value:function(){var e=this.dimension,t=e.scrollTop,n=e.offsetHeight,r=e.scrollHeight;if(0===r||r<=n)return 0;if((0,v.isDevice)())return 0;var a=t/(r-n);return(n-this.getScrollbarHeight())*a}},{key:"getScrollbarHeight",value:function(){var e=this.dimension,t=e.offsetHeight,n=e.scrollHeight;return 0===n||n<=t?0:(0,v.isDevice)()?0:Math.max(14,t/n*t)}},{key:"setScrollerWidth",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setScrollerWidthTimeout&&(clearTimeout(this.setScrollerWidthTimeout),this.setScrollerWidthTimeout=null),this.setScrollerWidthTimeout=setTimeout(function(){var t=n(717)();e.state.scrollerWidth!==t&&(e.setState({scrollerWidth:t}),m.default.set("scrollerWidth",t,{expires:7})),e.setScrollerWidth(15e3)},t)}},{key:"setScrollerState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getScrollerNode();if(t){var n=this.dimension,r=n.scrollTop,a=n.scrollHeight,o=n.offsetHeight;e&&this.props.onScrollEnd&&!this.scrollToEnd(this.dimension)&&this.scrollToEnd(t)&&this.props.onScrollEnd();var s={isScroll:e,scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight};r!==t.scrollTop||a!==t.scrollHeight||o!==t.offsetHeight?(this.dimension={scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,offsetHeight:t.offsetHeight},(0,v.isDevice)()||this.forceUpdate(),this.props.onUpdate&&this.props.onUpdate(s)):e&&this.props.onUpdate&&this.props.onUpdate(s)}}},{key:"handleOnScroll",value:function(){this.setScrollerState(!0),this.props.onScroll&&this.props.onScroll(this.getScrollerNode())}},{key:"handleResize",value:function(){this.setScrollerState()}},{key:"handleMouseDown",value:function(e){e.preventDefault();var t=e.pageY;this.setState({isPressed:!0,initialScrollTop:this.dimension.scrollTop,initialPageY:t})}},{key:"handleMouseMove",value:function(e){var t=e.pageY,n=this.state,r=n.isPressed,a=n.initialScrollTop,o=n.initialPageY,s=this.dimension,i=s.offsetHeight,l=s.scrollHeight;if(r){var u=t-o,c=(l-i)/(i-this.getScrollbarHeight());this.scrollTo(u*c+a)}}},{key:"handleMouseUp",value:function(){this.state.isPressed&&this.setState({isPressed:!1})}},{key:"scrollTo",value:function(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){this.setState({scrollTo:null});var n=this.getScrollerNode();return e<0&&(e=0),e>n.scrollHeight-n.offsetHeight&&(e=n.scrollHeight-n.offsetHeight),void(n.scrollTop!==e?n.scrollTop=e:setTimeout(function(){return t.handleOnScroll()},0))}this.setState({scrollTo:{stepId:this.currentStepId,scrollTop:e}})}},{key:"scrollToEnd",value:function(e){var t=e.scrollTop,n=e.scrollHeight;return t+e.clientHeight>=n-1}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.theme,a=t.fade,o=t.children,s=t.position,i=this.state,l=i.scrollTo,u=i.scrollerWidth,c=i.isPressed,d={height:this.getScrollbarHeight()+"px",top:this.getScrollbarOffset()+"px"},f=p.default.createElement("div",{className:this.ss("scrollbar")},p.default.createElement("div",{className:this.ss("track")}),p.default.createElement("div",{className:this.ss("thumb"),style:d,onMouseDown:function(t){return e.handleMouseDown(t)}})),g=void 0;if(l&&l.stepId===this.currentStepId){var m={scrollTop:this.dimension.scrollTop},_={scrollTop:(0,h.spring)(l.scrollTop,b)};g=p.default.createElement(h.Motion,{defaultStyle:m,style:_},function(t){var n=t.scrollTop;if(l.stepId===e.currentStepId){n===l.scrollTop&&e.currentStepId++;var r=e.getScrollerNode();n<0&&(n=0),n>r.scrollHeight-r.offsetHeight&&(n=r.scrollHeight-r.offsetHeight),r.scrollTop!==n?r.scrollTop=n:setTimeout(function(){return e.handleOnScroll()},0)}return p.default.createElement("noscript",null)})}var y=50;return this.dimension.offsetHeight&&(0,v.isDevice)()&&(y=u),p.default.createElement("div",{className:this.ss("scroller-wrap",a&&"fade",c&&"isPressed",r)},p.default.createElement("div",{ref:"scroller",className:this.ss("scroller",s,n),style:{marginRight:-y+"px",paddingRight:y-u+"px"},onScroll:function(){return e.handleOnScroll()}},o),f,g)}}]),t}(),u.propTypes={onUpdate:f.default.func,className:f.default.string,theme:f.default.string,fade:f.default.bool,children:f.default.any,onScroll:f.default.func,onScrollEnd:f.default.func,position:f.default.oneOf(["top","center","auto"])},u.contextTypes={platform:f.default.object,cookies:f.default.object},u.defaultProps={theme:"dark",fade:!0,position:"auto"},l=c))||l;t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n=l(e,t,void 0);return window.addEventListener("touchstart",n),window.addEventListener("mousedown",n),function(){window.removeEventListener("touchstart",n),window.removeEventListener("mousedown",n)}}function l(e,t,n){return function(r){for(var a=e.map(function(e){return"function"==typeof e&&(e=e()),"string"==typeof e?document.getElementById(e):f.default.findDOMNode(e)}),o=!1,s=!1,i=r.target;i;){if(i===document&&(s=!0),a.find(function(e){return e===i})){o=!0;break}i=i.parentNode}s&&!o&&t(r),s&&o&&n&&n(r)}}var u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(12)),p=r(n(3)),g=r(n(2)),h=r(n(1)),m=(c=u=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,p.default),d(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=i([this.refs.child],function(){e.props.onClickOutside&&e.props.onClickOutside()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this.props.children;return h.default.cloneElement(h.default.Children.only(e),{ref:"child"})}}]),t}(),u.propTypes={onClickOutside:g.default.func,children:g.default.any},c);e.exports={ClickOutside:function(e,t,n){for(var r=!1,a=!1,o=e.target;o;){if(o===document&&(a=!0),f.default.findDOMNode(t)===o){r=!0;break}o=o.parentNode}a&&!r&&n&&n()},addClickOutside:i,getClickOutside:l,ClickOutsideWrap:m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.location.href=e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setting.windowHeight"],["header.setting.windowHeight"]),g=r(n(2)),h=r(n(1)),m=n(5),v=n(0),_=r(n(3)),y=n(23),b=r(n(17)),S=r(n(4)),w=r(n(725)),E=y.presets.stiff,O=(i=(0,m.decorator)({windowHeight:(0,v.state)(p)}),l=(0,S.default)(w.default),i(u=l((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClose=function(){var e=r.props,t=e.open,n=e.disableBackDrop;t&&!n&&r.props.onCloseModal&&r.props.onCloseModal()},r.onKeyDown=function(e){switch(e.keyCode){case 27:r.onClose()}},s=n,o(r,s)}return s(t,_.default),f(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"renderDialog",value:function(e){var t=e.backDropOpacity,n=e.modalScale,r=e.modalOpacity,a=this.props,o=a.className,s=a.scrollerClassName,i=a.modalContentClassName,l=a.windowHeight,u=a.noScroller,c=a.position,d=a.backDropHeight,f=a.maxHeight;if(t<.1||r<.1)return null;var p={};if(l>0){p.maxHeight=Math.max(l-128,128)}var g=this.props.children,m={opacity:t,height:d||"100%"},v={transform:"scale3d("+n+", "+n+", 1)",opacity:r},_=h.default.createElement(b.default,{className:this.ss(s),position:c},h.default.createElement("div",{className:this.ss("modal-inner-scrollable",i),style:p},g));return u&&(_=h.default.createElement("div",{className:this.ss("modal-inner-scrollable",i),style:p},g)),h.default.createElement("div",null,h.default.createElement("div",{className:this.ss("backdrop"),style:m,onClick:this.onClose}),h.default.createElement("div",{className:this.ss("modal",f&&"max-height")},h.default.createElement("div",{className:this.ss(o,"modal-inner",c),style:v},_)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.noAnimation,r=void 0!==n&&n,a=t.backDropOpacity;if(!0===r){var o=!0===this.props.open?{backDropOpacity:a||.8,modalScale:1,modalOpacity:1}:{backDropOpacity:0,modalScale:.75,modalOpacity:0};return this.renderDialog(o)}var s={backDropOpacity:0,modalScale:.75,modalOpacity:0},i=this.props.open?{backDropOpacity:(0,y.spring)(a||.8,E),modalScale:(0,y.spring)(1,E),modalOpacity:(0,y.spring)(1,E)}:{backDropOpacity:(0,y.spring)(0,E),modalScale:(0,y.spring)(.75,E),modalOpacity:(0,y.spring)(0,E)};return h.default.createElement(y.Motion,{defaultStyle:s,style:i},function(t){return e.renderDialog(t)})}}]),t}(),c.propTypes={onCloseModal:g.default.func,open:g.default.bool,children:g.default.any,className:g.default.string,scrollerClassName:g.default.string,modalContentClassName:g.default.string,windowHeight:g.default.number,noScroller:g.default.bool,noAnimation:g.default.bool,position:g.default.oneOf(["center","top"]),backDropOpacity:g.default.number,backDropHeight:g.default.string,maxHeight:g.default.bool,disableBackDrop:g.default.bool},u=d))||u)||u);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.chains=t.isValidatingForm=t.isValidForm=t.Form=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Forms=function(){return(0,i.default)()};var o=r(n(120)),s=n(150),i=r(n(548)),l=r(n(446)),u=r(n(562)),c=r(n(564)),d=r(n(439)),f=r(n(443)),p=r(n(442)),g=r(n(447)),h=r(n(448)),m=r(n(445)),v=r(n(440));o.default.requiredIfFieldEquals=function(e,t,n){var r=n.field,a=n.value;return t[r].value!==a||o.default.isValue(e)},o.default.lessZero=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e>=0:parseFloat(e)>=0)},o.default.lessOne=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e>=1:parseInt(e,10)>=1)},o.default.moreHundred=function(e){return!!o.default.isNumeric(e)&&("number"==typeof e?e<=100:parseInt(e,10)<=100)},o.default.maxSkills=function(e){return!(e instanceof Array)||e.length<=10},o.default.isLocation=function(e){return!!(e&&e instanceof Object&&""!==e.country)},o.default.isWebsite=function(e){var t=/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isSocialUrl=function(e,t,n){return!(e&&("string"!=typeof e||!(0,s.testSocialUrl)(n)(e)))},o.default.isAssetstoreUrl=function(e){var t=/^(https?:\/\/)?(www\.)?assetstore.unity3d.com\/.+$/i;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPathOfWebsite=function(e,t,n){var r={applestore:/(https?:\/\/)?(itunes\.)?(apple)\.(com)\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,googleplay:/(https?:\/\/)?(play\.)?(google)\.(com)\/store\/apps\/details\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,steam:/(https?:\/\/)?(store\.)?(steampowered)\.(com)\/app\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i,url:/(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/i},a=r[n||"url"]||r.url;return!(e&&("string"!=typeof e||!a.test(e)))},o.default.isNotLess=function(e,t,n){return!(t[n].value&&e&&parseInt(t[n].value,10)>parseInt(e,10))},o.default.isNotLarger=function(e,t,n){return!(t[n].value&&e&&parseInt(t[n].value,10)<parseInt(e,10))},o.default.isNotLessThan=function(e,t,n){return!(parseInt(e,10)<parseInt(n,10))},o.default.isHour=function(e){return!e||!!o.default.isNumeric(e)&&("number"!=typeof e&&(e=parseInt(e,10)),e>=0&&e<=23)},o.default.isMinute=function(e){return!e||!!o.default.isNumeric(e)&&("number"!=typeof e&&(e=parseInt(e,10)),e>=0&&e<=59)},o.default.anyUpperCase=function(e){var t=/[A-Z]+/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.anyLowerCase=function(e){var t=/[a-z]+/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.anyNumber=function(e){var t=/\d/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isScale=function(e){return!!(e&&"object"===(void 0===e?"undefined":a(e))&&"from"in e&&"to"in e)&&!(0===e.from&&!e.to)},o.default.notNullDepends=function(e,t,n){return!(e&&!t[n].value)},o.default.typeInArray=function(e,t,n){if(e&&e instanceof Array)switch(n){case"boolean":return-1!==e.findIndex(function(e){return"boolean"==typeof e});case"number":return-1!==e.findIndex(function(e){return"number"==typeof e});case"object":return-1!==e.findIndex(function(e){return"object"===(void 0===e?"undefined":a(e))});case"string":default:return-1!==e.findIndex(function(e){return"string"==typeof e&&""!==e.trim()})}return!1},o.default.isUdpPackageName=function(e){var t=/^([a-z]{1}[a-z\d_]*\.)*[a-z][a-z\d_]*$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPrice=function(e){var t=/(^[0-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isPositive=function(e){return!e||!!o.default.isNumeric(e)&&("number"==typeof e?e>0:parseFloat(e)>0)},o.default.isGameCredit=function(e){var t=/(^[1-9]\d*(\.\d{1,8})?$)|(^0(\.\d{1,8})?$)/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isApkVersion=function(e){var t=/^\d+(\.\d+)+$/g;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isUdpCallbackUrl=function(e){var t=/^(https?:\/\/[\w-]+(\.[\w-]+)+(:\d+)?((\/|\/[\w-]+)?)*(\?[\w-]+=[\w-]+((&[\w-]+=[\w-]+)?)*)?)?$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.isUdpIapSlug=function(e){var t=/^[a-z0-9][a-z0-9_.]*$/;return!(e&&("string"!=typeof e||!t.test(e)))},o.default.urlInArray=function(e){return!(!(e&&e instanceof Array)||e.find(function(e){return!e.url}))},o.default.isSlug=function(e){return null!==e&&void 0!==e&&/^[\w-]*$/g.test(e)},o.default.isObjectEmpty=function(e){return Object.keys(e||{}).length>0},o.default.isObjectLength=function(e,t,n){return Object.keys(e||{}).length===n};t.Form=l.default,t.isValidForm=u.default,t.isValidatingForm=c.default,t.chains={fieldAdded:d.default,fieldChanged:f.default,fieldRemoved:p.default,formValidated:g.default,reset:h.default,validate:m.default,addField:v.default}},function(e,t,n){e.exports=n(8)(903)},function(e,t,n){e.exports=n(8)(990)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=i(["header.tooltips"],["header.tooltips"]),g=i(["header.tooltipShow"],["header.tooltipShow"]),h=i(["header.tooltipHide"],["header.tooltipHide"]),m=r(n(2)),v=r(n(1)),_=r(n(12)),y=r(n(3)),b=n(5),S=n(0),w=n(26),E=0,O=(l=(0,b.decorator)({tooltips:(0,S.state)(p),tooltipShow:(0,S.signal)(g),tooltipHide:(0,S.signal)(h)}))((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={tooltipId:(E++).toString()},s=n,o(r,s)}return s(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.tooltips,r=t.text,a=this.state.tooltipId,o=e.text;n[a]&&r!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){if(!(0,w.isDevice)()){var t=_.default.findDOMNode(this.refs.child).getBoundingClientRect(),n=t.left,r=t.right,a=t.top,o=t.bottom,s=this.props,i=s.text,l=s.type,u=s.position,c=s.tooltipShow;c({id:this.state.tooltipId,text:e||i,type:l,position:u,targetWidth:r-n,targetHeight:o-a,left:n,top:a})}}},{key:"tooltipHide",value:function(){if(!(0,w.isDevice)()){var e=this.props.tooltipHide;e({id:this.state.tooltipId})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.isSpan,o=t.clickToHide;if(!n)return null;var s=v.default.Children.only(n);s=v.default.cloneElement(s,{ref:"child"});var i=a?"span":"div";return v.default.createElement(i,{onMouseOver:function(){return e.tooltipShow()},onMouseOut:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:r},s)}}]),t}(),c.propTypes={text:m.default.oneOfType([m.default.string,m.default.array]).isRequired,type:m.default.oneOf(["normal","success","warning","error"]),position:m.default.oneOf(["top","left","bottom","right","bottom-left"]),isSpan:m.default.bool,clickToHide:m.default.bool,children:m.default.any,className:m.default.string,tooltips:m.default.object,tooltipShow:m.default.func,tooltipHide:m.default.func},c.defaultProps={type:"normal",position:"top",isSpan:!1,clickToHide:!0},u=d))||u;t.default=O},function(e,t,n){e.exports=n(8)(488)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouch=function(){return window.matchMedia("screen and (max-width: "+(r-1)+"px)").matches},t.isDesktop=function(){return window.matchMedia("screen and (min-width: "+r+"px)").matches},t.isDevice=function(){return void 0!==o?o:o=a.test(navigator.userAgent)};var r=1e3,a=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/,o=void 0},function(e,t,n){"use strict";(function(e){function r(e,t,n){var r=e[t.id];return!r||r.id!==t.id||r.fullname!==t.fullname||r.avatar!==t.avatar||t.presenceStatus&&r.presenceStatus!==t.presenceStatus?(n.changed||(n.changed=!0,e=i.default.clone(e)),e[t.id]={id:t.id,username:t.username,fullname:t.fullname,avatar:t.avatar,title:t.title||"",coverImage:t.coverImage||"",followCount:t.followCount,likeCount:t.likeCount,isStaff:t.isStaff,presenceStatus:t.presenceStatus||r&&r.presenceStatus},t.isBot&&(e[t.id].isBot=!0),e):e}function a(e){var t=e.props,n=e.state,a=t.messages,o=t.parents,s=t.quotes,i=t.parentMessage,u=n.get(l),c={};a.forEach(function(e){var t=e.author,n=e.mentions,a=e.reactions,o=e.replyUsers;u=r(u,t,c),n.forEach(function(e){u=r(u,e,c)}),a.forEach(function(e){u=r(u,e.user,c)}),o.forEach(function(e){u=r(u,e,c)})}),o&&o.forEach(function(e){var t=e.author,n=e.mentions,a=e.reactions,o=e.replyUsers;u=r(u,t,c),n.forEach(function(e){u=r(u,e,c)}),a.forEach(function(e){u=r(u,e.user,c)}),o.forEach(function(e){u=r(u,e,c)})}),s&&s.forEach(function(e){var t=e.author,n=e.mentions,a=e.reactions,o=e.replyUsers;u=r(u,t,c),n.forEach(function(e){u=r(u,e,c)}),a.forEach(function(e){u=r(u,e.user,c)}),o.forEach(function(e){u=r(u,e,c)})}),i&&(u=r(u,i.author,c),i.mentions.forEach(function(e){u=r(u,e,c)}),i.reactions.forEach(function(e){u=r(u,e.user,c)}),i.replyUsers.forEach(function(e){u=r(u,e,c)})),c.changed&&n.set(l,u)}function o(e){var t=e.props,n=e.state,a=t.author,o=t.mentions,s=n.get(l),i={};s=r(s,a,i),o.forEach(function(e){s=r(s,e,i)}),i.changed&&n.set(l,s)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),l=["messages","users"],u=["messages","currentUserId"];t.default={name:e,depends:[],signals:{channelReady:[function(e){var t=e.props,n=e.state,a=t.userId,o=t.users;n.set(u,a);var i=n.get(l),c=i?s({},i):{},d={changed:!0};o.forEach(function(e){c=r(c,e,d)}),n.set(l,c)}],connectionOpen:[function(e){var t=e.props,n=e.state,a=t.userId,o=t.users;n.set(u,a);var s=n.get(l),c=s?i.default.clone(s):{},d={changed:!0};o.forEach(function(e){c=r(c,e,d)}),n.set(l,c)}],channelCreate:[function(e){var t=e.props,n=e.state,a=t.recipient,o=t.members,s=n.get(l),i={};a&&(s=r(s,a,i)),o&&o.forEach(function(e){s=r(s,e.user,i)}),i.changed&&n.set(l,s)}],channelMemberAdd:[function(e){var t=e.props,n=e.state,a=n.get(l),o={};a=r(a,t.user,o),o.changed&&n.set(l,a)}],fetchMessagesSuccess:[a],messageCreate:[o],messageUpdate:[function(e){o({props:e.props,state:e.state})}],addMentionUser:[function(e){var t=e.props,n=e.state,a=i.default.clone(t.user),o=n.get(l),s={};o[a.id]||(o=r(o,a,s),s.changed&&n.set(l,o))}],syncChannelMembers:[function(e){var t=e.props,n=e.state,a=t.result;if(200===t.status&&a){var o=n.get(l),s={};a.forEach(function(e){var t=e.user;o=r(o,t,s)}),s.changed&&n.set(l,o)}}],syncWorkspaceMembers:[function(e){var t=e.props,n=e.state,a=t.result;if(200===t.status&&a){var o=n.get(l),s={};a.forEach(function(e){var t=e.user;o=r(o,t,s)}),s.changed&&n.set(l,o)}}],syncFetchedMentionInfo:[a],syncFetchedStarInfo:[a],syncFetchedReplyInfo:[a],syncSearchMessageResult:[a],syncFetchedReportInfo:[function(e){var t=e.props,n=e.state,a=t.reports,o=n.get(l),s={};a.forEach(function(e){var t=e.reportUser,n=e.message,a=n.author,i=n.mentions;o=r(o,t,s),o=r(o,a,s),i.forEach(function(e){o=r(o,e,s)})}),s.changed&&n.set(l,o)}],idle:[function(e){var t=e.props,n=e.state,a=n.get(u);if(a){var o=n.get(l),s={},c=i.default.clone(o[a]);c.presenceStatus=t.idle?"idle":"online",o=r(o,c,s),s.changed&&n.set(l,o)}}],presenceUpdate:[function(e){var t=e.props,n=e.state,a=t.userId,o=t.status,s=n.get(l),u={},c=i.default.clone(s[a]);c&&(c.presenceStatus=o,s=r(s,c,u),u.changed&&n.set(l,s))}]},getState:function(){return{currentUserId:null,users:{}}},getCurrentUserId:function(e){return e.get(u)},getCurrentUser:function(e){return e.get([].concat(l,[e.get(u)]))},getUsers:function(e){return e.get(l)},getUser:function(e,t){return e.get([].concat(l,[t]))}}}).call(t,"views/v2/modules/messages/UserStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(n(2)),m=r(n(1)),v=r(n(3)),_=r(n(20)),y=r(n(13)),b=r(n(4)),S=r(n(726)),w=r(n(6)),E=r(n(727)),O=(l=(0,b.default)(S.default),u=(0,w.default)(E.default),l(c=u((f=d=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.titleClass,r=e.error,o=e.children,s=e.width,i=e.onClose,l=e.onSubmit,u=e.submitStyle,c=e.submitText,d=e.closeText,f=e.submitInProgress,g=e.cancelInProgress,h=e.onDelete,v=e.deleteEnable,b=e.showSubmitButton,S=e.buttonTheme,w=e.showCancelButton,E=e.reverseButtonOrder,O=e.onCancel,I=e.showTitleCloseButton,k=e.submitDisable,C=e.buttonWrapClass,T=a(e,["title","titleClass","error","children","width","onClose","onSubmit","submitStyle","submitText","closeText","submitInProgress","cancelInProgress","onDelete","deleteEnable","showSubmitButton","buttonTheme","showCancelButton","reverseButtonOrder","onCancel","showTitleCloseButton","submitDisable","buttonWrapClass"]),j=m.default.createElement("span",{className:this.ss("error")},r),M=s?{width:s}:{},P=c||"yes/no"===u&&this.__("yes")||"ok/cancel"===u&&this.__("ok"),x=d||"yes/no"===u&&this.__("no")||"ok/cancel"===u&&this.__("cancel"),A="blue";S&&(A=S);var R=E?A:"default",D=E?"default":A,N=void 0;return"none"!==u&&(N=m.default.createElement("div",{className:this.ss("button-wrap",E&&"reverse",C)},v&&m.default.createElement("button",{className:this.ss("button-delete"),onClick:function(){return h&&h()}},m.default.createElement("div",{className:this.ss("close","ifont","ifont-icons-trash")})),m.default.createElement("div",{className:this.ss("buttons")},w&&m.default.createElement(y.default,{className:this.ss("button",R),label:x,theme:R,onClick:function(){return O?O():i&&i()},loading:g}),b&&m.default.createElement(y.default,{className:this.ss("button",D),theme:D,label:P,disabled:k,onClick:function(){return l&&l()},loading:f})))),m.default.createElement(_.default,p({},T,{onCloseModal:function(){return i&&i()},className:this.ss("dialog-contents")}),m.default.createElement("div",{ref:"contents",className:this.ss("dialog-contents"),style:M},m.default.createElement("div",{className:this.ss("title-wrap")},m.default.createElement("div",{className:n||this.ss("title")},t||"",r&&j),I&&m.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return i&&i()}},m.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),m.default.createElement("div",{className:this.ss("content")},o),N))}}]),t}(),d.propTypes={title:h.default.string,titleClass:h.default.string,children:h.default.any,submitStyle:h.default.oneOf(["yes/no","ok/cancel","none"]),onSubmit:h.default.func,onDelete:h.default.func,onCancel:h.default.func,onClose:h.default.func,deleteEnable:h.default.bool,submitText:h.default.string,closeText:h.default.string,submitInProgress:h.default.bool,cancelInProgress:h.default.bool,showCancelButton:h.default.bool,showTitleCloseButton:h.default.bool,showSubmitButton:h.default.bool,buttonTheme:h.default.string,reverseButtonOrder:h.default.bool,error:h.default.string,width:h.default.number,backDropOpacity:h.default.number,submitDisable:h.default.bool,buttonWrapClass:h.default.string},d.defaultProps={showCancelButton:!0,showSubmitButton:!0,submitStyle:"ok/cancel",showTitleCloseButton:!0},c=f))||c)||c);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var n=e.getState("draft.editorStates."+t);if(n){var a=n.getCurrentContent().getFirstBlock();a&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:r.EditorState.forceSelection(n,new r.SelectionState({anchorKey:a.getKey(),anchorOffset:0,focusKey:a.getKey(),focusOffset:0}))}))}}function t(e,t){var n=e.getState("draft.editorStates."+t);if(n){var a=n.getCurrentContent().getLastBlock();a&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:r.EditorState.forceSelection(n,new r.SelectionState({anchorKey:a.getKey(),anchorOffset:"atomic"===a.getType()?0:a.getLength(),focusKey:a.getKey(),focusOffset:"atomic"===a.getType()?0:a.getLength()}))}))}}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.editorKey,o=n.nextEditorKey,s=n.prevEditorKey,i=n.renderOnly,l=n.returnToNextEditor,u=void 0!==l&&l;if(!a)throw new Error("editorKey is empty");return{keyBindingFn:i?void 0:function(n,a){var i=a.getEditorState,l=a.getProps;if(!n.shiftKey){var u=i();return 37===n.keyCode&&s&&(0,r.isSelectionAtBlockStart)(u)&&(0,r.isSelectionAtFirstBlock)(u)?(t(l().controller,s),""):39===n.keyCode&&o&&(0,r.isSelectionAtBlockEnd)(u)&&(0,r.isSelectionAtLastBlock)(u)?(e(l().controller,o),""):void 0}},onDownArrow:i?void 0:function(t,n){var a=n.getEditorState,s=n.getProps;if(!t.shiftKey){var i=a();o&&((0,r.isAtomicBlockSelected)(i)||(0,r.isFocusAtLastLine)())&&(0,r.isSelectionAtLastBlock)(i)&&(t.preventDefault(),e(s().controller,o))}},onUpArrow:i?void 0:function(e,n){var a=n.getEditorState,o=n.getProps;if(!e.shiftKey){var i=a();s&&((0,r.isAtomicBlockSelected)(i)||(0,r.isFocusAtFirstLine)())&&(0,r.isSelectionAtFirstBlock)(i)&&(e.preventDefault(),t(o().controller,s))}},handleReturn:i?void 0:u&&function(t,n,r){var a=r.getProps;return o?(e(a().controller,o),"handled"):"not-handled"}}};var r=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly,r=e.registerActionPath;if(!t)throw new Error("editorKey is empty");return{onChange:n?void 0:function(e,t){var n=t.getEditorState,a=t.getProps,o=n();if(!o||o.getCurrentContent()!==e.getCurrentContent()){var s=a().controller,i=r||"project.draftChanged";s.getSignal(i)()}return e}}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=e.props,n=e.state,r=e.controller,a=t.url||n.get("currentUrl"),o=!!t.isReg,s=n.get("loginUser");if((0,p.isDevice)()||!0!==d.default.LOGIN_POPUP||null!==s){var i=(window&&window.location||{}).pathname,l=a||i;null===s?o?(0,f.default)("/auth/signup?redirect_to="+encodeURIComponent(l)):(0,f.default)("/auth/login?redirect_to="+encodeURIComponent(l)):(0,f.default)(l)}else r.getSignal("header.openLoginWindow")({url:a,isReg:o})}function s(e){var t=e.state,n=e.path;return t.get("loginUser")?n.yes():n.no()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.login"],["header.login"]),u=n(9),c=n(0),d=r(n(14)),f=r(n(19)),p=n(26),g=["header","login"],h={open:!1};t.default={name:e,depends:[],signals:{loginTo:[o],openLoginWindow:[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.url,s=t.isReg,i={redirect_to:o||n.get("currentUrl"),locale:n.get("locale")};return s&&(i.is_reg=!0),r.get("/api/authUrl",i).then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,r=t.result;if(200===t.status&&r){var a=r.url;n.set([].concat(g),i({},h,{open:!0,url:a}))}}],error:[]}],closeLoginWindow:[(0,u.set)((0,c.state)(l),h)]},getServices:function(){},getState:function(){return{login:h}},LoginRequired:function(e){var t=[];return t=Array.isArray(e)?[].concat(a(e)):[e],[s,{yes:[t],no:[o]}]}}}).call(t,"views/modules/common/header/LoginStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return{id:e.id,type:e.type,workspaceId:e.workspaceId||"",recipientId:e.recipient&&e.recipient.id||null,proposalId:e.proposalId||"",projectId:e.projectId||"",ticketId:e.ticketId||"",eventId:e.eventId||"",groupId:e.groupId||"",name:e.name||"",thumbnail:e.thumbnail||"",teamAvatar:e.teamAvatar||"",topic:e.topic||"",isArchived:e.isArchived||!1,readonly:e.readonly||!1,stickTimestamp:e.stickTime||"",isMute:e.isMute||!1,lastMessageId:e.lastMessage?e.lastMessage.id:e.lastMessageId||"",tags:e.tags||[],ticket:e.ticket||null,memberCount:e.memberCount||0,liveChannelId:e.liveChannelId||"",stream:e.stream||"",live:e.live||!1,milestone:e.milestone||[],records:[].concat(a(e.records||[])).reverse(),onlineMemberCount:e.onlineMemberCount||null,event:e.event,meetUpEventId:e.meetUpEventId,privateVisible:e.privateVisible,directChannelKey:e.directChannelKey||""}}function s(e){return function(t){var n=t.props,r=t.state,a=n.channelId;r.set("messages.stickStatus."+a,e)}}function i(e){return function(t){var n=t.props,r=t.state,a=n.channelId;r.set("messages.muteStatus."+a,e)}}function l(e){var t=e.controller,n=e.props.result;t.getSignal("messages.channelSelect")({channelId:n.id,workspaceId:n.workspaceId}),t.getSignal("messages.handleChannelScroll")()}function u(e){return function(t){t.state.set("messages.addMember.submitStatus",e)}}function c(e){var t=e.props,n=e.state,r=t.channelId,a=t.memberCount,o=n.get([].concat(_,[r]));if(o&&a&&o.memberCount!==a){var s=d({},o,{memberCount:a});n.set([].concat(_,[r]),s)}}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=r(n(22)),p=r(n(19)),g=r(n(41)),h=r(n(53)),m=r(n(7)),v="messages",_=[v,"channels"];t.default={name:e,depends:[g.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r=t.directChannels,a=t.privateChannels,s=t.publicChannels,i=t.ticketChannels,l=t.lobbyChannels,u=t.liveChannels,c=t.groupMap,f=t.skillMap,p=t.languageMap,g=t.placeMap,h=n.get(_),m=h?d({},h):{};r.forEach(function(e){m[e.id]=o(e)}),a.forEach(function(e){m[e.id]=o(e)}),s.forEach(function(e){m[e.id]=o(e)}),i.forEach(function(e){m[e.id]=o(e)}),l.forEach(function(e){m[e.id]=o(e)}),u.forEach(function(e){m[e.id]=o(e)}),n.set(_,m),n.merge([v,"groupMap"],c||{}),n.merge([v,"skillMap"],f||{}),n.merge([v,"languageMap"],p||{}),n.merge([v,"placeMap"],g||{})}],channelCreate:[function(e){var t=e.props,n=e.state;n.set([].concat(_,[t.id]),o(t)),n.merge([v,"groupMap"],t.groupMap||{}),n.merge([v,"skillMap"],t.skillMap||{}),n.merge([v,"languageMap"],t.languageMap||{}),n.merge([v,"placeMap"],t.placeMap||{})}],channelUpdate:[function(e){var t=e.props;e.state.set([].concat(_,[t.id]),o(t))}],channelDelete:[function(e){var t=e.props,n=e.state,r=e.controller,a=n.get("messages.channels")[t.id];a&&"lobby"===a.type&&r.getSignal("messages.openExplore")({workspaceId:a.workspaceId}),n.unset([].concat(_,[t.id]))}],fetchMessagesSuccess:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.messages,o=[].concat(_,[r]),s=n.get(o);if(s){var i=!1;a.forEach(function(e){e.id>s.lastMessageId&&(i||(s=f.default.clone(s),i=!0),s.lastMessageId=e.id)}),i&&n.set(o,s)}}],messageCreate:[function(e){var t=e.props,n=e.state,r=[].concat(_,[t.channelId]),a=n.get(r);a&&a.lastMessageId<t.id&&"SENDING"!==t.state&&((a=f.default.clone(a)).lastMessageId=t.id,n.set(r,a))}],closeChannel:[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=n.get([].concat(_,[o]));return s&&"direct"===s.type?r.post("/api/channels/"+o+"/close").then(a.success).catch(a.error):a.dummy()},{success:[function(e){var t=e.state,n=e.props,r=e.controller,a=n.channelId,o=t.get([].concat(_,[a]));r.getSignal("messages.channelDelete")(o)}],error:[],dummy:[]}],stickChannel:[s(m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=n.get([].concat(_,[o]));return s&&!s.stickTimestamp?r.post("/api/channels/"+o+"/stick").then(a.success).catch(a.error):a.dummy()},{success:[s(m.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[s(m.default.failed)],dummy:[]}]],unStickChannel:[s(m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=n.get([].concat(_,[o]));return s&&s.stickTimestamp?r.post("/api/channels/"+o+"/unStick").then(a.success).catch(a.error):a.dummy()},{success:[s(m.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[s(m.default.failed)],dummy:[]}]],muteChannel:[i(m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=n.get([].concat(_,[o]));return s&&!s.isMute?r.post("/api/channels/"+o+"/mute").then(a.success).catch(a.error):a.dummy()},{success:[i(m.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[i(m.default.failed)],dummy:[]}]],unMuteChannel:[i(m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=n.get([].concat(_,[o]));return s&&s.isMute?r.post("/api/channels/"+o+"/unMute").then(a.success).catch(a.error):a.dummy()},{success:[i(m.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[i(m.default.failed)],dummy:[]}]],toggleChannelReadonly:[[function(e){var t=e.props,n=e.http,r=e.path,a=t.channelId;return t.value?n.post("/api/channels/"+a+"/makeReadonly").then(r.success).catch(r.error):n.post("/api/channels/"+a+"/cancelReadonly").then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[]}]],openProposalChannel:[function(e){var t="/messages/p/"+e.props.proposalId;window.open(t,"_blank")}],createGroupChannel:h.default.EmailRequired([u(m.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.selectedUserIds,o=t.workspaceId;return n.post("/api/workspaces/"+o+"/channels_group",{memberIds:a,name:""}).then(r.success).catch(r.error)},{success:[u(m.default.succeeded),l],error:[u(m.default.failed)]}]]),createDirectChannel:[u(m.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.recipientId,o=t.workspaceId;return n.post("/api/workspaces/"+o+"/channels_direct",{recipientId:a}).then(r.success).catch(r.error)},{success:[u(m.default.succeeded),l],error:[u(m.default.failed)]}]],channelMemberAdd:[c],channelMemberRemove:[c],workspaceDelete:[function(e){var t=e.controller,n=e.props,r=e.state.get(_);Object.values(r).forEach(function(e){e.workspaceId===n.id&&t.getSignal("messages.channelDelete")(e)})}],touchChannel:[[function(e){var t=e.controller,n=e.props,r=e.http,a=e.path,o=e.state,s=n.channelId,i=o.get([].concat(_,[s]));return i?(t.getSignal("messages.channelSelect")({channelId:i.id,workspaceId:i.workspaceId}),a.dummy()):r.get("/api/channels/"+s+"/touch").then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelReady")(r)}],error:[],dummy:[]}]],joinChannel:[[function(e){var t=e.controller,n=e.props,r=e.http,a=e.path,o=e.state,s=n.channelId,i=o.get([].concat(_,[s]));return i?(t.getSignal("messages.channelSelect")({channelId:i.id,workspaceId:i.workspaceId}),a.dummy()):r.post("/api/channels/"+s+"/join").then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&r.forEach(function(e){n.getSignal("messages.channelCreate")(e),n.getSignal("messages.channelSelect")({channelId:e.id,workspaceId:e.workspaceId})})}],error:[],dummy:[]}]],channelReady:[function(e){var t=e.props,n=e.state,r=t.normalChannels,a=t.directChannel,s=n.get(_),i=s?d({},s):{};r&&r.forEach(function(e){i[e.id]=o(e)}),a&&(i[a.id]=o(a)),n.set(_,i)}]},getServices:function(){return{locationHref:p.default}},getState:function(){return{channels:{},stickStatus:{},muteStatus:{}}},getChannel:function(e,t){return e.get([].concat(_,[t]))},getLobbyChannel:function(e){var t=e.get(_);return Object.values(t).find(function(e){return"lobby"===e.type})},getChannels:function(e){return e.get(_)},getWorkspaceChannels:function(e,t){var n=e.get(_);return Object.values(n).filter(function(e){return e.workspaceId===t}).reduce(function(e,t){return e[t.id]=t,e},{})}}}).call(t,"views/v2/modules/messages/ChannelStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return{channelId:e,ready:!1,hasMore:!1,hasMoreNew:!1,loading:!1,loadingFailed:!1,loadingParams:null,loadingMode:null,scrollMessageId:"",highlightMessageId:"",messagesList:[],messages:{},moreMessageIds:[]}}function l(e,t,n,r,a){return{id:b.default.createNonce(),type:"normal",channelId:t,author:a||I.default.getCurrentUser(e),parentMessageId:r||"",quoteMessageId:"",replyMessageIds:[],replyUsers:[],lastReplyTimestamp:0,content:n,attachments:[],reactions:[],mentionEveryone:!1,mentions:[],state:"SENDING"}}function u(e){return"failed-message-"+e}function c(e,t,n,r){var a=t.content||"";if("call"===t.type){var o=t.call.duration,s=t.author.fullname,i=e.get();a=o?(0,E.i18n)(i,w.default,"call_is_ended",{fullname:s,noMarkDown:!0}):(0,E.i18n)(i,w.default,"call_is_created",{fullname:s,noMarkDown:!0})}else if("normal"!==t.type){var l=e.get();a=(0,E.i18n)(l,w.default,""+t.type,m({},t.data,{noMarkDown:!0}))}var u=_.default.parse(a,!0,{channelId:t.channelId,mentioned:n,authorIsAdmin:r,mentionType:"message",messageId:t.id}),c={};return c[t.author.id]=t.author,t.mentions.forEach(function(e){c[e.id]=e}),{contentParsed:u,contentParsedPlainText:y.default.unparse(a,{users:c})}}function d(e,t){var n=j.default.getMember(e,t.channelId,t.author.id);return n&&n.colorString}function f(e){var t={};return e.forEach(function(e){var n=t[e.type]||{};n[e.user.id]={id:e.id,channelId:e.channelId,messageId:e.messageId,type:e.type,updatedTime:e.updatedTime,userId:e.user.id},t[e.type]=n}),t}function p(e,t){var n=t.mentionEveryone||t.mentions.some(function(n){var r=e.get("messages.channels."+t.channelId+".type"),a=I.default.getCurrentUserId(e),o=n.id===a;if("ticket"===r){var s=e.get("messages.channels."+t.channelId),i=s.ticketId,l=s.workspaceId,u=e.get("support.tickets.entities."+i+".data.assignee")||{},c=e.get("messages.workspaces."+l)||{},d=c.residentId,f=c.botId;u!==a&&d!==a||(o=n.id===f)}return o}),r=j.default.getMember(e,t.channelId,t.author.id),a=r&&("admin"===r.role||"owner"===r.role),o=c(e,t,n,a),s=o.contentParsed,i=o.contentParsedPlainText,l=(t.replyUsers||[]).map(function(e){return e.id});return{id:t.id,type:t.type,call:t.call,channelId:t.channelId,quoteMessageId:t.quoteMessageId||"",parentMessageId:t.parentMessageId||"",authorId:t.author.id,colorString:d(e,t),content:t.content||"",origContent:t.origContent||"",contentParsed:s,contentParsedPlainText:i,attachments:t.attachments,mentions:t.mentions.map(function(e){return e.id}),mentionEveryone:t.mentionEveryone,mentioned:n,timestamp:b.default.extractTimestamp(t.id),editedTimestamp:b.default.extractTimestamp(t.lastEditedId||""),state:t.state||"SENT",nonce:t.nonce,embeds:t.embeds||[],data:t.data,starred:t.starred,reactions:f(t.reactions||[]),replyMessageIds:t.replyMessageIds||[],replyUserIds:l,lastReplyTimestamp:b.default.extractTimestamp(t.lastReplyId||""),pending:t.pending,deletedTime:t.deletedTime||""}}function g(e){var t=e.props,n=e.state,r=e.http,a=e.controller,o=t.channelId,s=t.before,i=t.after,l=t.around,u=R.get(n,o),c={},d="latest";l?(c={around:l},d="around"):s?(c={before:s},d="before"):i&&(c={after:i},d="after"),u.setProps({loading:!0,loadingFailed:!1,loadingParams:c,loadingMode:d}),"latest"!==d&&"around"!==d||(u.setProps({ready:!1,hasMore:!1,hasMoreNew:!1}),u.reset([])),r.get("/api/channels/"+o+"/messages",c).then(function(e){var n=e.result;a.getSignal("messages.fetchMessagesSuccess")({loadingParams:c,channelId:t.channelId,messages:n.items,hasMore:n.hasMore,hasMoreNew:n.hasMoreNew,parents:n.parents,quotes:n.quotes})},function(){a.getSignal("messages.fetchMessagesError")({loadingParams:c,channelId:t.channelId,error:"request error"})})}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=r(n(22)),_=r(n(40)),y=r(n(78)),b=r(n(34)),S=r(n(597)),w=r(n(79)),E=n(6),O=n(451),I=r(n(27)),k=r(n(80)),C=r(n(121)),T=r(n(35)),j=r(n(41)),M=r(n(32)),P=r(n(454)),x=["messages","channelMessages"],A="fail-message-ids",R=function(){function e(t,n){s(this,e),this.state=t,this.channelId=n,this.key=[].concat(x,[this.channelId])}return h(e,null,[{key:"getRaw",value:function(e){return e.get(x)}},{key:"get",value:function(t,n){var r=[].concat(x,[n]);return t.get(r)||t.set(r,i(n)),new e(t,n)}},{key:"clear",value:function(e,t){var n=[].concat(x,[t]);e.unset(n)}}]),h(e,[{key:"getRaw",value:function(){return this.state.get(this.key)}},{key:"setRaw",value:function(e){this.state.set(this.key,e)}},{key:"update",value:function(e){var t=this.getRaw(),n=t.messages[e.id];n&&(n.editedTimestamp<e.editedTimestamp||e.embeds||e.starred!==n.starred||e.reactions!==n.reactions)&&((t=v.default.clone(t)).messages=v.default.clone(t.messages),"SEND_FAILED"===e.state&&(e.state="SENT"),t.messages[e.id]=e,this.setRaw(t))}},{key:"setMessageState",value:function(e,t){var n=this.getRaw(),r=n.messages[e];r&&r.state!==t&&((n=v.default.clone(n)).messages=v.default.clone(n.messages),n.messages[e]=v.default.clone(n.messages[e]),n.messages[e].state=t,this.setRaw(n))}},{key:"setProps",value:function(e){var t=e.ready,n=e.hasMore,r=e.hasMoreNew,a=e.loading,o=e.loadingFailed,s=e.loadingParams,i=e.loadingMode,l=e.scrollMessageId,u=e.highlightMessageId,c=this.getRaw();(c=v.default.clone(c)).ready=void 0!==t?t:c.ready,c.hasMore=void 0!==n?n:c.hasMore,c.hasMoreNew=void 0!==r?r:c.hasMoreNew,c.loading=void 0!==a?a:c.loading,c.loadingFailed=void 0!==o?o:c.loading,c.loadingParams=void 0!==s?s:c.loadingParams,c.loadingMode=void 0!==i?i:c.loadingMode,c.scrollMessageId=void 0!==l?l:c.scrollMessageId,c.highlightMessageId=void 0!==u?u:c.highlightMessageId,this.setRaw(c)}},{key:"replace",value:function(e,t){var n=this.getRaw();n.messages[e]&&((n=v.default.clone(n)).messages=v.default.clone(n.messages),n.messagesList=v.default.clone(n.messagesList),delete n.messages[e],n.messages[t.id]=t,n.messagesList[n.messagesList.indexOf(e)]=t.id,this.setRaw(n))}},{key:"unset",value:function(e){var t=this.getRaw();t.messages[e.id]&&((t=v.default.clone(t)).messages=v.default.clone(t.messages),t.messagesList=v.default.clone(t.messagesList),delete t.messages[e.id],t.messagesList.splice(t.messagesList.indexOf(e.id),1),this.setRaw(t))}},{key:"replaceAfterReSend",value:function(e,t){var n=this.getRaw();if(n.messages[e]){(n=v.default.clone(n)).messages=v.default.clone(n.messages),n.messagesList=v.default.clone(n.messagesList),delete n.messages[e],n.messages[t.id]=t;var r=n.messagesList.indexOf(e);n.messagesList.splice(r,1),-1===n.messagesList.indexOf(t.id)&&n.messagesList.push(t.id),this.setRaw(n)}}},{key:"merge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v.default.clone(this.getRaw());r.messages=v.default.clone(r.messages),e=e.filter(function(e){var t=!!Object.values(r.messages).find(function(t){return t.nonce===e.id});if(!t){var n=r.messages[e.id];n&&n.content===e.content&&0!==(n.embeds||[]).length||(r.messages[e.id]=e)}return-1===r.messagesList.indexOf(e.id)&&!t}),t.forEach(function(e){r.messages[e.id]=e});var a=!1,o=!1;if(e.length){n?(r.messagesList=e.map(function(e){return e.id}).concat(r.messagesList),o=!0):(r.messagesList=r.messagesList.concat(e.map(function(e){return e.id})),a=!0);var s=e.reduce(function(e,t){return t.id>e?t.id:e},"");r.moreMessageIds=r.moreMessageIds.filter(function(e){return e>s})}this.setRaw(r),a&&this.truncateOldMessages(),o&&this.truncateNewMessages()}},{key:"reset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=v.default.clone(this.getRaw());n.messagesList=e.map(function(e){return e.id}),n.messages=[].concat(o(e),o(t)).reduce(function(e,t){return e[t.id]=t,e},{}),n.moreMessageIds=[],this.setRaw(n)}},{key:"truncateOldMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=this.getRaw(),n=t.messagesList.length-e;if(!(n<=0)){(t=v.default.clone(t)).hasMore=!0,t.messages=v.default.clone(t.messages);for(var r={},a=n;a<t.messagesList.length;a++){var o=t.messagesList[a];r[o]=!0;var s=t.messages[o].parentMessageId;s&&(r[s]=!0)}for(var i=0;i<n;i++){var l=t.messagesList[i];r[l]||delete t.messages[l]}t.messagesList=t.messagesList.slice(n),this.setRaw(t)}}},{key:"truncateNewMessages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=this.getRaw();if(!(t.messagesList.length-e<=0)){(t=v.default.clone(t)).hasMoreNew=!0,t.messages=v.default.clone(t.messages);for(var n={},r=0;r<e;r++){var a=t.messagesList[r];n[a]=!0;var o=t.messages[a].parentMessageId;o&&(n[o]=!0)}for(var s=e;s<t.messagesList.length;s++){var i=t.messagesList[s];n[i]||delete t.messages[i]}t.messagesList=t.messagesList.slice(0,e),this.setRaw(t)}}},{key:"addMoreMessageId",value:function(e){var t=this.getRaw();t.moreMessageIds.includes(e)||((t=v.default.clone(t)).moreMessageIds=t.moreMessageIds.concat([e]),this.setRaw(t))}}]),e}();t.default={name:e,depends:[k.default,I.default,C.default,j.default,T.default],signals:{channelReady:[function(e){var t=e.props,n=e.state;(t.messagesItems||[]).forEach(function(e){var t=e.hasMore,r=e.items,a=e.parents,s=e.quotes,i=R.get(n,e.channelId);i.setProps({ready:!0,hasMore:t,hasMoreNew:void 0,loading:!1});var l=(0,v.default)(r).reverse().map(function(e){return p(n,e)}).value(),u=a.map(function(e){return p(n,e)}),c=s.map(function(e){return p(n,e)}),d=v.default.sortBy(l,function(e){return e.id});i.merge(d,[].concat(o(u),o(c)),!0)})}],connectionOpen:[function(e){var t=e.state,n=e.props,r=t.get("currentPath"),a=T.default.getChannelId(t),o=R.getRaw(t);!r||-1===r.indexOf("/workspace")&&-1===r.indexOf("/session_detail")||(a=t.get("channelId"));var s=n.lobbyChannels.find(function(e){return e.id===a}),i=s?s.liveChannelId:"";v.default.forEach(o,function(e){e.channelId===a||i&&e.channelId===i||R.clear(t,e.channelId)})}],fetchMessages:[g],fetchMessagesSuccess:[function(e){var t=e.props,n=e.state,r=t.loadingParams,a=t.channelId,s=t.hasMore,i=t.hasMoreNew,l=t.messages,c=t.parents,d=t.quotes,f=R.get(n,a),g=f.getRaw(),h=g.loading,m=g.loadingParams,_=g.loadingMode;if(h&&v.default.isEqual(m,r)){f.setProps({ready:!!["latest","around"].includes(_)||void 0,hasMore:["latest","around","before"].includes(_)?s:void 0,hasMoreNew:["around","after"].includes(_)?i:void 0,loading:!1});var y=(0,v.default)(l).reverse().map(function(e){return p(n,e)}).value(),b=c.map(function(e){return p(n,e)}),S=d.map(function(e){return p(n,e)}),w=JSON.parse(localStorage.getItem(A));v.default.forEach(w,function(e){var t=JSON.parse(localStorage.getItem(u(e)));t&&t.channelId===a&&y.push(t)});var E=v.default.sortBy(y,function(e){return e.id});"latest"===_?f.merge(E,[].concat(o(b),o(S)),!0):"around"===_?f.reset(E,[].concat(o(b),o(S))):"before"===_?f.merge(E,[].concat(o(b),o(S)),!0):"after"===_&&f.merge(E,[].concat(o(b),o(S)),!1)}}],fetchMessagesError:[function(e){var t=e.props,n=e.state,r=t.loadingParams,a=t.channelId,o=R.get(n,a),s=o.getRaw(),i=s.loading,l=s.loadingParams;i&&v.default.isEqual(l,r)&&(o.setProps({loading:!1,loadingFailed:!0}),console.log("failed to get messages for channelId "+a+": ",t.error))}],loadMore:[function(e){for(var t=e.props,n=e.state,r=a(e,["props","state"]),o=t.channelId,s=R.get(n,o).getRaw(),i=s.messagesList,l=s.messages,u=void 0,c=0;c<i.length;c++){var d=i[c],f=l[d];if(f&&"SENT"===f.state){u=d;break}}u&&g(m({props:m({},t,{before:u}),state:n},r))}],loadMoreNew:[function(e){for(var t=e.props,n=e.state,r=a(e,["props","state"]),o=t.channelId,s=R.get(n,o).getRaw(),i=s.messagesList,l=s.messages,u=void 0,c=i.length-1;c>=0;c--){var d=i[c],f=l[d];if(f&&"SENT"===f.state){u=d;break}}u&&g(m({props:m({},t,{after:u}),state:n},r))}],channelCreate:[function(e){var t=e.state,n=e.props;R.get(t,n.id)}],channelSelect:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channelId,o=M.default.getChannel(n,a);if(o){if(o.liveChannelId){var s=R.get(n,o.liveChannelId).getRaw();s.loading||(s.ready?s.hasMoreNew||r.getSignal("messages.loadMoreNew")({channelId:o.liveChannelId}):r.getSignal("messages.fetchMessages")({channelId:o.liveChannelId}))}var i=R.get(n,a).getRaw();i.loading||(i.ready?i.hasMoreNew||r.getSignal("messages.loadMoreNew")({channelId:a}):r.getSignal("messages.fetchMessages")({channelId:a}))}}],channelDelete:[function(e){var t=e.props,n=e.state,r=t.id;R.clear(n,r)}],updateDimensions:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channelId,o=R.get(n,a).getRaw();o.ready&&!o.loading&&(o.hasMore&&C.default.scrolledToTop(n,a)?r.getSignal("messages.loadMore")({channelId:a}):o.hasMoreNew&&C.default.scrolledToBottom(n,a)&&r.getSignal("messages.loadMoreNew")({channelId:a}))}],messageCreate:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channelId,o=t.parentMessage,s=t.quotedMessage,i=p(n,t),l=R.get(n,a),u=l.getRaw();u.ready&&u.hasMoreNew?"SENDING"===i.state?r.getSignal("messages.fetchMessages")({channelId:a}):l.addMoreMessageId(i.id):(o&&l.merge([],[p(n,o)]),s&&l.merge([],[p(n,s)]),i.nonce&&u.messages[i.nonce]?l.replace(i.nonce,i):l.merge([i]),i.nonce&&!t.fromAjaxCall&&i.contentParsedPlainText&&"voice"!==i.type&&i.contentParsedPlainText.length<=40&&Object.values((0,O.getPipe)(a)).forEach(function(e){return e(i)}))}],messageUpdate:[function(e){var t=e.props,n=e.state,r=t.channelId,a=p(n,t);R.get(n,r).update(a)}],messageDelete:[function(e){var t=e.props,n=e.state,r=p(n,t),a=r.channelId;R.get(n,a).update(r)}],sendMessage:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channelId,o=t.content,s=t.parentMessage,i=t.trackingId,u=n.get("messages.channels."+a)||{},c=I.default.getCurrentUser(n),d=n.get("messages.selectedWorkspaceId"),f=n.get("messages.workspaces."+d);!j.default.getMember(n,a,c.id)&&(f.residentId===c.id||"ticket"===u.type&&n.get("support.tickets.entities."+u.ticketId+".data.assignee"===c.id))&&(c=I.default.getUser(n,f.botId));var p=l(n,a,o,s?s.id:"",c),g=R.get(n,a);s&&g.merge([],[s]);var h=P.default.getPendingQuoteMessage(n,a);h&&(g.merge([],[h]),r.getSignal("messages.unsetPendingQuote")({liveChannelId:a})),r.getSignal("messages.messageCreate")(p),S.default.enqueue({type:"send",message:{channelId:a,content:o,nonce:p.id,parentMessageId:p.parentMessageId,quoteMessageId:h?h.id:null}},function(e){if(200===e.status){var t=m({},e.result,{fromAjaxCall:!0});r.getSignal("messages.messageCreate")(i?m({},t,{trackingId:i}):t)}else{var n=e&&e.result&&e.result.target,a=e&&e.result&&e.result.errorCode;n&&"ticketChannelClosed"===n?r.getSignal("header.showMessage")({message:"support_ticket_resolved"}):"rate_error"===a?r.getSignal("header.showMessage")({message:e.result.messages}):r.getSignal("messages.sendMessageFailed")(i?m({},p,{trackingId:i}):p)}})}],editMessage:[function(e){var t=e.props,n=e.controller,r=t.channelId,a=t.id,o=t.content;S.default.enqueue({type:"edit",message:{channelId:r,content:o,messageId:a}},function(e){200===e.status?(n.getSignal("messages.editMessageEnd")(),n.getSignal("messages.messageUpdate")(e.result)):n.getSignal("messages.editMessageEnd")()})}],editMessageEnd:[function(){}],deleteMessage:[function(e){var t=e.props,n=e.controller,r=t.messageId,a=t.deleteAsAdmin;S.default.enqueue({type:"delete",message:{messageId:r,deleteAsAdmin:a}},function(e){200===e.status?(n.getSignal("messages.deleteMessageEnd")(),n.getSignal("messages.messageUpdate")(e.result)):n.getSignal("messages.deleteMessageEnd")()})}],reSendMessage:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.message,o=JSON.parse(localStorage.getItem(A)),s=o.indexOf(a.id);s>-1&&(o.splice(s,1),localStorage.setItem(A,JSON.stringify(o)),localStorage.removeItem(u(a.id))),R.get(r,a.channelId).unset(a),n.getSignal("messages.sendMessage")({channelId:a.channelId,content:a.content,parentMessageId:a.parentMessageId})}],messageReSendSuccess:[function(e){var t=e.props,n=e.state,r=t.oldMsgId,a=t.newMessage,o=a.channelId,s=p(n,a);R.get(n,o).replaceAfterReSend(r,s)}],sendMessageFailed:[function(e){var t=e.props,n=e.state,r=t,a=R.get(n,r.channelId);a.setMessageState(r.id,"SEND_FAILED");var o=a.getRaw().messages[r.id];if(o){var s=u(r.id),i=JSON.parse(localStorage.getItem(A))||[];i.push(r.id),localStorage.setItem(A,JSON.stringify(i)),localStorage.setItem(s,JSON.stringify(o))}}],chooseMessage:[function(e){var t=e.props,n=e.state,r=t.messageId,a=t.channelId;R.get(n,a).setProps({scrollMessageId:r})}],unsetScrollMessage:[function(e){var t=e.props,n=e.state,r=t.channelId;R.get(n,r).setProps({scrollMessageId:""})}],setHighlightMessageId:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.messageId;R.get(n,r).setProps({highlightMessageId:a})}],unsetHighlightMessageId:[function(e){var t=e.props,n=e.state,r=t.channelId;R.get(n,r).setProps({highlightMessageId:""})}]},getState:function(){return{channelMessages:{}}},getMessages:function(e,t){return e.get([].concat(x,[t]))},getMessage:function(e,t,n){var r=this.getMessages(e,t);return r&&r.messages&&r.messages[n]},transformMessage:p}}).call(t,"views/v2/modules/messages/MessageStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(596)),a=Date.UTC(2016,0,1),o=r.default.fromNumber(1);t.default={extractTimestamp:function(e){return e?r.default.fromString(e,!0,16).shiftRight(22).add(r.default.fromNumber(a)).toNumber():0},createNonce:function(){for(var e=r.default.fromNumber(Date.now()).subtract(a).add(o).shiftLeft(22).subtract(o).toString(16);e.length<16;)e="0"+e;return e}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(32)),s=r(n(55)),i=["messages","selectedChannelIds"],l=["messages","needScrollTicker"];t.default={name:e,depends:[o.default],signals:{channelReady:[function(e){var t=e.state,n=e.props,r=e.controller,o=n.workspace,s=n.channelId,l=t.get(i),u=l?a({},l):{};u[o.id]=s,t.set(i,u),r.getSignal("messages.channelSelect")({channelId:s,workspaceId:o.id})}],connectionOpen:[function(e){var t=e.state,n=e.props.workspaces,r=t.get(i),o=r?a({},r):{};n.forEach(function(e){o[e.id]||(o[e.id]="")}),t.set(i,o)}],channelSelect:[function(e){var t=e.controller,n=e.props,r=e.state,a=n.channelId,s=n.workspaceId;r.get([].concat(i,[s]))!==a&&o.default.getChannel(r,a)&&r.set([].concat(i,[s]),a);var l=o.default.getChannel(r,a);l&&l.ticketId&&t.getSignal("support.getTicket")({id:l.ticketId})}],channelUnselect:[function(e){var t=e.state,n=e.props.workspaceId;t.get([].concat(i,[n]))&&t.set([].concat(i,[n]),"")}],channelDelete:[function(e){var t=e.props,n=e.state,r=e.controller,a=t;n.get([].concat(i,[a.workspaceId]))===a.id&&r.getSignal("messages.channelUnselect")({workspaceId:a.workspaceId})}],handleChannelScroll:[function(e){var t=e.state,n=t.get(l);t.set(l,n+1)}],openExplore:[function(e){var t=e.controller,n=e.props.workspaceId;t.getSignal("messages.channelUnselect")({workspaceId:n})}],openSupportTickets:[function(e){var t=e.controller,n=e.props.workspaceId;t.getSignal("messages.channelUnselect")({workspaceId:n})}],workspaceCreate:[function(e){var t=e.props;e.state.set([].concat(i,[t.id]),"")}],workspaceDelete:[function(e){var t=e.props,n=e.state,r=t;n.get([].concat(i,[r.id]))&&n.unset([].concat(i,[r.id]))}]},getState:function(){return{selectedChannelIds:{},needScrollTicker:0}},getChannelId:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||s.default.getWorkspaceId(e),e.get([].concat(i,[t]))}}}).call(t,"views/v2/modules/messages/SelectedChannelStore.js")},function(e,t,n){e.exports=n(8)(794)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(n(2)),m=r(n(1)),v=r(n(3)),_=r(n(12)),y=r(n(7)),b=n(472),S=r(n(4)),w=r(n(728)),E=r(n(6)),O=r(n(729)),I=(l=(0,S.default)(w.default),u=(0,E.default)(O.default),l(c=u((f=d=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={value:r.getValue(r.props.value)},a=n,s(r,a)}return i(t,v.default),g(t,[{key:"componentDidMount",value:function(){this.setFocus(this.props.autoFocus)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setInputValue(t)}},{key:"onSave",value:function(){this.props.onSave&&this.props.onSave(this.state.value),this.props.autoClear&&this.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e),this.props.onChange&&this.props.onChange(null,""),this.props.onSave&&this.props.onSave(""),this.onClearInput()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})}},{key:"onBlur",value:function(e){this.props.onBlur?this.props.onBlur(e):this.onSave(),this.setState({focus:!1});try{(0,b.weiXinScrollIntoView)()}catch(e){console.error(e)}}},{key:"onChange",value:function(e){var t=e.target.value,n="";if("number"===this.props.type&&this.hasValue(t)){var r=this.__("numberOutput",{value:t});n=this.hasValue(r)&&r.toString()||""}else n=t;this.setState({value:n}),this.props.onChange&&this.props.onChange(e,n)}},{key:"onKeyDown",value:function(e){e&&e.stopPropagation();var t=e.keyCode;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onClearInput",value:function(){this.setInputValue("")}},{key:"setInputValue",value:function(e){this.setState({value:e})}},{key:"setFocus",value:function(e){var t=_.default.findDOMNode(this.refs.input);e&&t&&setTimeout(function(){return t.focus()},100)}},{key:"getNotice",value:function(){var e=this.props.errorText;return(e?{text:e,type:y.default.failed}:null)||this.props.notice||{}}},{key:"getText",value:function(){return this.refs.input.value}},{key:"getValue",value:function(e){return this.hasValue(e)?e:""}},{key:"hasValue",value:function(e){return""!==e&&null!==e&&void 0!==e}},{key:"focus",value:function(){var e=this.refs.input;e&&e.focus()}},{key:"renderNoticeText",value:function(){var e=this.props,t=e.noticeClassName,n=e.noticePosition,r=this.getNotice(),a=r.text,o=r.type;if(!o)return null;var s=["notice",t,n,o,this.state.hide&&"hide"];return m.default.createElement("div",{className:this.ss.apply(this,s)},a||this.__(o))}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.className,o=t.iconName,s=t.iconClassName,i=t.inputClassName,l=t.closeIconClassName,u=t.borderClassName,c=(t.noticeClassName,t.noticePosition,t.disabled),d=(t.autoFocus,t.autoClear,t.errorText,t.onSave,t.onClear,t.notice,t.theme),f=t.showNoticeText,g=t.readOnly,h=t.focusTheme,v=t.rightHint,_=a(t,["type","className","iconName","iconClassName","inputClassName","closeIconClassName","borderClassName","noticeClassName","noticePosition","disabled","autoFocus","autoClear","errorText","onSave","onClear","notice","theme","showNoticeText","readOnly","focusTheme","rightHint"]),b=this.state.value,S="number"===n&&this.hasValue(b)?this.__("numberInput",{value:b}):this.getValue(b),w=m.default.createElement("div",{className:this.ss(s,"icon","ifont","ifont-"+o)}),E="small"===d,O=m.default.createElement("div",{className:this.ss(l,"close","ifont","ifont-icon-close"),onClick:function(t){return e.onClear(t)}}),I=this.getNotice().type===y.default.failed,k=["input-wrap",c&&"disabled",I&&"failed",u,"input-wrap-"+d];this.state.focus&&k.push("active-"+h);var C=m.default.createElement("div",{key:"input",className:this.ss.apply(this,k),onClick:function(){return e.focus()}},o&&w,m.default.createElement("input",p({},_,{className:this.ss("input",i),type:"number"!==n&&n||"text",value:S,disabled:c,readOnly:g,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},ref:"input"})),!E&&!c&&!g&&this.hasValue(b)&&O,v&&m.default.createElement("div",{className:this.ss("right-hint")},v));return m.default.createElement("div",{className:this.ss("text-input",r,"theme-"+d)},C,f&&this.renderNoticeText())}}]),t}(),d.propTypes={type:h.default.string,value:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),iconName:h.default.string,className:h.default.string,iconClassName:h.default.string,inputClassName:h.default.string,borderClassName:h.default.string,closeIconClassName:h.default.string,noticeClassName:h.default.string,showNoticeText:h.default.bool,errorText:h.default.any,autoFocus:h.default.bool,autoClear:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onSave:h.default.func,onChange:h.default.func,onClear:h.default.func,onFocus:h.default.func,onBlur:h.default.func,onKeyDown:h.default.func,notice:h.default.shape({text:h.default.string,type:h.default.oneOf(["",y.default.initial,y.default.inProgress,y.default.succeeded,y.default.failed])}),theme:h.default.oneOf(["small","transparent","dark","light","egl"]),noticePosition:h.default.oneOf(["right","bottom"]),focusTheme:h.default.oneOf(["blue-green","primary-blue"]),rightHint:h.default.string},d.defaultProps={noticePosition:"right",showNoticeText:!0,theme:"dark",focusTheme:"blue-green"},c=f))||c)||c);t.default=I},function(e,t,n){"use strict";e.exports=function(e){return Array.isArray(e)||(e=e.split(".")),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return a(e,[{key:"get",value:function(e){var t=localStorage.getItem(e);try{t=JSON.parse(t)}catch(e){}return t}},{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}(),s=function(){function e(){r(this,e),this.storage={}}return a(e,[{key:"get",value:function(e){return this.storage[e]}},{key:"set",value:function(e,t){this.storage[e]=t}},{key:"remove",value:function(e){delete this.storage[e]}},{key:"clear",value:function(){this.storage={}}}]),e}();e.exports=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}()?new o:new s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t(e.content,n)}function o(e){var t=u.default.parserFor(e),n=u.default.outputFor(u.default.ruleOutput(e,"react"));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r||(e+="\n\n"),n(t(e,s({inline:r},a)),s({},a))}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(n(1)),l=n(149),u=r(l),c=r(n(450)),d=r(n(592));n(595);var f={newline:l.defaultRules.newline,paragraph:s({},l.defaultRules.paragraph,{react:function(e,t,n){return i.default.createElement("p",{key:n.key},t(e.content,n))}}),escape:l.defaultRules.escape,link:s({},l.defaultRules.link,{react:function(e,t,n){return i.default.createElement("a",{key:n.key,href:u.default.sanitizeUrl(e.target),title:e.title,target:"_blank",rel:"noopener noreferrer"},t(e.content,n))}}),autolink:l.defaultRules.autolink,mailto:l.defaultRules.mailto,url:l.defaultRules.url,strong:l.defaultRules.strong,em:l.defaultRules.em,u:l.defaultRules.u,s:{order:l.defaultRules.u.order,match:u.default.inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:l.defaultRules.u.parse,react:function(e,t,n){return i.default.createElement("s",{key:n.key},t(e.content,n))}},br:l.defaultRules.br,text:l.defaultRules.text,inlineCode:s({},l.defaultRules.inlineCode,{react:function(e,t,n){return i.default.createElement("code",{key:n.key,className:"inline"},e.content)}}),codeBlock:{order:l.defaultRules.codeBlock.order,match:function(e){return/^```(([A-z0-9-]+?)\n+)?\n*?([^]+?)```/.exec(e)},parse:function(e){return{lang:(e[2]||"").trim(),content:(e[3]||"").trim()}},react:function(e,t,n){if(e.lang&&c.default.getLanguage(e.lang)){var r=c.default.highlight(e.lang,e.content);return i.default.createElement("pre",{key:n.key},i.default.createElement("code",{className:"hljs "+r.language,dangerouslySetInnerHTML:{__html:r.value}}))}var a=c.default.highlightAuto(e.content);return i.default.createElement("pre",{key:n.key},i.default.createElement("code",{className:"hljs "+a.language,dangerouslySetInnerHTML:{__html:a.value}}))}},mention:{order:l.defaultRules.text.order,match:function(e){return/^<@([a-f0-9]+)>|^(@everyone)/.exec(e)},parse:function(e){return{userId:e[1]||e[2],content:[{type:"text",content:e[0]}]}},react:function(e,t,n){var r=n.mentionType,a=void 0;if("message"===r)a=i.default.createElement(d.default,{key:n.key,authorIsAdmin:!!n.authorIsAdmin,channelId:n.channelId,userId:e.userId,messageId:n.messageId,mentioned:n.mentioned,mentionType:n.mentionType},t(e.content,n));else if("project"===r||"post"===r)a=i.default.createElement(d.default,{key:n.key,userId:e.userId,mentioned:n.mentioned,mentionType:n.mentionType},t(e.content,n));else{var o=n.mentionUsers,s=e.userId,l=o.filter(function(e){return e.id===s})[0];a=i.default.createElement(d.default,{key:n.key,userId:e.userId,mentioned:n.mentioned,mentionUser:l,mentionType:n.mentionType},t(e.content,n))}return a}}},p={newline:l.defaultRules.newline,paragraph:s({},l.defaultRules.paragraph,{react:a}),url:s({},l.defaultRules.url,{parse:function(e,t,n){var r=l.defaultRules.url.parse(e,t,n);return r.context=n.context,r}}),link:s({},l.defaultRules.link,{parse:function(e,t,n){var r=l.defaultRules.link.parse(e,t,n);return r.context=n.context,r},react:function(e,t,n){var r={},a=e.context&&(e.context[e.target]||e.context.onClick);return a?r.onClick=function(t){return a(t,e.target)}:(r.href=u.default.sanitizeUrl(e.target),r.target="_blank"),r.title=e.title,i.default.createElement("a",s({key:n.key},r),t(e.content,n))}}),strong:s({},l.defaultRules.strong,{react:a}),u:s({},l.defaultRules.u,{react:a}),br:s({},l.defaultRules.br,{react:a}),noparse:{order:l.defaultRules.text.order,match:u.default.inlineRegex(/^!!(.+?)!!/),parse:function(e){return{type:"text",content:e[1]}},react:function(e){return e.content}},text:l.defaultRules.text,ifont:{order:l.defaultRules.text.order,match:function(e){return/^:ifont-([^\s:]+?):/.exec(e)},parse:function(e){return{ifont:e[1]}},react:function(e,t,n){return i.default.createElement("span",{key:n.key,className:"ifont ifont-"+e.ifont})}},list:s({},l.defaultRules.list,{react:function(e,t,n){return t(e.items,n)}})};t.default={getDefaultRules:function(){return s({},f)},getPlainTextRules:function(){return s({},p)},parserFor:o,parse:o(f),plainTextParse:o(p)}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){var n={id:e.id,userId:e.user.id,role:e.role,isBanned:e.isBanned||!1,isSupport:e.user.isSupport||!1};return t===e.user.id&&(n.showTerms=e.showTerms||!1,n.guideFinished=e.guideFinished||!1),n}function i(e){return function(t){var n=t.props,r=t.state,a=n.channelId,o=n.userId;r.get("messages.banStatus."+a)||r.set("messages.banStatus."+a,{}),r.set("messages.banStatus."+a+"."+o,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(["messages.finishLobbyGuideStatus"],["messages.finishLobbyGuideStatus"]),u=a(["messages.acceptChannelTermsStatus"],["messages.acceptChannelTermsStatus"]),c=a(["messages.fetchMemberStatus.",""],["messages.fetchMemberStatus.",""]),d=a(["channelId"],["channelId"]),f=n(0),p=n(9),g=r(n(7)),h=r(n(27)),m=["messages","channelMembers"];t.default={name:e,depends:[],signals:{channelReady:[function(e){var t=e.props,n=e.state,r=t.normalChannels;if(r){var a=n.get(m)||{};r.forEach(function(e){var t={};e.members.forEach(function(e){t[e.user.id]=s(e,e.user.id)}),a[e.id]=t}),n.set(m,a)}}],connectionOpen:[function(e){var t=e.props,n=e.state,r=t.privateChannels,a=t.publicChannels,o=t.lobbyChannels,i=t.liveChannels,l=t.userId,u={};r.forEach(function(e){var t={};e.members.forEach(function(e){t[e.user.id]=s(e,l)}),u[e.id]=t}),a.forEach(function(e){var t={};e.members.forEach(function(e){t[e.user.id]=s(e,l)}),u[e.id]=t}),o.forEach(function(e){var t={};e.members.forEach(function(e){t[e.user.id]=s(e,l)}),u[e.id]=t}),i.forEach(function(e){var t={};e.members.forEach(function(e){t[e.user.id]=s(e,l)}),u[e.id]=t}),n.set(m,u)}],channelCreate:[function(e){var t=e.props,n=e.state;if("direct"!==t.type){var r={},a=h.default.getCurrentUserId(n);t.members&&t.members.forEach(function(e){r[e.user.id]=s(e,a)}),n.set([].concat(m,[t.id]),r)}}],channelDelete:[function(e){var t=e.props,n=e.state;"direct"!==t.type&&n.unset([].concat(m,[t.id]))}],channelMemberAdd:[function(e){var t=e.props,n=e.state,r=[].concat(m,[t.channelId,t.user.id]),a=h.default.getCurrentUserId(n);n.set(r,s(t,a))}],channelMemberRemove:[function(e){var t=e.props,n=e.state,r=[].concat(m,[t.channelId,t.user.id]);n.unset(r)}],syncChannelMembers:[function(e){var t=e.props,n=e.state,r=t.result,a=t.status,o=t.channelId;if(200===a&&r){var i={},l=h.default.getCurrentUserId(n);r.forEach(function(e){i[e.user.id]=s(e,l)}),n.set([].concat(m,[o]),i)}}],finishLobbyGuide:[(0,p.set)((0,f.state)(l),g.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.userId;return n.post("/api/finishLobbyGuide",{userId:a}).then(r.success).catch(r.error)},{success:[(0,p.set)((0,f.state)(l),g.default.succeeded),function(e){var t=e.props,n=e.state,r=t.status,a=t.result;if(200===r&&a){var o=h.default.getCurrentUserId(n);a.forEach(function(e){var t=[].concat(m,[e.channelId,e.user.id]);n.set(t,s(e,o))})}}],error:[(0,p.set)((0,f.state)(l),g.default.failed)]}]],acceptChannelTerms:[(0,p.set)((0,f.state)(u),g.default.inProgress),[function(e){var t=e.props,n=e.path,r=e.http,a=t.channelId;return r.post("/api/channels/"+a+"/acceptTerms",{}).then(n.success).catch(n.error)},{success:[(0,p.set)((0,f.state)(u),g.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelMemberAdd")(r)}],error:[(0,p.set)((0,f.state)(u),g.default.failed)]}]],addChannelMembers:[[function(e){var t=e.props,n=e.http,r=e.path,a=t.selectedChannelId,o=t.userIds,s=t.role;return n.post("/api/channels/"+a+"/members",{userIds:o,role:s}).then(r.success).catch(r.error)},{success:[function(e){var t=e.controller,n=e.props.result;if(n&&0!==n.length){var r=Math.max.apply(Math,o(n.map(function(e){return e.memberCount})));n.forEach(function(e){t.getSignal("messages.channelMemberAdd")({id:e.id,channelId:e.channelId,user:e.user,role:e.role,memberCount:r})})}}],error:[]}]],removeChannelMember:[[function(e){var t=e.props,n=e.path,r=e.http,a=t.channelId,o=t.userId;return r.post("/api/channels/"+a+"/members/"+o+"/remove").then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;n.getSignal("messages.channelMemberRemove")({channelId:t.channelId,user:{id:t.userId},memberCount:r.memberCount})}],error:[]}]],banChannelMember:[i(g.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=t.userId,i=n.get([].concat(m,[o,s]));return i&&!i.isBanned?r.post("/api/channels/"+o+"/members/"+s+"/ban").then(a.success).catch(a.error):a.dummy()},{success:[i(g.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelMemberAdd")(r)}],error:[i(g.default.failed)],dummy:[]}]],unbanChannelMember:[i(g.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=t.userId,i=n.get([].concat(m,[o,s]));return i&&i.isBanned?r.post("/api/channels/"+o+"/members/"+s+"/unban").then(a.success).catch(a.error):a.dummy()},{success:[i(g.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelMemberAdd")(r)}],error:[i(g.default.failed)],dummy:[]}]],leaveChannel:[function(e){var t=e.props,n=e.http,r=e.path,a=t.channelId;return n.post("/api/channels/"+a+"/leave",{}).then(r.success).catch(r.error)},{success:[],error:[]}],fetchChannelMember:[(0,p.set)((0,f.state)(c,(0,f.props)(d)),g.default.inProgress),function(e){var t=e.props,n=e.path,r=e.http,a=t.channelId;return r.get("/api/channels/"+a+"/members").then(n.success).catch(n.error)},{success:[function(e){var t=e.controller,n=e.props;t.getSignal("messages.syncChannelMembers")(n)},(0,p.set)((0,f.state)(c,(0,f.props)(d)),g.default.succeeded)],error:[(0,p.set)((0,f.state)(c,(0,f.props)(d)),g.default.failed)]}],channelSelect:[function(e){var t=e.props,n=e.controller,r=t.channelId;n.getSignal("messages.fetchChannelMember")({channelId:r})}]},getState:function(){return{channelMembers:{}}},getMembers:function(e,t){return e.get([].concat(m,[t]))},getMember:function(e,t,n){return e.get([].concat(m,[t,n]))}}}).call(t,"views/v2/modules/messages/ChannelMemberStore.js")},,function(e,t,n){e.exports=n(8)(895)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n=n||{};var r=Object.keys(n).map(function(e){return e+"="+n[e]}).join(",");return window.open(e,t,r)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";r(this,e),this.name=t,this.log=this.log.bind(this),this.info=this.info.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this),this.trace=this.trace.bind(this)}return a(e,[{key:"log",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console)[e||"log"].apply(t,["%c["+this.name+"]","\n  font-weight: bold;\n  color: purple;\n"].concat(r))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,["info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,["warn"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,["error"].concat(t))}},{key:"trace",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,["trace"].concat(t))}}]),e}(),s=new o;t.default={create:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(o,[null].concat(t)))},log:s.log,info:s.info,warn:s.warn,error:s.error,trace:s.trace}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(2)),h=r(n(1)),m=r(n(3)),v=n(18),_=r(n(17)),y=r(n(4)),b=r(n(718)),S=(l=(0,y.default)(b.default))((d=c=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={showSelects:!1,timeoutEventId:null,periodInput:"",lastHint:-1,selectedIndex:0},r.onKeyDown=function(e){var t=e.keyCode,n=r.props,a=n.selects,o=n.onChange,s=r.state,i=s.showSelects,l=s.selectedIndex,u=a.length;switch(t){case 40:e.preventDefault(),i||r.onTextClick(),r.setState({selectedIndex:(l+1)%u});break;case 38:e.preventDefault(),i||r.onTextClick(),r.setState({selectedIndex:(l+u-1)%u});break;case 13:e.preventDefault(),i?l>=0&&l<u&&(r.setState({showSelects:!1}),o(e,l,a[l].value)):r.onTextClick();break;case 27:r.setState({showSelects:!1})}},r.onTextClick=function(){var e={showSelects:!0,lastHint:Number.MAX_SAFE_INTEGER};r.props.isToggleButton&&(e.showSelects=!r.state.showSelects),r.setState(e)},r.handleClick=function(e){(0,v.ClickOutside)(e,r,function(){r.setState({showSelects:!1})})},r.handleKeyPress=function(e){if(r.state.showSelects&&r.refs.scroller){var t=e.keyCode,n=e.charCode;r._timeoutEventId&&(window.clearTimeout(r._timeoutEventId),r._timeoutEventId=null);var a=String.fromCharCode(t||n).toLowerCase(),o=r.props.selects,s=!1,i=-1;if(a===r.state.periodInput||""===r.state.periodInput)o.every(function(e,t){return!(e.text.toLowerCase().startsWith(a)&&t>r.state.lastHint)||(i=t,!1)}),-1===i&&o.every(function(e,t){return!e.text.toLowerCase().startsWith(a)||(i=t,!1)}),-1!==i&&(r.setState({periodInput:a,lastHint:i}),s=!0);else{var l=r.state.periodInput+a;o.every(function(e,t){return!e.text.toLowerCase().startsWith(l)||(i=t,!1)}),-1!==i&&(r.setState({periodInput:l}),s=!0)}if(r._timeoutEventId=window.setTimeout(function(){r.setState({periodInput:"",timeoutEventId:null})},500),s){var u=r.refs.selects.children[0].offsetHeight;r.refs.scroller.scrollTo(i*u,!0),r.setState({selectedIndex:i})}}},a=n,s(r,a)}return i(t,m.default),p(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick),window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick),window.removeEventListener("keypress",this.handleKeyPress)}},{key:"renderSelects",value:function(){var e=this,t=this.props,n=t.selects,r=t.value,a=t.onChange,o=t.optClassName,s=t.optActiveClassName,i=t.renderItem,l=this.state.selectedIndex;return n.map(function(t,n){var u=function(o){e.setState({showSelects:!1,selectedIndex:n}),r!==t.value&&a(o,n,t.value)},c=t.text;i&&(c=i(t,!0));var d=["active",s];return h.default.createElement("div",{className:e.ss("selectItem",o,n===l&&e.ss.apply(e,d)),value:t.value,key:t.value,onClick:function(e){return u(e)}},c)})}},{key:"renderCaseScroller",value:function(){var e=this.props,t=e.selects,n=e.theme;return t.length>5?h.default.createElement(_.default,{theme:"light",fade:!1,className:this.ss("scroller"),ref:"scroller"},h.default.createElement("div",{className:this.ss("selects","selects-"+n),ref:"selects"},this.renderSelects())):h.default.createElement("div",{className:this.ss("selects","selects-"+n)},this.renderSelects())}},{key:"renderDescription",value:function(){var e=this.props.description;return e?h.default.createElement("div",{className:this.ss("description")},e):null}},{key:"renderErrorText",value:function(){var e=this.props.errorText;return e?h.default.createElement("div",{className:this.ss("errorText")},e):null}},{key:"renderIcon",value:function(){var e=this.props,t=e.iconClassName,n=e.renderIcon;return n?n():h.default.createElement("div",{className:this.ss("triangle","ifont","ifont-icon-triangle-down",t)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.hintText,r=t.selects,o=t.value,s=t.className,i=t.textClassName,l=(t.iconClassName,t.optGroupClassName),u=(t.optClassName,t.optActiveClassName,t.buttonClassName),c=(t.errorText,t.disabled),d=t.renderItem,p=(t.renderIcon,t.isToggleButton,t.buttonActiveClassName),g=t.theme,m=a(t,["hintText","selects","value","className","textClassName","iconClassName","optGroupClassName","optClassName","optActiveClassName","buttonClassName","errorText","disabled","renderItem","renderIcon","isToggleButton","buttonActiveClassName","theme"]),v=this.state.showSelects,_={transform:v?"scaleY(1)":"scaleY(0)",opacity:v?1:0},y=r.find(function(e){return e.value===o}),b=y?y.text:n;d&&y&&(b=d(y,!1));var S=!y;return h.default.createElement("div",f({},m,{className:this.ss("container",s)}),h.default.createElement("button",{className:this.ss("currentText",u,v&&p,c&&"disabled","currentText-"+g),onClick:function(){return!c&&e.onTextClick()},onKeyDown:function(t){return!c&&e.onKeyDown(t)}},h.default.createElement("div",{className:this.ss("innerCurrentText")},h.default.createElement("div",{className:this.ss("text",i,S&&"hint",S&&"hint-"+g)},b),this.renderIcon())),h.default.createElement("div",{className:this.ss("selectsWrapContainer",l),style:_},this.renderCaseScroller()),this.renderDescription(),this.renderErrorText())}}]),t}(),c.propTypes={selects:g.default.arrayOf(g.default.shape({text:g.default.string.isRequired,value:g.default.oneOfType([g.default.number.isRequired,g.default.string.isRequired])})).isRequired,hintText:g.default.string,value:g.default.oneOfType([g.default.number.isRequired,g.default.string.isRequired]),onChange:g.default.func,className:g.default.string,isToggleButton:g.default.bool,buttonClassName:g.default.string,buttonActiveClassName:g.default.string,textClassName:g.default.string,iconClassName:g.default.string,optGroupClassName:g.default.string,optActiveClassName:g.default.string,optClassName:g.default.string,disabled:g.default.bool,errorText:g.default.any,description:g.default.string,renderItem:g.default.func,renderIcon:g.default.func,theme:g.default.oneOf(["default","egl"])},c.defaultProps={theme:"default"},u=d))||u;t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(2)),h=r(n(1)),m=r(n(3)),v=r(n(4)),_=r(n(719)),y=(l=(0,v.default)(_.default))((d=c=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handlerClick=function(e){r.props.disabled||r.props.onCheck&&r.props.onCheck(e,r.props.value)},a=n,s(r,a)}return i(t,m.default),p(t,[{key:"renderHintLabel",value:function(){var e=this.props,t=e.hintLabel,n=e.disabled,r=e.theme,a=n?this.ss("hintLabel","disabled",r):this.ss("hintLabel",r);return t?h.default.createElement("div",{className:a},t):null}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.className,r=(e.hintLabel,e.style),o=e.labelStyle,s=(e.onCheck,e.isChecked),i=e.name,l=e.value,u=e.disabled,c=e.children,d=e.theme,p=a(e,["label","className","hintLabel","style","labelStyle","onCheck","isChecked","name","value","disabled","children","theme"]),g=u?this.ss("container","disabled",d):this.ss("container",d),m=c||h.default.createElement("div",{className:this.ss("label"),style:o},t),v="selected"===d;return h.default.createElement("div",{style:r,onClick:this.handlerClick,className:n},h.default.createElement("div",{className:g},h.default.createElement("button",{className:this.ss("radio",s&&"active")},v&&s&&h.default.createElement("div",{className:this.ss("icon","ifont","ifont-selected")}),h.default.createElement("div",{className:this.ss("radioInner")},h.default.createElement("input",f({name:i,value:l,type:"radio",ref:"radio"},p))),"blue"===d&&h.default.createElement("div",{className:this.ss("inner")})),m),this.renderHintLabel())}}]),t}(),c.propTypes={label:g.default.string,hintLabel:g.default.string,value:g.default.oneOfType([g.default.string,g.default.number,g.default.bool]),name:g.default.string,isChecked:g.default.bool,onCheck:g.default.func,style:g.default.object,labelStyle:g.default.object,className:g.default.string,disabled:g.default.bool,children:g.default.element,theme:g.default.oneOf(["blue","default","primary","selected","primary-blue","egl-blue"])},c.defaultProps={theme:"default"},u=d))||u;t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.editorKey,n=e.controller,r=n.getState("project.mentionToolbars."+t),a=n.getState("suggest.candidate"),o=[];return r&&"user"===a.st&&a.q===r.prefix&&a.user&&(o=a.user),o.length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onDownArrow:n?void 0:function(e,n){var r=(0,n.getProps)().controller;a({editorKey:t,controller:r})&&(r.getSignal("project.moveToNextMentionItem")({editorKey:t}),e.preventDefault())},onUpArrow:n?void 0:function(e,n){var r=(0,n.getProps)().controller;a({editorKey:t,controller:r})&&(r.getSignal("project.moveToPrevMentionItem")({editorKey:t}),e.preventDefault())},onEscape:n?void 0:function(e,n){var r=(0,n.getProps)().controller;a({editorKey:t,controller:r})&&(r.getSignal("project.hideMentionToolbar")({editorKey:t}),e.preventDefault())},onTab:n?void 0:function(e,n){var r=n.getProps,o=n.getEditorState,s=n.setEditorState,i=r().controller;if(a({editorKey:t,controller:i})){var u=i.getState("project.mentionToolbars."+t),c=u.prefix,d=u.index,f=i.getState("suggest.candidate").user,p=f.length;s((0,l.addUserMention)(o(),c,f[(d%p+p)%p])),e.preventDefault()}},handleReturn:n?void 0:function(e,n,r){var o=r.setEditorState,s=(0,r.getProps)().controller;if(a({editorKey:t,controller:s})){var i=s.getState("project.mentionToolbars."+t),u=i.prefix,c=i.index,d=s.getState("suggest.candidate").user,f=d.length;return o((0,l.addUserMention)(n,u,d[(c%f+f)%f])),"handled"}return"not-handled"},decorators:[i.default],MentionToolbar:n?function(){return null}:(0,o.default)(s.default,{editorKey:t})}};var o=r(n(36)),s=r(n(818)),i=r(n(819)),l=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.USER_PROPERTIES={ROLE:"role",LAST_SEEN:"lastSeen",FIRST_SEEN:"firstSeen",NUMBER_OF_SESSIONS:"numberOfSessions"},t.USER_ROLES={ADMIN:"ADMIN",CUSTOMER:"CUSTOMER"};var r=function(){return function(){}};t.amplitudeEvents={newSession:r(),headerUnityLogoClick:r(),headerDiscoverClick:r(),headerMessagesClick:r(),headerNotificationsClick:r(),headerPostProjectClick:r(),applicationSwitcherClick:r(),applicationSwitcherDashboardClick:r(),applicationSwitcherAssetStoreClick:r(),applicationSwitcherAnswersClick:r(),applicationSwitcherForumClick:r(),applicationSwitcherDistributeClick:r(),applicationSwitcherLearnClick:r(),homePageView:r(),homeGetUnityClick:r(),homeFaqClick:r(),discoverPageView:r(),discoverPastChallengesPageView:r(),discoverPastChallengesItemClick:r(),discoverFeaturedPageView:r(),discoverTrendingPageView:r(),discoverFreshPageView:r(),discoverMyGamesPageView:r(),discoverBannerClick:r(),discoverChallengesItemClick:r(),discoverChallengesAllClick:r(),discoverFeaturedItemClick:r(),discoverFeaturedAllClick:r(),discoverTrendingItemClick:r(),discoverTrendingAllClick:r(),discoverFreshItemClick:r(),discoverFreshAllClick:r(),discoverMyGamesItemClick:r(),discoverMyGamesAllClick:r(),webglDetailPageView:r(),webglDetailChallengeBannerNotNow:r(),webglDetailChallengeBannerJoin:r(),webglDetailRecommendedItemClick:r(),webglDetailMadeWithUnityClick:r(),webglDetailMadeWithMicrogameClick:r(),webglDetailCommentCreated:r(),webglDetailCommentLikeClick:r(),webglDetailCommentReplyClick:r(),webglDetailReplyCommentCreated:r(),webglDetailAuthorClick:r(),webglDetailEditClick:r(),webglDetailReportClick:r(),webglDetailDeleteClick:r(),webglDetailLikeClick:r(),webglDetailShareEmbedClick:r(),webglDetailShareMailClick:r(),webglDetailShareMessengerClick:r(),webglDetailShareTwitterClick:r(),webglDetailShareFacebookClick:r(),webglDetailShareRedditClick:r(),webglDetailShareCopyClick:r(),webglDetailFullscreenClick:r(),webglDetailUnmuteClick:r(),webglDetailScreenshotCommentClick:r(),webglDetailRecordClick:r(),webglDetailPauseRecordingClick:r(),webglDetailStopRecordingClick:r(),webglDetailAcceptRecordingClick:r(),webglDetailRetryRecordingClick:r(),webglDetailPlayClick:r(),assetUnlockGetAssetClicked:r(),assetUnlockNotNowClicked:r(),assetUnlockFirstAndThirdKartingDisplayed:r(),assetUnlockFirstKartingDisplayed:r(),assetUnlockSecondKartingDisplayed:r(),assetUnlockThirdKartingDisplayed:r(),assetUnlockFirstAndThirdFpsDisplayed:r(),assetUnlockFirstFpsDisplayed:r(),assetUnlockSecondFpsDisplayed:r(),assetUnlockThirdFpsDisplayed:r()},t.isAmplitudeInitialized=function(){return!1},t.setUserProperties=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/connect-?\w*\.unity\.com/i;t.default=function(e,t){var n=t||window&&window.location&&window.location.hostname||"";return e=e||"",!0===r.test(n)&&0!==e.indexOf("/livehelp")?"/livehelp"+e:e}},function(e,t,n){e.exports=n.p+"../styles/i/unity-logo-only.f688162d59f85318573b598d4c5b6e26.png"},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=e.state,n=e.path;if(!0!==g.default.TFA_ENABLED)return n.yes();var r=(t.get("loginUser")||{}).tfaEndTime;return r&&new Date(r).getTime()>Date.now()?n.yes():n.no()}function s(e){e.state.set("header.tfaConfirmDialog",{open:!0})}function i(e){return function(t){var n=t.props;t.state.set("header.tfaNotifyDialog",{open:!0,signalPath:e,actionProps:n})}}function l(e){e.state.set("header.tfaNotifyDialog",{open:!1})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.doTfaStatus"],["header.doTfaStatus"]),c=n(9),d=n(0),f=r(n(7)),p=r(n(19)),g=r(n(14));t.default={name:e,depends:[],signals:{closeTfaConfirmDialog:[function(e){e.state.set("header.tfaConfirmDialog",{open:!1})}],skipTfa:[function(e){var t=e.state,n=e.controller,r=t.get("header.tfaNotifyDialog"),a=r.signalPath,o=r.actionProps,s=n.getSignal(a);s&&s(o)},l],closeTfaNotifyDialog:[l],doTfa:[(0,c.set)((0,d.state)(u),f.default.inProgress),function(e){var t=e.state.get("currentUrl"),n="/auth/tfa?redirect_to="+encodeURIComponent(t);(0,p.default)(n)}],openNeedReviewDialog:[function(e){e.state.set("header.needReviewDialog",{open:!0})}],closeNeedReviewDialog:[function(e){e.state.set("header.needReviewDialog",{open:!1})},function(e){var t=e.state.get("loginUser"),n=t?"/u/"+t.id:"/";(0,p.default)(n)}]},getState:function(){return{tfaConfirmDialog:{open:!1},tfaNotifyDialog:{open:!1},needReviewDialog:{open:!1}}},TfaRequired:function(e){var t=[];return t=Array.isArray(e)?[].concat(a(e)):[e],[o,{yes:[t],no:[s]}]},TfaNotified:function(e,t){var n=[];return n=Array.isArray(e)?[].concat(a(e)):[e],[o,{yes:[n],no:[i(t)]}]}}}).call(t,"views/modules/common/header/TfaStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=e.state,n=e.path;return!0!==(t.get("loginUser")||{}).emailRequired?n.yes():n.no()}function s(e){e.state.set(f,{open:!0})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.doAddEmailStatus"],["header.doAddEmailStatus"]),l=n(9),u=n(0),c=r(n(7)),d=r(n(19)),f="header.emailRequiredDialog";t.default={name:e,depends:[],signals:{openEmailRequiredDialog:[s],closeEmailRequiredDialog:[function(e){e.state.set(f,{open:!1})}],doAddEmail:[(0,l.set)((0,u.state)(i),c.default.inProgress),function(e){var t=e.state.get("currentUrl"),n="/auth/email?redirect_to="+encodeURIComponent(t);(0,d.default)(n)}]},getState:function(){return{emailRequiredDialog:{open:!1}}},EmailRequired:function(e){var t=[];return t=Array.isArray(e)?[].concat(a(e)):[e],[o,{yes:[t],no:[s]}]}}}).call(t,"views/modules/common/header/EmailCheckStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(50));t.default=function(e){e=(0,r.default)(e),window.location.href=e}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(81)),o=r(n(55)),s=["messages","selectedWorkspaceId"];t.default={name:e,depends:[a.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.state;if(!n.get(s)){var r=t.workspaces.find(function(e){return!e.organizationId});r?n.set(s,r.id):n.set(s,null)}}],workspaceSelect:[function(e){var t=e.props,n=e.state,r=t.workspaceId;n.get(s)!==r&&a.default.getWorkspace(n,r)&&n.set(s,r)}],workspaceUnselect:[function(e){var t=e.state,n=e.controller,r=t.get(s),o=a.default.getDefaultWorkspace(t);r&&o&&n.getSignal("messages.workspaceRouted")({workspaceId:o.id})}],workspaceDelete:[function(e){var t=e.props,n=e.state,r=e.controller;n.get(s)===t.id&&r.getSignal("messages.workspaceUnselect")()}],channelSelect:[function(e){var t=e.props,n=e.controller,r=e.state,s=t.workspaceId;o.default.getWorkspaceId(r)!==s&&a.default.getWorkspace(r,s)&&n.getSignal("messages.workspaceSelect")({workspaceId:s})}],openExplore:[function(e){var t=e.props,n=e.controller,r=e.state,s=t.workspaceId;o.default.getWorkspaceId(r)!==s&&a.default.getWorkspace(r,s)&&n.getSignal("messages.workspaceSelect")({workspaceId:s})}],openSupportTickets:[function(e){var t=e.props,n=e.controller,r=e.state,s=t.workspaceId;o.default.getWorkspaceId(r)!==s&&a.default.getWorkspace(r,s)&&n.getSignal("messages.workspaceSelect")({workspaceId:s})}],showSupportView:[function(e){e.state.set(s,"")}]},getState:function(){return{selectedWorkspaceId:null}},getWorkspaceId:function(e){return e.get(s)}}}).call(t,"views/v2/modules/messages/SelectedWorkspaceStore.js")},function(e,t,n){e.exports=n(8)(74)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=l(["suggest.candidate"],["suggest.candidate"]),v=l(["suggest.candidateMap"],["suggest.candidateMap"]),_=l(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),y=l(["suggest.clearCandidates"],["suggest.clearCandidates"]),b=l(["suggest.saveToMap"],["suggest.saveToMap"]),S=l(["suggest.removeFromMap"],["suggest.removeFromMap"]),w=r(n(2)),E=r(n(1)),O=n(5),I=n(0),k=r(n(3)),C=r(n(730)),T=r(n(4)),j=r(n(736)),M=(u=(0,O.decorator)({candidate:(0,I.state)(m),candidateMap:(0,I.state)(v),fetchCandidates:(0,I.signal)(_),clearCandidates:(0,I.signal)(y),saveToMap:(0,I.signal)(b),removeFromMap:(0,I.signal)(S)}),c=(0,T.default)(j.default),u(d=c((p=f=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isActive:!1},a=n,s(r,a)}return i(t,k.default),h(t,[{key:"componentWillReceiveProps",value:function(e){var t=e||{},n=t.fold,r=t.candidate,a=t.st;"fold"===n&&r[a]&&r[a].length>0&&this.onClearCandidate()}},{key:"onFetchCandidate",value:function(e){var t=this.props,n=t.st,r=t.fetchCandidates,a=t.addInputValue,o=t.allPlace,s=t.skillType,i=t.t,l=void 0===i?"":i;this.setState({isActive:!0}),r({st:n,q:e,addNew:a,allPlace:o,skillType:s,t:l})}},{key:"onClearCandidate",value:function(){var e=this.props,t=e.st,n=e.clearCandidates;this.setState({isActive:!1}),n({st:t})}},{key:"onSaveToMap",value:function(e){var t=this.props,n=t.st;(0,t.saveToMap)({st:n,candidate:e})}},{key:"onRemoveFromMap",value:function(e){var t=this.props,n=t.st;(0,t.removeFromMap)({st:n,candidate:e})}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.st,n=e.idToCandidateMap,r=e.candidateMap,a=r&&r[t];return g({},a,n||{})}},{key:"render",value:function(){var e=this,t=this.props,n=t.st,r=t.candidate,o=t.autoFocus,s=t.fold,i=(t.skillType,t.candidateMap,t.addInputValue,t.allPlace,t.modules,t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.t,a(t,["st","candidate","autoFocus","fold","skillType","candidateMap","addInputValue","allPlace","modules","fetchCandidates","clearCandidates","saveToMap","removeFromMap","t"]));return E.default.createElement(C.default,g({},i,{candidates:this.state.isActive?r[n]:[],onFetchCandidate:function(t){return e.onFetchCandidate(t)},onClearCandidate:function(){return e.onClearCandidate()},onSaveToMap:function(t){return e.onSaveToMap(t)},onRemoveFromMap:function(t){return e.onRemoveFromMap(t)},selectedIds:this.props.selectedIds,idToCandidateMap:this.getIdToCandidateMap(),fold:s,maxLength:20,autoFocus:o&&("unFold"===s||!s)}))}}]),t}(),f.propTypes={candidate:w.default.object,candidateMap:w.default.object,selectedIds:w.default.array,idToCandidateMap:w.default.object,modules:w.default.object,t:w.default.string,st:w.default.string,autoFocus:w.default.bool,addInputValue:w.default.bool,fold:w.default.string,allPlace:w.default.bool,skillType:w.default.string,fetchCandidates:w.default.func,clearCandidates:w.default.func,saveToMap:w.default.func,removeFromMap:w.default.func},f.defaultProps={autoFocus:!1,addInputValue:!1,allPlace:!0,skillType:""},d=p))||d)||d);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey();return"code-block"===n.getBlockForKey(r).getType()}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.editorKey,r=t.renderOnly;if(!n)throw new Error("editorKey is empty");return{handleKeyCommand:r?void 0:function(t,n,r){var a=r.setEditorState;if(e(n)&&"backspace"===t){var o=(0,s.default)(n);if(o)return a(o),"handled"}return"not-handled"},handleReturn:r?void 0:function(t,n,r){var o=r.setEditorState;if(e(n)){if((0,a.isSoftNewlineEvent)(t)){var s=n.getSelection();if(s.isCollapsed()){var l=n.getCurrentContent(),u=(l=a.Modifier.splitBlock(l,s)).getSelectionAfter().getAnchorKey();return l=l.merge({blockMap:l.getBlockMap().set(u,l.getBlockForKey(u).merge({type:"unstyled",depth:0}))}),o(a.EditorState.push(n,l,"split-block")),"handled"}}var c=(0,i.default)(n);if(c)return o(c),"handled"}return"not-handled"},handlePastedText:r?void 0:function(t,n,r,s){var i=s.setEditorState;if(e(r)){t=t.replace(/\r/g,"");var l=a.CharacterMetadata.create(),u=new a.ContentBlock({key:(0,a.genKey)(),type:"unstyled",text:t,characterList:(0,o.List)((0,o.Repeat)(l,t.length))}),c=a.BlockMapBuilder.createFromArray([u]),d=a.Modifier.replaceWithFragment(r.getCurrentContent(),r.getSelection(),c);return i(a.EditorState.push(r,d,"insert-fragment")),"handled"}return"not-handled"},onTab:r?void 0:function(t,n){var r=n.getEditorState,a=n.setEditorState,o=r();if(e(o)){var s=(0,l.default)(t,o);if(s)return a(s),!0}return!1},decorators:[new u.default]}};var a=n(10),o=n(56),s=r(n(766)),i=r(n(769)),l=r(n(771)),u=r(n(772))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e.getSelection(),a=r.getFocusKey(),o=e.getCurrentContent();return o=i.Modifier.insertText(o,r,t,e.getCurrentInlineStyle(),(0,i.getEntityKeyForSelection)(o,r)),e=i.EditorState.push(e,o,"insert-characters"),o=e.getCurrentContent(),o=i.Modifier.removeRange(o,o.getSelectionAfter().merge({anchorOffset:0}),"backward"),o=o.merge({blockMap:o.getBlockMap().set(a,o.getBlockForKey(a).merge({type:n,depth:0}))}),i.EditorState.push(e,o,"change-block-type")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var r=(0,l.default)(o.default.createElement("div",null),e),u=(0,l.default)(o.default.createElement("ul",{className:"public-DraftStyleDefault-ul"}),e),c=(0,l.default)(o.default.createElement("ol",{className:"public-DraftStyleDefault-ol"}),e),d=(0,l.default)(o.default.createElement("pre",{className:"public-DraftStyleDefault-pre",spellCheck:!1}),e);return{handleReturn:n?void 0:function(e,t,n){var r=n.setEditorState;return(0,i.isSoftNewlineEvent)(e)&&t.getSelection().isCollapsed()?(r(i.RichUtils.insertSoftNewline(t)),"handled"):"not-handled"},handleKeyCommand:n?void 0:function(e,t,n){var r=n.setEditorState,a=i.RichUtils.handleKeyCommand(t,e);return a&&a!==t?(r(a),"handled"):"not-handled"},handleBeforeInput:n?void 0:function(e,t,n){var r=n.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";if(" "===e){var s=o.getStartKey(),i=o.getStartOffset(),l=t.getCurrentContent().getBlockForKey(s);if("unstyled"===l.getType()||"paragraph"===l.getType()){var u=l.getText().substring(0,i);if(/^[\d]\./.test(u))return r(a(t," ","ordered-list-item")),"handled";if(/^[*-]/.test(u))return r(a(t," ","unordered-list-item")),"handled"}}else if("`"===e){var c=o.getStartKey(),d=o.getStartOffset(),f=t.getCurrentContent().getBlockForKey(c);if(("unstyled"===f.getType()||"paragraph"===f.getType())&&"``"===f.getText().substring(0,d))return r(a(t,"`","code-block")),"handled"}return"not-handled"},onTab:n?void 0:function(e,t){var n=t.getEditorState,r=t.setEditorState,a=n(),o=i.RichUtils.onTab(e,a,2);return!(!o||o===a||(r(o),0))},onChange:n?void 0:function(e){var t=e.getCurrentContent(),n=t.getLastBlock();if(!n||"unstyled"!==n.getType()||0!==n.getLength()){var r=(0,i.genKey)(),a=new i.ContentBlock({key:r}),o=t.getBlockMap().set(r,a),s=t.merge({blockMap:o});return i.EditorState.set(e,{currentContent:s})}return e},customStyleMap:{CODE:{backgroundColor:"#f2fbfd",fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"15px",padding:"4px"}},blockRenderMap:(0,s.Map)({"header-one":{element:"h1",wrapper:r},"header-two":{element:"h2",wrapper:r},"header-three":{element:"h3",wrapper:r},"header-four":{element:"h4",wrapper:r},"header-five":{element:"h5",wrapper:r},"header-six":{element:"h6",wrapper:r},"unordered-list-item":{element:"li",wrapper:u},"ordered-list-item":{element:"li",wrapper:c},blockquote:{element:"blockquote",wrapper:r},atomic:{element:"figure",wrapper:r},"code-block":{element:"code",wrapper:d},unstyled:{element:"div",aliasedElements:["p"],wrapper:r}})}};var o=r(n(1)),s=n(56),i=n(10),l=r(n(774))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var s=e.breakoutBlockType||o.breakoutBlockType,i=e.breakoutBlocks||o.breakoutBlocks,l=e.doubleBreakoutBlocks||o.doubleBreakoutBlocks;return{handleReturn:n?void 0:function(e,t,n){var o=n.setEditorState,u=r.RichUtils.getCurrentBlockType(t),c=i.indexOf(u)>-1,d=l.indexOf(u)>-1;if(c||d){var f=t.getSelection();if(f.isCollapsed()){var p=t.getCurrentContent(),g=p.getBlockForKey(f.getEndKey()),h=f.getEndOffset(),m=h===g.getLength(),v=0===h;if(m&&c||v&&c||v&&!g.getLength()){var _=(0,r.genKey)(),y=new r.ContentBlock({key:_,text:"",type:s,characterList:(0,a.List)(),depth:0}),b=p.getBlockMap(),S=b.toSeq().takeUntil(function(e){return e===g}),w=b.toSeq().skipUntil(function(e){return e===g}).rest(),E=void 0,O=void 0;m?(E=d?[[_,y]]:[[g.getKey(),g],[_,y]],O=_):(E=[[_,y],[g.getKey(),g]],O=g.getKey());var I=S.concat(E,w).toOrderedMap(),k=p.merge({blockMap:I,selectionAfter:f.merge({anchorKey:O,anchorOffset:0,focusKey:O,focusOffset:0})});return o(r.EditorState.push(t,k,"split-block")),"handled"}}}return"not-handled"}}};var r=n(10),a=n(56),o={breakoutBlockType:"unstyled",breakoutBlocks:["header-one","header-two","header-three","header-four","header-five","header-six"],doubleBreakoutBlocks:["blockquote","unordered-list-item","ordered-list-item","code-block"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly,r=e.allowImage,s=e.allowVideo,i=e.allowAttachment;if(!t)throw new Error("editorKey is empty");return{SideToolbar:n?function(){return null}:(0,a.default)(o.default,{editorKey:t,allowImage:r,allowVideo:s,allowAttachment:i})}};var a=r(n(36)),o=r(n(779))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorators:[s.default],InlineToolbar:n?function(){return null}:(0,a.default)(o.default,{editorKey:t})}};var a=r(n(36)),o=r(n(807)),s=r(n(481))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorator:(0,o.default)(e),AlignmentToolbar:n?function(){return null}:(0,a.default)(s.default,{editorKey:t})}};var a=r(n(36)),o=r(n(813)),s=r(n(814))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var r=(0,a.default)(e),i=(0,o.default)(e);return{handleDrop:n?void 0:function(e,t,n,r){var a=r.getEditorState,o=r.setEditorState,i=r.getProps;if(!n)return"not-handled";if(!t.data.getData("CONNECT_BLOCK_DRAG"))return"handled";var l=i().controller,u=l.getState("project.dragOverBlockKey"),c=l.getState("project.dragStartBlockKey"),d=l.getState("project.dragStartBlockAfterKey");if(u!==c&&u!==d){var f=a();o((0,s.moveAtomicBlockBefore)(f,u,c))}return"handled"},EditorWrapper:r,decorator:i}};var a=r(n(828)),o=r(n(829)),s=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h,m,v,_,y,b,S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=l(["project.uploadVideo.editorKey"],["project.uploadVideo.editorKey"]),E=l(["draft.editorStates.",""],["draft.editorStates.",""]),O=l(["project.uploadVideo.entityKey"],["project.uploadVideo.entityKey"]),I=l(["project.uploadVideo.open"],["project.uploadVideo.open"]),k=l(["project.uploadVideo.url"],["project.uploadVideo.url"]),C=l(["project.uploadVideo.uploadingId"],["project.uploadVideo.uploadingId"]),T=l(["project.uploadVideo.pendingUploadIds"],["project.uploadVideo.pendingUploadIds"]),j=l(["project.uploads"],["project.uploads"]),M=l(["project.addEmbedAuto"],["project.addEmbedAuto"]),P=l(["project.changeVideoUrl"],["project.changeVideoUrl"]),x=l(["project.addPreviewEmbed"],["project.addPreviewEmbed"]),A=l(["project.closeUploadVideo"],["project.closeUploadVideo"]),R=l(["draft.setEditorState"],["draft.setEditorState"]),D=l(["project.uploads.",""],["project.uploads.",""]),N=l(["uploadId"],["uploadId"]),L=l(["project.contentMap"],["project.contentMap"]),F=l(["project.deletePreviewEmbed"],["project.deletePreviewEmbed"]),U=r(n(2)),K=r(n(1)),B=r(n(3)),z=n(5),q=n(0),V=r(n(20)),H=r(n(13)),W=r(n(37)),G=r(n(15)),$=r(n(17)),Y=n(11),J=n(7),Q=r(n(4)),X=r(n(830)),Z=r(n(6)),ee=r(n(831)),te=n(74),ne=(u=(0,z.decorator)({editorKey:(0,q.state)(w),editorState:(0,q.state)(E,(0,q.state)(w)),entityKey:(0,q.state)(O),open:(0,q.state)(I),url:(0,q.state)(k),uploadingId:(0,q.state)(C),uploadIds:(0,q.state)(T),uploads:(0,q.state)(j),addEmbedAuto:(0,q.signal)(M),changeVideoUrl:(0,q.signal)(P),addPreviewEmbed:(0,q.signal)(x),closeUploadVideo:(0,q.signal)(A),setEditorState:(0,q.signal)(R)}),c=(0,Q.default)(X.default),d=(0,Z.default)(ee.default),u(f=c(f=d((g=p=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onPaste=function(e){e&&(0,Y.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");r.props.addEmbedAuto({url:t})},r.onKeyDown=function(e){switch(e.keyCode){case 13:r.props.addEmbedAuto({url:e.target.value})}},r.onChange=function(e,t){r.props.changeVideoUrl({value:t})},r.onClose=function(){r.props.closeUploadVideo()},r.onOK=function(){var e=r.props.onOK;if(e){var t=r.props;e({entityKey:t.entityKey,editorKey:t.editorKey,editorState:t.editorState,uploadIds:t.uploadIds,uploads:t.uploads,setEditorState:t.setEditorState})}r.onClose()},a=n,s(r,a)}return i(t,B.default),S(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,n=e.uploadingId,r=e.addPreviewEmbed,a=n&&t[n];(0,J.isSucceeded)(a&&a.status)&&r()}},{key:"renderLoading",value:function(){return K.default.createElement("div",{className:this.ss("loading-wrap")},K.default.createElement("div",{className:this.ss("loading")}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.url,r=e.uploadingId,o=e.uploads,s=e.uploadIds,i=void 0===s?[]:s,l=o[r],u=(0,J.isLoading)(l&&l.status);return K.default.createElement(V.default,{open:t,noScroller:!0,position:"center",onCloseModal:this.onClose},K.default.createElement("div",{className:this.ss("content")},K.default.createElement("div",{className:this.ss("head")},K.default.createElement("div",{className:this.ss("title")},this.__("title_add_embed")),K.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},K.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),K.default.createElement("div",{className:this.ss("input-wrap")},K.default.createElement("div",{className:this.ss("input")},K.default.createElement(W.default,{ref:"input",placeholder:this.__("input_placeholder"),value:n,autoFocus:!0,disabled:u,onKeyDown:this.onKeyDown,onChange:this.onChange,onPaste:this.onPaste}),u&&this.renderLoading()),K.default.createElement("div",{className:this.ss("supported-hint")},this.__("supported_hint"))),K.default.createElement($.default,null,K.default.createElement("div",{className:this.ss("embed-wrap")},K.default.createElement("div",{className:this.ss("title")},this.__("total_embeds",{n:i.length})),K.default.createElement("div",{className:this.ss("embed-previews")},[].concat(a(i||[])).reverse().map(function(e,t){return K.default.createElement(re,{key:"item-"+t,uploadId:e})})))),K.default.createElement("div",{className:this.ss("foot")},K.default.createElement("div",{className:this.ss("button")},K.default.createElement(H.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),K.default.createElement("div",{className:this.ss("button")},K.default.createElement(H.default,{theme:"blue",size:"xlarge",widthType:"full",disabled:u||0===i.length,label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),p.propTypes={editorKey:U.default.string,editorState:U.default.object,entityKey:U.default.string,open:U.default.bool,url:U.default.string,uploadingId:U.default.string,uploadIds:U.default.array,uploads:U.default.object,addEmbedAuto:U.default.func,changeVideoUrl:U.default.func,addPreviewEmbed:U.default.func,closeUploadVideo:U.default.func,setEditorState:U.default.func,onOK:U.default.func},f=g))||f)||f)||f);t.default=ne;var re=(h=(0,z.decorator)({upload:(0,q.state)(D,(0,q.props)(N)),contentMap:(0,q.state)(L),deletePreviewEmbed:(0,q.signal)(F)}),m=(0,Q.default)(X.default),v=(0,Z.default)(ee.default),h(_=m(_=v((b=y=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onDeleteEmbed=function(){var e=r.props,t=e.uploadId,n=e.deletePreviewEmbed;n&&n({uploadId:t})},a=n,s(r,a)}return i(t,B.default),S(t,[{key:"render",value:function(){var e=this.props,t=e.upload,n=e.contentMap;if(!t)return null;var r="",a="",o=0,s="";if((0,J.isSucceeded)(t.status)){var i=n&&n[t.contentId],l=i||{},u=l.oembed,c=l.thumbnail;if(u){var d=(c||{}).url;s=u.title,r=u.provider_name,a=d||(0,Y.securedURL)(u.thumbnail_url),o=u.thumbnail_width}else if(i&&"img"===i.type){var f=i||{},p=f.externalType,g=f.package,h=f.originalImage;s=g&&g.name,r=this.__(p),a=h&&h.url,o=h&&h.width}else i&&"webgl"===i.type&&(s=t.url,a=te,o=400)}return K.default.createElement("div",{className:this.ss("item")},K.default.createElement("div",{className:this.ss("item-thumbnail")},K.default.createElement(G.default,{src:a,sizes:o+"px"})),K.default.createElement("div",{className:this.ss("item-content")},K.default.createElement("div",{className:this.ss("item-info")},K.default.createElement("div",{className:this.ss("item-title")},s),K.default.createElement("div",{className:this.ss("item-provider")},r&&this.__("from_provider",{providerName:r}))),K.default.createElement("div",{className:this.ss("item-delete")},K.default.createElement("a",{className:this.ss("delete"),onClick:this.onDeleteEmbed},this.__("button_delete")))))}}]),t}(),y.propTypes={uploadId:U.default.string.isRequired,upload:U.default.object,contentMap:U.default.object,deletePreviewEmbed:U.default.func},_=b))||_)||_)||_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),a=t.getStartKey(),o=n.getBlockForKey(a);if("atomic"===o.getType()){var s=new r.ContentBlock({key:o.getKey()}),i=n.getBlockMap().set(o.getKey(),s),l=n.merge({blockMap:i,selectionAfter:t});return r.EditorState.push(e,l,"remove-range")}if(0!==t.getStartOffset())return null;var u=n.getBlockBefore(a);if(u&&"atomic"===u.getType()){var c=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return r.EditorState.forceSelection(e,c);var d=n.getBlockMap().delete(o.getKey()),f=n.merge({blockMap:d,selectionAfter:c});return r.EditorState.push(e,f,"remove-range")}return null}function t(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),a=t.getStartKey(),o=n.getBlockForKey(a);if("atomic"===o.getType()){var s=new r.ContentBlock({key:o.getKey()}),i=n.getBlockMap().set(o.getKey(),s),l=n.merge({blockMap:i,selectionAfter:t});return r.EditorState.push(e,l,"remove-range")}if(t.getStartOffset()<o.getLength())return null;var u=n.getBlockAfter(a);if(u&&"atomic"===u.getType()){var c=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return r.EditorState.forceSelection(e,c);var d=n.getBlockMap().delete(o.getKey()),f=n.merge({blockMap:d,selectionAfter:c});return r.EditorState.push(e,f,"remove-range")}return null}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.editorKey,s=n.renderOnly;if(!o)throw new Error("editorKey is empty");return{blockRendererFn:function(e){if("atomic"===e.getType())return{component:r.EditorBlock,editable:!1}},keyBindingFn:s?void 0:function(e,t){var n=t.getEditorState,a=t.setEditorState;if(!e.shiftKey){var o=n();if(37===e.keyCode&&((0,r.isAtomicBlockSelected)(o)||(0,r.isBlockBeforeAtomic)(o)&&(0,r.isSelectionAtBlockStart)(o))){var s=(0,r.moveToPrevBlock)(o);if(s)return a(s),""}if(39===e.keyCode&&((0,r.isAtomicBlockSelected)(o)||(0,r.isBlockAfterAtomic)(o)&&(0,r.isSelectionAtBlockEnd)(o))){var i=(0,r.moveToNextBlock)(o);if(i)return a(i),""}}},onDownArrow:s?void 0:function(e,t){var n=t.getEditorState,a=t.setEditorState;if(!e.shiftKey){var o=n();if((0,r.isAtomicBlockSelected)(o)||(0,r.isBlockAfterAtomic)(o)&&(0,r.isFocusAtLastLine)()){var s=(0,r.moveToNextBlock)(o);s&&(a(s),e.preventDefault())}}},onUpArrow:s?void 0:function(e,t){var n=t.getEditorState,a=t.setEditorState;if(!e.shiftKey){var o=n();if((0,r.isAtomicBlockSelected)(o)||(0,r.isBlockBeforeAtomic)(o)&&(0,r.isFocusAtFirstLine)()){var s=(0,r.moveToPrevBlock)(o);s&&(a(s),e.preventDefault())}}},handleKeyCommand:s?void 0:function(n,r,a){var o=a.setEditorState,s=void 0;switch(n){case"backspace":case"backspace-word":case"backspace-to-start-of-line":if((s=e(r))&&s!==r)return o(s),"handled";break;case"delete":case"delete-word":case"delete-to-end-of-block":if((s=t(r))&&s!==r)return o(s),"handled"}return"not-handled"},handleReturn:s?void 0:function(e,t,n){var a=n.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";var s=t.getCurrentContent(),i=o.getStartKey(),l=s.getBlockForKey(i);return"atomic"===l.getType()?(a((0,r.addEmptyBlockBefore)(t,l.getKey())),"handled"):"not-handled"},handleBeforeInput:s?void 0:function(e,t){var n=t.getSelection();if(!n.isCollapsed())return"not-handled";var r=t.getCurrentContent(),a=n.getStartKey();return"atomic"===r.getBlockForKey(a).getType()?"handled":"not-handled"},handlePastedText:s?void 0:function(e,t,n,a){var o=a.setEditorState,s=a.getProps,i="CONNECT_ATOMIC_ENTITY:";if(e.startsWith(i)){e=e.substring(i.length);try{var l=JSON.parse(e),u=s().controller,c=u.getState("project.uploads"),d=u.getState("project.contentMap");if(l.data.uploadId&&c[l.data.uploadId]||l.data.contentId&&d[l.data.contentId]){var f=n.getSelection().getStartKey();o((0,r.addAtomicBlockBefore)(n,f,l.type,l.data))}}catch(e){console.warn("failed to parse entity: ",e)}return"handled"}return"not-handled"},decorator:(0,a.default)(n)}};var r=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(n(832))},,,function(e,t,n){e.exports=n(8)(344)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce(function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t},{})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=r(n(2)),g=r(n(1)),h=r(n(3)),m=r(n(72)),v=r(n(13)),_=r(n(15)),y=n(7),b=r(n(4)),S=r(n(746)),w=r(n(6)),E=r(n(747)),O=n(473),I=(i=(0,b.default)(S.default),l=(0,w.default)(E.default),i(u=l((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={},r.onConfirm=function(){r.props.onConfirm&&r.props.onConfirm()},r.onClose=function(){r.props.onClose&&r.props.onClose()},s=n,o(r,s)}return s(t,h.default),f(t,[{key:"getDialogOptions",value:function(e){var t={confirm:{text:this.__("button_ok"),theme:"thirdly"},cancel:{text:this.__("button_cancel"),theme:""}},n=this.__("title");switch(e){case"tfa":case"delete":t={confirm:{text:this.__("button_yes"),theme:"red"},cancel:{text:this.__("button_no"),theme:""}}}return{button:t,title:n,description:""}}},{key:"renderIcon",value:function(){var e=this.props.theme;return"delete"===e?g.default.createElement("div",{className:this.ss("icon-wrapper")},g.default.createElement("div",{className:this.ss("icon-bg")},g.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-trash")}))):"tfa"===e?g.default.createElement("div",{className:this.ss("icon-wrapper")},g.default.createElement("div",{className:this.ss("tfa-icon")},g.default.createElement(_.default,{src:O,width:100,height:100,sizes:"200px"}))):null}},{key:"renderButtons",value:function(){var e=this.props,t=e.confirmText,n=e.negateText,r=e.confirmStatus,a=e.theme,o=e.hideCancel,s=e.hideConfirm,i=(0,y.isLoadingOrSucceeded)(r),l=[];if(!o){var u=this.getDialogOptions(a).button.cancel.text;l.push(g.default.createElement(v.default,{key:"cancel",disabled:i,className:this.ss("button-cancel"),label:n||u,onClick:this.onClose}))}if(!s){var c=this.getDialogOptions(a).button.confirm,d=c.text,f=c.theme;l.push(g.default.createElement(v.default,{key:"ok",loading:i,theme:f,className:this.ss("button-ok"),label:t||d,onClick:this.onConfirm}))}return"delete"===a?l.reverse():l}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.title,r=e.description,a=e.theme,o=this.getDialogOptions(a),s=o.title,i=o.description;return g.default.createElement(m.default,{open:t,position:"center",width:640,title:n||s,onCloseModal:this.onClose},g.default.createElement("div",{className:this.ss("content-wrap",a)},this.renderIcon(),g.default.createElement("div",{className:this.ss("description")},r||i),g.default.createElement("div",{className:this.ss("button-wrap")},this.renderButtons())))}}]),t}(),c.propTypes={open:p.default.bool,title:p.default.string,description:p.default.string,theme:p.default.oneOf(["default","delete","tfa"]),confirmText:p.default.string,negateText:p.default.string,confirmStatus:p.default.string,hideConfirm:p.default.bool,hideCancel:p.default.bool,onConfirm:p.default.func,onClose:p.default.func},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(2)),h=r(n(1)),m=r(n(3)),v=r(n(20)),_=r(n(4)),y=r(n(745)),b=(l=(0,_.default)(y.default))((d=c=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={},r.onClose=function(){r.props.onCloseModal&&r.props.onCloseModal()},a=n,s(r,a)}return i(t,m.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.error,r=e.children,o=e.width,s=e.onCloseModal,i=e.disableBgClick,l=e.titleClassName,u=a(e,["title","error","children","width","onCloseModal","disableBgClick","titleClassName"]),c=h.default.createElement("span",{className:this.ss("error")},n),d=o?{width:o}:{};return h.default.createElement(v.default,f({},u,{onCloseModal:i?null:s}),h.default.createElement("div",{ref:"contents",className:this.ss("dialog-contents"),style:d},h.default.createElement("div",{className:this.ss("title-wrap")},h.default.createElement("div",{className:this.ss("title",l)},t||"",n&&c),h.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},h.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),r))}}]),t}(),c.propTypes={title:g.default.string,error:g.default.string,children:g.default.any,onCloseModal:g.default.func,width:g.default.number,disableBgClick:g.default.bool,titleClassName:g.default.string},u=d))||u;t.default=b},function(e,t){e.exports={"side-toolbar":"side-toolbar_1Uri1lW5",show:"show_2DNCvyJm","header-one":"header-one_j6HHgwHR","header-two":"header-two_11sfg1X_","unordered-list-item":"unordered-list-item_33lOfYHp","ordered-list-item":"ordered-list-item_3XgGUEcT",blockquote:"blockquote_21ocYYyo","code-block":"code-block_3IGHMlbW",plus:"plus_1W7As8Zv",open:"open_1Lh20wiP","menu-icons":"menu-icons_ofjg3Zls",button:"button_1SQc1Jkf",icon:"icon_3o877UiW",photo:"photo_VXGiZviJ",video:"video_3bVK-Jhh",upload:"upload_3HZpDKk6",hide:"hide_4hCka6ON","paragraph-icon-wrapper":"paragraph-icon-wrapper_3Bcba8Xg","paragraph-icon":"paragraph-icon_2_zkr3h5","block-toolbar-wrapper":"block-toolbar-wrapper_W9ne1VBU","block-toolbar":"block-toolbar_3WzQEBY_","toolbar-button-wrapper":"toolbar-button-wrapper_IeF2EboF","toolbar-button":"toolbar-button_3igueKtG",active:"active_1p26GcIp"}},function(e,t,n){e.exports=n.p+"../styles/i/default-webgl.113f9bc6f0c4d4ce118450d77b3b180d.png"},,,function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["header.recaptchaCode"],["header.recaptchaCode"]),o=r(["value"],["value"]),s=n(9),i=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.default={name:e,depends:[],signals:{changeRecaptchaCode:[(0,s.set)((0,i.state)(a),(0,i.props)(o))]},getServices:function(){},getState:function(){return{recaptchaCode:l.default.RECAPTCHA_ENABLE?"":"****"}},getRequestHeaderOption:function(e){return{headers:{captcha:e.get("header.recaptchaCode")}}},recaptchaError:function(e,t){return"ReCaptchaError"===e&&(t.getSignal("header.showMessage")({message:"recaptcha_error",type:"error"}),!0)}}}).call(t,"views/modules/common/header/ReCaptchaStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t[0]!==e?null:n.sortBy(function(e){return-e.text.length}).filter(function(e){var n=e.text;return 1===t.indexOf(n)}).map(function(t){var n=t.id,r=t.text;return[e+r,n]}).first()}function o(e,t,n){if(t[0]!==e)return null;var r=n.sortBy(function(e){return-e.textWithTitle.length}).filter(function(e){var n=e.textWithTitle;return 1===t.indexOf(n)}).map(function(t){var n=t.id,r=t.textWithTitle;return[e+r,n]}).value(),a=void 0;return r&&0!==r.length&&(a=[r[0][0]]),r.forEach(function(e){e[0]===a[0]&&(a=a.concat(e[1]))}),a}function s(e){return{order:e.order,match:e.match,parse:function(e){return{type:"text",content:e[0]}}}}function i(e){var t="";return e.forEach(function(e){e.content.constructor===String?t+=e.content:e.content.constructor===Array?t+=i(e.content):console.warn("Unknown message item type: ",e)}),t}Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(22)),u=r(n(149)),c=r(n(40)).default.getDefaultRules(),d={link:s(c.link),autolink:s(c.autolink),url:s(c.url),inlineCode:s(c.inlineCode),codeBlock:s(c.codeBlock),mentionWithTitle:{match:function(e,t){return o("@",e.toLowerCase(),t.users)},parse:function(e){var t="";return e.forEach(function(n,r){0!==r&&(t=t.concat("<@"+e[r]+">"),r!==e.length-1&&(t=t.concat(" ")))}),{type:"mention",content:t}}},mention:{match:function(e,t){return a("@",e.toLowerCase(),t.users)},parse:function(e){return{type:"mention",content:"<@"+e[1]+">"}}},text:l.default.clone(c.text)};Object.keys(d).forEach(function(e,t){d[e].order=t});var f=u.default.parserFor(d);t.default={parse:function(e,t){var n=t.users;n=(0,l.default)(n).map(function(e){return{id:e.id,text:e.fullname.toLowerCase(),textWithTitle:e.fullname.concat("#",e.title).toLowerCase()}});var r=f(e,{inline:!0,users:n}),a=[];return r.forEach(function(e){if("mention"===e.type){var t=/<@([a-f0-9]+)>/g.exec(e.content);a=a.concat(t[1])}}),{content:i(r),mentions:a}},unparse:function(e,t){var n=t.users;return e.replace(/<@([a-f0-9]+)>/g,function(e,t){var r=n[t];return r?"@"+r.fullname:e})}}},function(e,t){e.exports={predefined_invite_interview:"predefined_invite_interview_361K",predefined_make_offer:"predefined_make_offer_236S",predefined_accept_offer:"predefined_accept_offer_3anT",predefined_decline_offer:"predefined_decline_offer_LXqL",predefined_withdraw_offer:"predefined_withdraw_offer_3JTA",predefined_invite_interview_plaintext:"predefined_invite_interview_plaintext_H_jS",predefined_make_offer_plaintext:"predefined_make_offer_plaintext_2sgi",predefined_accept_offer_plaintext:"predefined_accept_offer_plaintext_2yoA",predefined_decline_offer_plaintext:"predefined_decline_offer_plaintext_3xB1",predefined_withdraw_offer_plaintext:"predefined_withdraw_offer_plaintext_lZO0",predefined_client_create_channel:"predefined_client_create_channel_1zvK",predefined_freelancer_create_channel:"predefined_freelancer_create_channel_1oui",predefined_client_create_channel_plaintext:"predefined_client_create_channel_plaintext_2FYf",predefined_freelancer_create_channel_plaintext:"predefined_freelancer_create_channel_plaintext_3eLG",predefined_accept_relationship:"predefined_accept_relationship_1JcD",predefined_request_relationship:"predefined_request_relationship_20JX",predefined_new_group_channel:"predefined_new_group_channel_2x-n",new_group_channel:"new_group_channel_kQpY",control_join:"control_join_1vIJ",control_left:"control_left_1oDR",control_invite:"control_invite_1SLD",control_kick:"control_kick_2OGd",control_edit_topic:"control_edit_topic_1FNi",control_edit_name:"control_edit_name_38VC",channel_name_comma:"channel_name_comma_3jHo",channel_name_and:"channel_name_and_2EBx",channel_name_people:"channel_name_people_wn4G",channel_name_empty:"channel_name_empty_2nqH",call_is_created:"call_is_created_2xFo",call_is_ended:"call_is_ended_-N2X",my_job:"my_job_1hNW",projects:"projects_1_Q6",lobbies:"lobbies_2wet",lobby_default_1:"lobby_default_1_3h2b",lobby_default_2:"lobby_default_2_WKIh",image_message:"image_message_1yCI",file_message:"file_message_16IW",workspace_connect:"workspace_connect_Nwdp",workspace_default_lobby:"workspace_default_lobby_2Clv"}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=a(["messages.connected"],["messages.connected"]),s=a(["messages.sessionId"],["messages.sessionId"]),i=a(["sessionId"],["sessionId"]),l=a(["messages.disconnected"],["messages.disconnected"]),u=n(9),c=n(0),d=r(n(43)),f=r(n(602)),p=(0,r(n(25)).default)({INVALID_LS:null,READY:null,RESUMED:null,NOTIFICATION_CREATE:null,NOTIFICATION_READ:null,NOTIFICATION_SEEN:null,MESSAGE_CREATE:null,MESSAGE_UPDATE:null,MESSAGE_DELETE:null,MESSAGE_ACK:null,CHANNEL_CREATE:null,CHANNEL_DELETE:null,CHANNEL_UPDATE:null,CHANNEL_MEMBER_ADD:null,CHANNEL_MEMBER_REMOVE:null,WORKSPACE_CREATE:null,WORKSPACE_DELETE:null,CALL_INFO:null,RINGING_START:null,RINGING_STOP:null,VOICE_STATE_START:null,VOICE_STATE_END:null,VOICE_SERVER_UPDATE:null,STREAM_STATE_START:null,TYPING_START:null,PRESENCE_UPDATE:null,RELATIONSHIP_ADD:null,RELATIONSHIP_REMOVE:null,FORCE_RELOAD:null,ODS_MATCHING:null,ODS_MATCHING_FINISHED:null,ODS_MATCHING_WAITING_FINISHED:null,ODS_REQUEST_ACCEPTED:null,ODS_REQUEST_DECLINED:null,ODS_GURU_READY:null,ODS_START_SESSION:null,ODS_END_SESSION:null,ODS_PAUSE_SESSION:null,ODS_RESUME_SESSION:null,ODS_REQUEST_CLOSED:null,ODS_ORDER_CREATED:null,ODS_SYNC_TIME:null,ODS_REQUEST_FIXED_PRICE:null,ODS_ACCEPT_FIXED_PRICE:null,ODS_DECLINE_FIXED_PRICE:null}),g=void 0;t.default={name:e,depends:[],signals:{startSession:[function(e){e.messages.socket.connect()}],connectionOpen:[(0,u.set)((0,c.state)(o),!0),(0,u.set)((0,c.state)(s),(0,c.props)(i)),(0,u.set)((0,c.state)(l),!1)],connectionClosed:[(0,u.set)((0,c.state)(o),!1),function(e){var t=e.props,n=e.state,r=t.retryInMilliSeconds;if(void 0===r)n.set("messages.disconnected",!0);else if("number"==typeof r){n.set("messages.disconnected",r);var a=Date.now()+r;!function e(){g&&(clearTimeout(g),g=null);var t=a-Date.now();t<1e3&&(t=1e3),"number"==typeof n.get("messages.disconnected")&&(n.set("messages.disconnected",t),g=setTimeout(e,500))}()}}],connectionReconnecting:[(0,u.set)((0,c.state)(l),"reconnecting")],forceReload:[function(e){var t=e.props.delay;setTimeout(function(){window.location.reload()},t)}]},getServices:function(e){var t={},n=new f.default("/api/socketgw",t,function(){var t=e.getState("messages.channels"),n=e.getState("messages.selectedWorkspaceId"),r=e.getState("messages.selectedChannelIds."+n);return r&&t&&t[r]&&"lobby"===t[r].type&&t[r].liveChannelId&&t[r].live?{cid:r}:{}});return n.on("connect",function(){var t=e.getState("LS")||d.default.get("LS"),r=e.getState("commitId");t?n.identify(t,r):n.close()}),n.on("disconnect",function(t){var n=t.code,r=t.reason,a=t.retryInMilliSeconds;e.getSignal("messages.connectionClosed")({code:n,reason:r,retryInMilliSeconds:a})}),n.on("reconnecting",function(){e.getSignal("messages.connectionReconnecting")()}),n.on("dispatch",function(t,n){var r=void 0;switch(t){case p.INVALID_LS:location.href="/";break;case p.READY:window.sendSignalToHost&&window.sendSignalToHost("connection_ready",{url:window.location.href}),e.getSignal("messages.connectionOpen")(n);try{e.getSignal("notification.connectionOpen")(n)}catch(e){console.error(e)}break;case p.RESUMED:break;case p.NOTIFICATION_CREATE:try{e.getSignal("notification.notificationCreate")(n)}catch(e){console.error(e)}try{e.getSignal("header.inPageNotificationNotice")(n)}catch(e){console.error(e)}(r=e.getSignal("header.setUnreadRequests"))&&r(n);break;case p.NOTIFICATION_READ:try{e.getSignal("notification.notificationRead")(n)}catch(e){console.error(e)}break;case p.NOTIFICATION_SEEN:try{e.getSignal("notification.notificationSeen")(n)}catch(e){console.error(e)}break;case p.MESSAGE_CREATE:e.getSignal("messages.messageCreate")(n,{immediate:!0});break;case p.MESSAGE_UPDATE:e.getSignal("messages.messageUpdate")(n);break;case p.MESSAGE_DELETE:e.getSignal("messages.messageDelete")(n);break;case p.MESSAGE_ACK:e.getSignal("messages.messageAck")(n);break;case p.CHANNEL_CREATE:e.getSignal("messages.channelCreate")(n,{immediate:!0});break;case p.CHANNEL_UPDATE:e.getSignal("messages.channelUpdate")(n);break;case p.CHANNEL_DELETE:e.getSignal("messages.channelDelete")(n);break;case p.CHANNEL_MEMBER_ADD:e.getSignal("messages.channelMemberAdd")(n);break;case p.CHANNEL_MEMBER_REMOVE:e.getSignal("messages.channelMemberRemove")(n);break;case p.WORKSPACE_CREATE:e.getSignal("messages.workspaceCreate")(n);break;case p.WORKSPACE_DELETE:e.getSignal("messages.workspaceDelete")(n);break;case p.TYPING_START:e.getSignal("messages.typingStart")(n);break;case p.PRESENCE_UPDATE:e.getSignal("messages.presenceUpdate")(n);break;case p.CALL_INFO:e.getSignal("messages.onCallInfo")(n);break;case p.RINGING_START:e.getSignal("messages.onRingingStart")(n);break;case p.RINGING_STOP:e.getSignal("messages.onRingingStop")(n);break;case p.VOICE_STATE_START:e.getSignal("messages.onVoiceStateStart")(n);break;case p.VOICE_STATE_END:e.getSignal("messages.onVoiceStateEnd")(n);break;case p.VOICE_SERVER_UPDATE:e.getSignal("messages.onVoiceServerUpdate")(n);break;case p.STREAM_STATE_START:e.getSignal("workspace.onStreamStateStart")(n);break;case p.RELATIONSHIP_ADD:e.getSignal("messages.relationshipAdd")(n);break;case p.RELATIONSHIP_REMOVE:e.getSignal("messages.relationshipRemove")(n);break;case p.FORCE_RELOAD:e.getSignal("messages.forceReload")(n);break;case p.ODS_MATCHING:(r=e.getSignal("header.matchingResultReceived"))&&r(n);break;case p.ODS_MATCHING_FINISHED:(r=e.getSignal("header.matchingFinishedResultReceived"))&&r(n);break;case p.ODS_MATCHING_WAITING_FINISHED:(r=e.getSignal("header.matchingWaitingFinishedResultReceived"))&&r(n);break;case p.ODS_REQUEST_ACCEPTED:(r=e.getSignal("header.requestAccepted"))&&r(n);break;case p.ODS_REQUEST_DECLINED:(r=e.getSignal("header.requestDeclined"))&&r(n);break;case p.ODS_GURU_READY:(r=e.getSignal("workspace.guruReadyNotify"))&&r();break;case p.ODS_START_SESSION:(r=e.getSignal("workspace.sessionStartNotify"))&&r();break;case p.ODS_END_SESSION:(r=e.getSignal("workspace.sessionEndNotify"))&&r(n);break;case p.ODS_PAUSE_SESSION:(r=e.getSignal("workspace.pauseSessionNotify"))&&r(n);break;case p.ODS_RESUME_SESSION:(r=e.getSignal("workspace.resumeSessionNotify"))&&r();break;case p.ODS_REQUEST_CLOSED:(r=e.getSignal("requests.requestClosedReceived"))&&r(n);break;case p.ODS_ORDER_CREATED:(r=e.getSignal("requests.orderCreatedNotify"))?r(n):(r=e.getSignal("sessionDetail.orderCreatedNotify"))&&r(n);break;case p.ODS_SYNC_TIME:(r=e.getSignal("messages.onSyncTimeResult"))&&r(n);break;case p.ODS_REQUEST_FIXED_PRICE:(r=e.getSignal("workspace.openFixedPriceExpertDialog"))&&r(n);break;case p.ODS_ACCEPT_FIXED_PRICE:(r=e.getSignal("workspace.fixedPriceAccepted"))&&r(n||{});break;case p.ODS_DECLINE_FIXED_PRICE:(r=e.getSignal("workspace.fixedPriceDeclined"))&&r(n)}}),{socket:n}},getState:function(){return{connected:!1,sessionId:"",disconnected:!1}},isConnected:function(e){return e.get("messages.connected")},getSessionId:function(e){return e.get("messages.sessionId")}}}).call(t,"views/v2/modules/messages/ConnectionStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){return{id:e.id,organizationId:e.organizationId,name:e.name,licenseActive:e.licenseActive,trialExpireTime:e.trialExpireTime,supportQuota:e.supportQuota,supportBalance:e.supportBalance,botId:e.botId,residentId:e.residentId}}function o(e){return function(t){t.state.set("messages.searchOrgStatus",e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=r(["messages.showSearchOrgs"],["messages.showSearchOrgs"]),l=r(["messages.createWorkspaceStatus.",""],["messages.createWorkspaceStatus.",""]),u=r(["organizationId"],["organizationId"]),c=r(["messages.joinWorkspaceStatus.",""],["messages.joinWorkspaceStatus.",""]),d=r(["messages.licenseExpireDisplay"],["messages.licenseExpireDisplay"]),f=r(["display"],["display"]),p=n(9),g=n(0),h=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),m=["messages","workspaces"],v=["messages","organizations"];t.default={name:e,depends:[],signals:{channelReady:[function(e){var t=e.props,n=e.state,r=t.workspace,o=n.get(m),i=o?s({},o):{};i[r.id]=a(r),n.set(m,i)}],connectionOpen:[function(e){var t=e.props,n=e.state,r=t.workspaces,o=n.get(m),i=o?s({},o):{};r.forEach(function(e){i[e.id]=a(e)}),n.set(m,i)}],searchOrganizations:[o(h.default.inProgress),(0,p.set)((0,g.state)(i),!0),[function(e){var t=e.http,n=e.path;return t.get("/api/organizations").then(n.success).catch(n.error)},{success:[o(h.default.succeeded),function(e){var t=e.props,n=e.state,r=t.status,a=t.result,o={};200===r&&a&&(a.forEach(function(e){o[e.id]=e}),n.set(v,o))}],error:[o(h.default.failed)]}]],createWorkspace:[(0,p.set)((0,g.state)(l,(0,g.props)(u)),h.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.organizationId;return n.post("/api/workspace",{organizationId:a}).then(r.success).catch(r.error)},{success:[(0,p.set)((0,g.state)(l,(0,g.props)(u)),h.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.status,a=t.result;200===r&&a&&n.getSignal("messages.workspaceCreate")(s({},a,{open:!0}))}],error:[(0,p.set)((0,g.state)(l,(0,g.props)(u)),h.default.failed)]}]],joinWorkspace:[(0,p.set)((0,g.state)(c,(0,g.props)(u)),h.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.workspaceId;return n.post("/api/workspaces/"+a+"/join",{}).then(r.success).catch(r.error)},{success:[(0,p.set)((0,g.state)(c,(0,g.props)(u)),h.default.succeeded),function(e){var t=e.props,n=e.controller,r=t.status,a=t.result;200===r&&a&&n.getSignal("messages.workspaceCreate")(s({},a,{open:!0}))}],error:[(0,p.set)((0,g.state)(c,(0,g.props)(u)),h.default.failed)]}]],workspaceSelect:[o(h.default.initial),(0,p.set)((0,g.state)(i),!1)],channelSelect:[(0,p.set)((0,g.state)(i),!1)],openExplore:[(0,p.set)((0,g.state)(i),!1)],workspaceRouted:[(0,p.set)((0,g.state)(i),!1)],showSupportView:[(0,p.set)((0,g.state)(i),!1)],workspaceCreate:[function(e){var t=e.props,n=e.state,r=e.controller,o=t,s={};s[o.id]=a(o),n.merge(m,s),o&&o.open&&r.getSignal("messages.workspaceSelect")({workspaceId:o.id})}],workspaceDelete:[function(e){var t=e.props,n=e.state,r=t;n.get([].concat(m,[r.id]))&&n.unset([].concat(m,[r.id]))}],toggleLicenseExpire:[(0,p.set)((0,g.state)(d),(0,g.props)(f))]},getState:function(){return{workspaces:{},searchOrgStatus:h.default.initial,showSearchOrgs:!1,createWorkspaceStatus:{},joinWorkspaceStatus:{},licenseExpireDisplay:!1}},getWorkspace:function(e,t){return e.get([].concat(m,[t]))},getWorkspaces:function(e){return e.get(m)},getDefaultWorkspace:function(e){var t=e.get(m);return Object.values(t).find(function(e){return""===e.organizationId})}}}).call(t,"views/v2/modules/messages/WorkspaceStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.props,n=e.state,r=t.result;n.set([].concat(y,[t.upload.id,err]),r)}function s(e,t){var n=(t.get(["project","projectData"])||{}).id,r=(t.get("challenge")||{}).challengeContent,a=(t.get("event")||{}).eventContent;return{id:e.id||g.default.createNonce(),sort:e.sort||0,uploadType:e.uploadType||"",filename:e.file&&e.file.name||"",fileSize:e.file&&e.file.size||0,contentType:e.file&&e.file.type||"",width:e.width||0,height:e.height||0,dataUrl:e.dataUrl||"",url:e.url||"",title:e.title||"",file:e.file||{},loaded:0,speed:0,projectId:n||"",challengeId:e.challengeId||(r||{}).id||"",eventTicketId:(a||{}).id||"",status:e.status||m.default.inProgress}}function i(e,t){return t.get([].concat(y,[e]))}function l(e,t){t.set([].concat(y,[e.id]),e)}function u(e,t){var n=i(e.id,t);t.set([].concat(y,[e.id]),f({},n,e))}function c(e,t){t.get([].concat(y,[e]))&&(t.unset([].concat(y,[e])),delete b[e])}Object.defineProperty(t,"__esModule",{value:!0});var d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.checkWindow"],["project.checkWindow"]),g=r(n(34)),h=r(n(14)),m=r(n(7)),v=n(9),_=n(0),y=["project","uploads"],b={},S="/api/p/0/attachments",w="webgl",E=(d={image:"/api/p/0/image",video:"/api/p/0/video",audio:"/api/p/0/audio",model3d:"/api/p/0/sketchfab",assetstore:"/api/p/0/asset",headerImage:"/api/p/0/headerImage"},a(d,w,"/api/webgl/upload"),a(d,"preview","/api/webgl/preview"),d),O=["video","model3d","audio","assetstore"];t.default={name:e,depends:[],signals:{uploadAttachment:[function(e){var t=e.props,n=e.state,r=e.project,a=s(t.upload,n),o=t.cb;n.set([].concat(y,[a.id]),a),r.httpUpload(a,o)}],retryUploadAttachment:[function(e){var t=e.props,n=e.state,r=e.project,a=i(t.id,n),o=f({},a);o.loaded=0,o.total=0,o.speed=0,o.status=m.default.inProgress,delete o.err,n.set([].concat(y,[a.id]),o),r.httpUpload(o)}],cancelUploadAttachment:[function(e){var t=e.props,n=e.state,r=t.id;b[r]&&b[r].abort(),c(r,n)}],uploadCreate:[function(e){l(e.props,e.state)}],uploadProgress:[function(e){var t=e.props,n=e.state,r=n.get([].concat(y,[t.id]));if(r){var a=0;if(r.processTime){var o=t.processTime-r.processTime;o<=0&&(o=1),a=1e3*(t.loaded-r.loaded)/o}t.speed=a,n.set([].concat(y,[r.id]),f({},r,t))}}],uploadComplete:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.id,o=t.type,s=t.result,i=s&&JSON.parse(s)||{};if(o===w){var l=i.key;r.getSignal("project.startCheckWebglProgressTimer")({key:l,id:a}),u({id:a,status:m.default.succeeded},n)}else r.getSignal("project.addContent")(f({},i),{immediate:!0}),u({id:a,contentId:i.id,status:m.default.succeeded},n)}],uploadFail:[function(e){var t=e.props,n=e.state;i(t.id,n)&&u({id:t.id,err:t.err,status:m.default.failed},n)},function(e){var t=e.props,n=e.state,r=e.controller,a=i(t.id,n);if(a){var o=a.err||{},s=o.errorCode,l=o.target,u=o.message,c=["project",s];l?c.push(l.trim().replace(/(\s|-)+/g,"_")):u&&c.push(u.trim().replace(/(\s|-)+/g,"_"));var d=c.join("_");r.getSignal("header.showMessage")({message:d})}}],uploadAbort:[function(e){var t=e.props,n=e.state;c(t.id,n)}],uploadAttachmentMultipart:[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=s(t.upload,n);return n.set([].concat(y,[o.id]),o),r.post("/api/attachment/multipartupload/create",{fileName:o.filename,fileType:o.contentType,private:!0}).then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,r=e.project,a=t.result;a&&(a.key&&n.set([].concat(y,[t.upload.id,"key"]),a.key),a.uploadId&&n.set([].concat(y,[t.upload.id,"uploadId"]),a.uploadId)),r.httpUpload(i(t.upload.id,n))}],error:[o],dummy:[]}],continueUploadAttachmentMultipart:[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=i(t.id,n),s="/api/attachment/multipartupload/offset?key="+o.key+"&uploadId="+o.uploadId+"&private=true";return r.get(s).then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,r=e.project,a=t.result;if(a){var o=i(t.id,n);delete o.err,o.speed=0,o.status=m.default.inProgress,a.key&&(o.key=a.key),a.uploadId&&(o.uploadId=a.uploadId),a.startBlock&&(o.startBlock=a.startBlock),a.offset&&(o.offset=a.offset),n.set([].concat(y,[o.id]),o),r.httpUpload(o)}}],error:[o],dummy:[]}],checkPendingWebgl:[function(e){var t=e.state,n=e.controller,r=t.get("project.projectData.pendingWebgl"),a=r;l({id:a,status:m.default.succeeded},t),n.getSignal("project.startCheckWebglProgressTimer")({key:r,id:a})}],setCheckWindow:[(0,v.set)((0,_.state)(p),!0)]},getServices:function(e){return{httpUpload:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.file,a=t.uploadType,o=new XMLHttpRequest;o.open("POST",""+h.default.REQUEST_BASE_URL+(a&&E[a]||S),!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.timeout=0;var s=t.startBlock||1,i=t.offset||0,l=t.uploadId||"",u=t.key||"";if(o.upload.addEventListener("progress",function(n){return e.getSignal("project.uploadProgress")({id:t.id,loaded:n.loaded+i,total:n.total+i,processTime:Date.now()})}),o.addEventListener("timeout",function(){return e.getSignal("project.uploadFail")({id:t.id})}),o.addEventListener("error",function(){return e.getSignal("project.uploadFail")({id:t.id,err:"network_error"})}),o.addEventListener("abort",function(){return e.getSignal("project.uploadAbort")({id:t.id})}),o.addEventListener("readystatechange",function(){if(o&&4===o.readyState)if(o.status>=200&&o.status<300){var r=o.response;if(n){var s=e.getSignal(n);s&&s({result:r,uploadId:t.id})}else e.getSignal("project.uploadComplete")({id:t.id,sort:t.sort,result:r,type:a})}else o.status>0&&e.getSignal("project.uploadFail")({id:t.id,err:JSON.parse(o.responseText)})}),-1!==O.indexOf(a)){o.setRequestHeader("Content-Type","application/json");var c={url:t.url,title:t.title};t.projectId&&(c.projectId=t.projectId),t.challengeId&&""!==t.challengeId&&(c.challengeId=t.challengeId),t.eventTicketId&&""!==t.eventTicketId&&(c.eventTicketId=t.eventTicketId),o.send(JSON.stringify(c))}else{var d=new FormData;t.projectId&&d.append("projectId",t.projectId),t.challengeId&&""!==t.challengeId&&d.append("challengeId",t.challengeId),t.eventTicketId&&""!==t.eventTicketId&&d.append("eventTicketId",t.eventTicketId),d.append("offset",i),d.append("startBlock",s),d.append("uploadId",l),d.append("key",u),d.append("fileName",r.name),d.append("fileType",r.type),d.append("size",r.size),d.append("fromWeb",!0),0!==i?d.append("file",r.slice(i)):d.append("file",r),o.send(d)}b[t.id]=o}}},getState:function(){return{uploads:{},checkWindow:!1}},getUpload:i,updateUpload:u}}).call(t,"views/v2/modules/projectV2/UploadStore.js")},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f,p,g,h,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.tooltips"],["header.tooltips"]),_=r(n(2)),y=r(n(1)),b=r(n(12)),S=r(n(3)),w=n(5),E=n(0),O=r(n(22)),I=r(n(4)),k=r(n(744)),C=(i=(0,I.default)(k.default))((c=u=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={left:0,top:0},s=n,o(r,s)}return s(t,S.default),m(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,n=e.targetWidth,r=e.targetHeight,a=e.left,o=e.top,s=b.default.findDOMNode(this),i=a,l=o;switch(t){case"left":i+=-s.offsetWidth,l+=r/2-s.offsetHeight/2;break;case"right":i+=n,l+=r/2-s.offsetHeight/2;break;case"bottom":i+=n/2-s.offsetWidth/2,l+=r;break;case"bottom-left":i+=n-s.offsetWidth,l+=r;break;case"top":default:i+=n/2-s.offsetWidth/2,l+=-s.offsetHeight}this.setState({left:i,top:l})}},{key:"render",value:function(){var e=this.props.tooltip,t=e.text,n=e.type,r=e.position,a=this.state,o=a.left,s=a.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+r,"tooltip-"+n),style:{left:o,top:s}},t)}}]),t}(),u.propTypes={tooltip:_.default.object.isRequired},l=c))||l,T=(d=(0,w.decorator)({tooltips:(0,E.state)(v)}),f=(0,I.default)(k.default),d(p=f((h=g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,S.default),m(t,[{key:"render",value:function(){var e=this.props.tooltips,t=O.default.map(e,function(e){return e.text&&y.default.createElement(C,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},t)}}]),t}(),g.propTypes={tooltips:_.default.object.isRequired},p=h))||p)||p);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["header.setting.scrollTop"],["header.setting.scrollTop"]),m=i(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),v=i(["header.popupMessages"],["header.popupMessages"]),_=i(["header.hideMessage"],["header.hideMessage"]),y=r(n(2)),b=r(n(1)),S=n(5),w=n(0),E=r(n(3)),O=n(23),I=r(n(4)),k=r(n(761)),C=r(n(6)),T=r(n(762)),j=O.presets.stiff,M=(l=(0,S.decorator)({scrollTop:(0,w.state)(h),currHeaderTop:(0,w.state)(m),messages:(0,w.state)(v),hideMessage:(0,w.signal)(_)}),u=(0,I.default)(k.default),c=(0,C.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.timerId=null,r.handleClose=function(){clearInterval(r.timerId),r.timerId=null,r.props.hideMessage()},s=n,o(r,s)}return s(t,E.default),g(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.messages||{},r=n.lastClicking,a=n.duration,o=void 0===a?0:a;r&&null===this.timerId&&this.isOpen(r,o)&&(this.timerId=setInterval(function(){return t.checkToClose(r,o)},1e3))}},{key:"isOpen",value:function(e,t){if(e){var n=Date.now()-e;return this.duration(n).asMilliseconds()<1e3*t}return!1}},{key:"checkToClose",value:function(e,t){this.isOpen(e,t)||this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.messages,r=t.className,a=t.theme,o=n||{},s=o.lastClicking,i=o.duration,l=void 0===i?0:i,u=o.message,c=o.type,d=o.params,f=void 0===d?{}:d,p={modalScale:.75,modalOpacity:0},g=this.isOpen(s,l)?{modalScale:(0,O.spring)(1,j),modalOpacity:(0,O.spring)(1,j)}:{modalScale:(0,O.spring)(.75,j),modalOpacity:(0,O.spring)(0,j)};return b.default.createElement(O.Motion,{defaultStyle:p,style:g},function(t){var n=t.modalScale,o=t.modalOpacity;if(o<.1)return null;var s={transform:"scale3d("+n+", "+n+", 1)",opacity:o},i="";if(u instanceof Array){var l=u.map(function(t){return e.__(t)}).join(", ");i=e.__("project_fields_required",{fields:l})}else i=e.__(u,f);return b.default.createElement("div",{className:e.ss("message-wrap",c,a)},b.default.createElement("div",{className:e.ss(r,"message",c||"error"),style:s},i))})}}]),t}(),f.propTypes={className:y.default.string,scrollTop:y.default.number,currHeaderTop:y.default.number,messages:y.default.object.isRequired,hideMessage:y.default.func,theme:y.default.string},d=p))||d)||d)||d);t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:n?void 0:function(e,t){var n=t.getEditorState,o=t.getProps;return e.getCurrentContent().getFirstBlock().getLength()>a?(o().controller.getSignal("header.showMessage")({message:"project_title_maxLength_135"}),r.EditorState.forceSelection(n(),n().getSelection())):e}}};var r=n(10),a=135},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=l(["draft.editorStates.",""],["draft.editorStates.",""]),v=l(["parentEditorKey"],["parentEditorKey"]),_=l(["editorKey"],["editorKey"]),y=l(["draft.editorEditable.",""],["draft.editorEditable.",""]),b=l(["draft.editorDirty.",""],["draft.editorDirty.",""]),S=l(["project.contentMap"],["project.contentMap"]),w=l(["draft.setEditorState"],["draft.setEditorState"]),E=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["draft.setEditorDirty"],["draft.setEditorDirty"]),I=r(n(1)),k=r(n(2)),C=r(n(3)),T=n(5),j=n(0),M=n(10),P=r(n(4)),x=r(n(782)),A=(u=(0,T.decorator)({parentEditorState:(0,j.state)(m,(0,j.props)(v)),editorState:(0,j.state)(m,(0,j.props)(_)),editable:(0,j.state)(y,(0,j.props)(_)),dirty:(0,j.state)(b,(0,j.props)(_)),contentMap:(0,j.state)(S),setEditorState:(0,j.signal)(w),setEditorEditable:(0,j.signal)(E),setEditorDirty:(0,j.signal)(O)}),c=(0,P.default)(x.default),u(d=c((p=f=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onEscape=function(){r.syncToEditor(!0)},r.onBlur=function(){r.syncToEntity()},r.onDownArrow=function(e){e.shiftKey||(0,M.isFocusAtLastLine)()&&(r.moveToNextBlock(),e.preventDefault())},r.onUpArrow=function(e){e.shiftKey||(0,M.isFocusAtFirstLine)()&&(r.moveToPrevBlock(),e.preventDefault())},r.keyBindingFn=function(e){if(!e.shiftKey){if(37===e.keyCode){var t=r.props.editorState;if((0,M.isSelectionAtBlockStart)(t))return r.moveToPrevBlock(),""}if(39===e.keyCode){var n=r.props.editorState;if((0,M.isSelectionAtBlockEnd)(n))return r.moveToNextBlock(),""}}},r.handleReturn=function(){var e=r.syncToEntity();return r.moveToNextBlock(e),"handled"},a=n,s(r,a)}return i(t,C.default),h(t,[{key:"componentWillMount",value:function(){var e=this.getEntityTitle();this.defaultEditorState=(0,M.createEditorStateWithText)(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getEntityTitle(e);t!==this.getEntityTitle()&&(this.defaultEditorState=(0,M.createEditorStateWithText)(t));var n=e.editable;this.props.editable&&!n&&this.syncToEntity(e);var r=e.dirty,a=e.editorKey,o=e.setEditorDirty;if(!r){var s=e.editorState,i=this.props.editorState;if(i&&s){var l=s.getCurrentContent();i.getCurrentContent()!==l&&o({editorKey:a})}}}},{key:"getEntityData",value:function(e){var t=e||this.props,n=t.entityKey;return t.parentEditorState.getCurrentContent().getEntity(n).getData()}},{key:"getEntityTitle",value:function(e){var t=void 0;switch((e=e||this.props).type){case"single":t=this.getEntityData(e).title;break;case"gallery":if("itemPos"in e){var n=e.itemPos,r=this.getEntityData(e).contents,a=void 0===r?[]:r;t=a[n]&&a[n].title}}return t||""}},{key:"mergeEntityTitle",value:function(e,t,n){var r=void 0;switch(this.props.type){case"single":r=(0,M.mergeAtomicEntityData)(e,t,{title:n});break;case"gallery":if("itemPos"in this.props){var o=this.props.itemPos,s=this.getEntityData().contents,i=void 0===s?[]:s,l=i[o]||{},u=[].concat(a(i));u.splice(o,1,g({},l,{title:n})),r=(0,M.mergeAtomicEntityData)(e,t,{contents:u})}}return r||e}},{key:"syncToEntity",value:function(e){var t=e||this.props,n=t.dirty,r=t.parentEditorKey,a=t.parentEditorState,o=t.entityKey,s=t.editorKey,i=t.editorState,l=t.setEditorDirty,u=t.setEditorState;if(n){var c=i.getCurrentContent().getPlainText(),d=a.getCurrentContent();d=this.mergeEntityTitle(d,o,c);var f=M.EditorState.push(a,d,"apply-entity");return u({editorKey:r,editorState:f}),l({editorKey:s,dirty:!1}),f}return null}},{key:"syncToEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEntityTitle(),n=this.props,r=n.dirty,a=n.editorState,o=n.editorKey,s=n.setEditorState,i=n.setEditorDirty;r&&!e||((a&&a.getCurrentContent().getPlainText()||"")!==t&&s({editorKey:o,editorState:(0,M.createEditorStateWithText)(t)}),r&&i({editorKey:o,dirty:!1}))}},{key:"moveToNextBlock",value:function(e){var t=this.props,n=t.parentEditorKey,r=t.parentEditorState,a=t.parentOffsetKey,o=t.setEditorEditable,s=t.setEditorState,i=(e=e||r).getCurrentContent(),l=M.DraftOffsetKey.decode(a).blockKey,u=i.getKeyAfter(l);if(u){o({editorKey:n});var c=new M.SelectionState({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0});s({editorKey:n,editorState:M.EditorState.forceSelection(M.EditorState.set(e,{currentContent:i.merge({selectionAfter:c})}),c)})}}},{key:"moveToPrevBlock",value:function(){var e=this.props,t=e.parentEditorKey,n=e.parentEditorState,r=e.parentOffsetKey,a=e.setEditorEditable,o=e.setEditorState,s=n.getCurrentContent(),i=M.DraftOffsetKey.decode(r).blockKey,l=s.getBlockBefore(i);if(l){a({editorKey:t});var u=new M.SelectionState({anchorKey:l.getKey(),anchorOffset:"atomic"===l.getType()?0:l.getLength(),focusKey:l.getKey(),focusOffset:"atomic"===l.getType()?0:l.getLength()});o({editorKey:t,editorState:M.EditorState.forceSelection(M.EditorState.set(n,{currentContent:s.merge({selectionAfter:u})}),u)})}}},{key:"handlePastedText",value:function(e){return e.startsWith("CONNECT_ATOMIC_ENTITY:")?"handled":"not-handled"}},{key:"render",value:function(){var e=this.props,t=e.parentIsFocused,n=e.parentOffsetKey,r=e.editorKey,a=e.editorState,o=e.editable,s=e.dirty,i=e.placeholder,l=e.renderOnly,u=!(s&&a.getCurrentContent().getPlainText()||this.getEntityTitle()||"")&&!t&&!o;return I.default.createElement("div",{className:this.ss("caption",u&&"hide")},I.default.createElement(M.Editor,{offsetKey:n,editorKey:r,defaultEditorState:this.defaultEditorState,renderOnly:l,textAlignment:"center",placeholder:i,keyBindingFn:l?void 0:this.keyBindingFn,onDownArrow:l?void 0:this.onDownArrow,onUpArrow:l?void 0:this.onUpArrow,handleReturn:l?void 0:this.handleReturn,onEscape:l?void 0:this.onEscape,onBlur:l?void 0:this.onBlur,handlePastedText:l?void 0:this.handlePastedText}))}}]),t}(),f.propTypes={parentEditorKey:k.default.string.isRequired,parentEditorState:k.default.object,parentIsFocused:k.default.bool,parentOffsetKey:k.default.string.isRequired,editorKey:k.default.string.isRequired,editorState:k.default.object,editable:k.default.bool,dirty:k.default.bool,entityKey:k.default.string,renderOnly:k.default.bool,placeholder:k.default.any,setEditorState:k.default.func,setEditorEditable:k.default.func,setEditorDirty:k.default.func,itemPos:k.default.number,type:k.default.oneOf(["single","gallery"])},f.defaultProps={type:"single"},d=p))||d)||d);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return[].concat(a(e)).filter(function(e){return 0!==e.type.indexOf("image/")}).map(function(e){return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"attachment",type:e.type}})}function s(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"ATTACHMENT"===n.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=o,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var r=l.default;return e.decorator&&(r=e.decorator(r)),r=(0,i.default)(r,{editorKey:t,renderOnly:n}),{handleDroppedFiles:n?void 0:function(e,t,n){var r=n.getEditorState,a=n.setEditorState,s=(0,n.getProps)().controller,i=s.getState("project.dragOverBlockKey");if(!i)return"not-handled";var l=o(t),c=0!==l.length,d=r();return l.forEach(function(e){d=(0,u.addAtomicBlockBefore)(d,i,"ATTACHMENT",{uploadId:e.id}),s.getSignal("project.uploadAttachment")({upload:e})}),c&&a(d),c?"handled":"not-handled"},handlePastedFiles:n?void 0:function(e,t){var n=t.getEditorState,r=t.setEditorState,a=(0,t.getProps)().controller,s=n(),i=s.getSelection().getStartKey(),l=o(e),c=0!==l.length;return l.forEach(function(e){s=(0,u.addAtomicBlockBefore)(s,i,"ATTACHMENT",{uploadId:e.id}),a.getSignal("project.uploadAttachment")({upload:e})}),c&&r(s),c?"handled":"not-handled"},decorators:[{strategy:s,component:r}]}};var i=r(n(36)),l=r(n(787)),u=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(1)),p=r(n(2)),g=r(n(3)),h=n(10),m=r(n(4)),v=r(n(836)),_=r(n(29)),y=r(n(30)),b=r(n(86)),S=(i=(0,m.default)(v.default))((c=u=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s={editorKey:e.editorKey,renderOnly:e.renderOnly,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return r.titleNormalizePlugin=(0,b.default)(s),r.navigationPlugin=(0,_.default)(s),r.autoSavePlugin=(0,y.default)(s),r.draftPlugins=[r.titleNormalizePlugin,r.navigationPlugin,r.autoSavePlugin],r}return s(t,g.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,r=e.defaultEditorState,a=e.renderOnly,o=e.theme,s=e.warning;return f.default.createElement("div",{className:this.ss("title-wrap",o,s&&"warning")},f.default.createElement(h.Editor,{editorKey:t,placeholder:n,defaultEditorState:r,renderOnly:a,plugins:this.draftPlugins}))}}]),t}(),u.propTypes={editorKey:p.default.string.isRequired,nextEditorKey:p.default.string,placeholder:p.default.string,defaultEditorState:p.default.object,renderOnly:p.default.bool,theme:p.default.string,warning:p.default.bool},u.defaultProps={renderOnly:!1},l=c))||l;t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(1)),p=r(n(2)),g=r(n(3)),h=n(10),m=r(n(4)),v=r(n(837)),_=r(n(29)),y=r(n(30)),b=r(n(838)),S=(i=(0,m.default)(v.default))((c=u=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s={editorType:e.editorType,editorKey:e.editorKey,renderOnly:e.renderOnly,prevEditorKey:e.prevEditorKey,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return r.descriptionNormalizePlugin=(0,b.default)(s),r.navigationPlugin=(0,_.default)(s),r.autoSavePlugin=(0,y.default)(s),r.draftPlugins=[r.descriptionNormalizePlugin,r.navigationPlugin,r.autoSavePlugin],r}return s(t,g.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,r=e.defaultEditorState,a=e.renderOnly,o=e.theme;return f.default.createElement("div",{className:this.ss("desc-wrap",o)},f.default.createElement(h.Editor,{editorKey:t,placeholder:n,defaultEditorState:r,renderOnly:a,plugins:this.draftPlugins}))}}]),t}(),u.propTypes={editorType:p.default.string,editorKey:p.default.string.isRequired,prevEditorKey:p.default.string,nextEditorKey:p.default.string,placeholder:p.default.string,defaultEditorState:p.default.object,renderOnly:p.default.bool,theme:p.default.string},u.defaultProps={renderOnly:!1},l=c))||l;t.default=S},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=l(["project.projectData.id"],["project.projectData.id"]),v=l(["project.uploadAttachment"],["project.uploadAttachment"]),_=l(["project.openUploadVideo"],["project.openUploadVideo"]),y=l(["header.showMessage"],["header.showMessage"]),b=r(n(2)),S=r(n(1)),w=r(n(3)),E=n(5),O=n(0),I=r(n(15)),k=r(n(13)),C=n(130),T=n(839),j=n(11),M=r(n(4)),P=r(n(840)),x=r(n(6)),A=r(n(841)),R={uri:"text/uri-list",files:"Files"},D=n(842),N=n(843),L=(u=(0,E.decorator)({projectId:(0,O.state)(m),uploadAttachment:(0,O.signal)(v),openUploadVideo:(0,O.signal)(_),showMessage:(0,O.signal)(y)}),c=(0,M.default)(P.default),d=(0,x.default)(A.default),u(f=c(f=d((g=p=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={counter:0},r.onClickUploadPhoto=function(){r.refs.imageSelect.click()},r.onClickUploadWebgl=function(){r.refs.zipSelect.click()},r.onClickUploadVideo=function(e){var t=e.url,n=void 0===t?"":t,a=r.props,o=a.editorKey,s=a.entityKey,i=a.openUploadVideo,l={editorKey:o,entityKey:s};n&&(l.url=n),i(l)},r.onClickBox=function(e){r.props.focus&&r.props.focus(e)},r.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,n=void 0===t?[]:t;r.uploadImages(n),r.refs.imageSelect.value=null}},r.onZipFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,n=void 0===t?[]:t;n.length>0&&r.uploadZipFile(n[0]),r.refs.zipSelect.value=null}},r.onDragOver=function(e){e&&(0,j.pauseEvent)(e)},r.onDragEnter=function(e){e&&(0,j.pauseEvent)(e),r.addCounter(1)},r.onDragLeave=function(e){e&&(0,j.pauseEvent)(e),r.addCounter(-1)},r.onDrop=function(e){e&&(0,j.pauseEvent)(e),r.setState({counter:0}),r.onHandleDrop(e)},r.onHandleDrop=function(e){if(e&&e.dataTransfer){var t=e.dataTransfer,n=t||{},a=n.files,o=void 0===a?[]:a,s=n.types,i=void 0===s?[]:s,l=i.contains,u=i.indexOf;if(l&&i.contains(R.uri)||u&&-1!==i.indexOf(R.uri)){var c=t.getData("URL");r.onClickUploadVideo({url:c})}(l&&i.contains(R.files)||u&&-1!==i.indexOf(R.files))&&(r.isWebgl()&&o.length>0?r.uploadZipFile(o[0]):r.uploadImages(o))}},a=n,s(r,a)}return i(t,w.default),h(t,[{key:"getEntity",value:function(){var e=this.props,t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t)}},{key:"getEntityData",value:function(){return this.getEntity().getData()}},{key:"getEntityType",value:function(){return this.getEntity().getType()}},{key:"isWebgl",value:function(){return"WEBGLGALLERY"===this.getEntityType()}},{key:"addCounter",value:function(e){var t=this.state.counter;this.setState({counter:t+e})}},{key:"uploadImages",value:function(e){var t=this,n=this.props,r=n.showMessage,a=n.uploadAttachment;e.length>9?r({message:"fileMaxLength_9"}):(0,C.readImages)(Array.from(e)).then(function(e){var n=[];e.forEach(function(e){n.push(e.id),a({upload:e})}),t.addUpload(n)})}},{key:"uploadZipFile",value:function(e){var t=this,n=this.props,r=n.projectId,a=n.uploadAttachment,o=n.showMessage;e.size>104857600?o({message:"fileMaxSize_100"}):(0,T.readZipFile)(e).then(function(e){var n=[e.id];e.projectId=r,a({upload:e}),t.addUpload(n)})}},{key:"addUpload",value:function(e){var t=this.getEntityData().contents,n=void 0===t?[]:t,r=[].concat(a(n));(e||[]).forEach(function(e){-1===n.findIndex(function(t){return t.uploadId===e})&&r.push({uploadId:e})}),this.props.syncToEntity&&this.props.syncToEntity(r)}},{key:"renderButtons",value:function(){return this.isWebgl()?S.default.createElement("div",{className:this.ss("add-new-buttons")},S.default.createElement("div",{className:this.ss("button")},S.default.createElement(k.default,{theme:"primary-blue",size:"medium",widthType:"full",label:this.__("button_upload_webgl"),onClick:this.onClickUploadWebgl}))):S.default.createElement("div",{className:this.ss("add-new-buttons")},S.default.createElement("div",{className:this.ss("button")},S.default.createElement(k.default,{theme:"blue",size:"medium",widthType:"full",label:this.__("button_upload_photo"),onClick:this.onClickUploadPhoto})),S.default.createElement("div",{className:this.ss("button")},S.default.createElement(k.default,{theme:"white",size:"medium",widthType:"full",label:this.__("button_upload_embed"),onClick:this.onClickUploadVideo})))}},{key:"renderFileInput",value:function(){return this.isWebgl()?S.default.createElement("input",{type:"file",ref:"zipSelect",multiple:!1,accept:"application/zip",className:this.ss("hide"),onChange:this.onZipFilesChange}):S.default.createElement("input",{type:"file",ref:"imageSelect",multiple:!0,accept:"image/*",className:this.ss("hide"),onChange:this.onFilesChange})}},{key:"renderBox",value:function(){var e=this.isWebgl();return S.default.createElement("div",{className:this.ss("add-new",this.state.counter>0&&"drag-over",e&&"black-background"),onClick:this.onClickBox,onDragOver:this.onDragOver,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},S.default.createElement("div",{className:this.ss("add-new-icon",e&&"webgl")},e?S.default.createElement(I.default,{src:N,sizes:"40px"}):S.default.createElement(I.default,{src:D,width:140,height:132,sizes:"200px"})),S.default.createElement("div",{className:this.ss("add-new-title",e&&"hide")},e?this.__("add_new_title_webgl"):this.__("add_new_title")),S.default.createElement("div",{className:this.ss("add-new-description",e&&"webgl-description")},e?this.__("add_new_description_webgl"):this.__("add_new_description")),this.renderButtons(),this.renderFileInput())}},{key:"render",value:function(){var e=this.props.ratio;if(e){var t={paddingBottom:100*e+"%"};return S.default.createElement("div",{className:this.ss("upload-box")},S.default.createElement("div",{style:t}),S.default.createElement("div",{className:this.ss("add-new-wrap")},this.renderBox()))}return this.renderBox()}}]),t}(),p.propTypes={projectId:b.default.string,editorKey:b.default.string,entityKey:b.default.string,editorState:b.default.object,isFocused:b.default.bool,ratio:b.default.number,focus:b.default.func,showMessage:b.default.func,uploadAttachment:b.default.func,openUploadVideo:b.default.func,syncToEntity:b.default.func},f=g))||f)||f)||f);t.default=L},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(2)),p=r(n(1)),g=r(n(12)),h=r(n(3)),m=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],v=void 0,_=(u=l=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={height:"auto"},a=n,s(r,a)}return i(t,h.default),d(t,[{key:"componentDidMount",value:function(){this.recalculateSize(),this.props.autoFocus&&this.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=t.height,r=this.state.height;r!==n&&this.props.onResize&&this.props.onResize(r)}},{key:"onChange",value:function(e){this.recalculateSize(),this.props.onChange&&this.props.onChange(e)}},{key:"clear",value:function(){g.default.findDOMNode(this).value="",this.recalculateSize()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"recalculateSize",value:function(){var e=g.default.findDOMNode(this),t=e.value,n=this.props.fontWidthEstimate;if(null!==n&&-1===t.indexOf("\n")&&t.length*n<.8*e.offsetWidth)this.setState({height:"auto",overflow:"hidden"});else{v||(v=document.createElement("textarea"),document.body.appendChild(v));var r=this.calculateNodeStyling(e),a=r.paddingSize,o=r.borderSize,s=r.boxSizing,i=r.sizingStyle;v.setAttribute("style",i+";\n    height:0;\n    visibility:hidden;\n    overflow:hidden;\n    position:absolute;\n    z-index:-1000;\n    top:0;\n    right:0;\n"),v.value=t;var l=v.scrollHeight;"border-box"===s?l+=o:"content-box"===s&&(l-=a),this.setState({height:l,overflow:"hidden"})}}},{key:"calculateNodeStyling",value:function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:m.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:r,borderSize:a,boxSizing:n}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.fontWidthEstimate,t.onResize,a(t,["fontWidthEstimate","onResize"]));return p.default.createElement("textarea",c({ref:"input"},n,{style:this.state,onChange:function(t){return e.onChange(t)}}))}}]),t}(),l.propTypes={fontWidthEstimate:f.default.number,autoFocus:f.default.bool,onResize:f.default.func,onChange:f.default.func},l.defaultProps={fontWidthEstimate:null},u);t.default=_},,,,,,,,,,,function(e,t,n){"use strict";e.exports={isAdmin:function(e){var t=(e||{}).roles;return!(!t||0===t.length)&&t.findIndex(function(e){return"owner"===e||"manager"===e})>=0},isOwner:function(e){var t=(e||{}).roles;return!(!t||0===t.length)&&t.findIndex(function(e){return"owner"===e})>=0},isManager:function(e){var t=(e||{}).roles;return!(!t||0===t.length)&&t.findIndex(function(e){return"manager"===e})>=0}}},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){function e(e){return{result:e.data,status:e.status,headers:e.headers}}function t(e){if(e.response){var t=e.response,n=t.data,r=t.status,a=t.headers;return Promise.reject({message:e.message,code:e.code,result:n,status:r,headers:a})}return Promise.reject({message:e.message,code:e.code})}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{get:function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.params=a,o.default.get(r,(0,s.merge)(n,i)).then(e,t)},put:function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.put(r,a,(0,s.merge)(n,i)).then(e,t)},post:function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.post(r,a,(0,s.merge)(n,i)).then(e,t)},delete:function(r,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.params=a,o.default.delete(r,(0,s.merge)(n,i)).then(e,t)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.AxiosProviderFactory=function(e){var t=l;i.default.PROXY_HOST&&(t.proxy={host:i.default.PROXY_HOST,port:i.default.PROXY_PORT}),e&&(t=(0,s.merge)(t,e));var n=null;return function(){return n||(n=a(t)),n}};var o=r(n(515)),s=n(516),i=r(n(14)),l={baseURL:i.default.REQUEST_BASE_URL,timeout:i.default.REQUEST_TIMEOUT,headers:{"X-Requested-With":"XMLHttpRequest"}},u=a(l);t.default=u},function(e,t,n){"use strict";function r(){var e=window.Notification;return!!e&&"granted"===e.permission}Object.defineProperty(t,"__esModule",{value:!0}),t.default={hasPermission:r,permissionDenied:function(){var e=window.Notification;return!e||"denied"===e.permission},requestPermission:function(){var e=window.Notification;return e?e.requestPermission():new Promise(function(e){e("denied")})},showNotification:function(e,t,n,a){if(!r())return null;var o=a&&a.tag||null,s=new Notification(t,{body:n,icon:e,tag:o});return setTimeout(function(){return s.close()},1e4),s.onclick=function(){a.onClick&&a.onClick(),s.close()},s}}},function(e,t){e.exports={join_request_received_team_text:"join_request_received_team_text_2Hbl",join_request_accepted_team_text:"join_request_accepted_team_text_2fO-",join_request_accepted_user_text:"join_request_accepted_user_text_1p_t",join_request_declined_user_text:"join_request_declined_user_text_HbOy",team_invitation_received_user_text:"team_invitation_received_user_text_2Sl9",team_invitation_received_user_admin_text:"team_invitation_received_user_admin_text_1tXf",team_invitation_accepted_user_text:"team_invitation_accepted_user_text_23q_",team_invitation_accepted_user_admin_text:"team_invitation_accepted_user_admin_text_gt2S",team_invitation_accepted_team_text:"team_invitation_accepted_team_text_1CjA",team_invitation_accepted_team_admin_text:"team_invitation_accepted_team_admin_text_3zad",team_invitation_declined_team_text:"team_invitation_declined_team_text_2Ry9",team_invitation_declined_team_admin_text:"team_invitation_declined_team_admin_text_3A6U",team_followed_team_text:"team_followed_team_text_2Re7",member_removed_team_text:"member_removed_team_text_16on",member_removed_team_admin_text:"member_removed_team_admin_text_1x-z",member_removed_user_text:"member_removed_user_text_1SIQ",member_removed_user_admin_text:"member_removed_user_admin_text_mX3i",member_leaves_team_text:"member_leaves_team_text_1805",member_leaves_team_admin_text:"member_leaves_team_admin_text_MRiR",client_receive_proposal_team_text:"client_receive_proposal_team_text_2rPN",proposal_approved_team_text:"proposal_approved_team_text_3eOU",proposal_approved_user_text:"proposal_approved_user_text_2Hj5",proposal_declined_user_text:"proposal_declined_user_text_26ST",client_invite_developer_user_text:"client_invite_developer_user_text_3Rkl",invitation_accepted_team_text:"invitation_accepted_team_text_1z5z",contributor_invitation_received_user_text:"contributor_invitation_received_user_text_haQj",contributor_invitation_accepted_user_text:"contributor_invitation_accepted_user_text_1UWT",contributor_invitation_declined_user_text:"contributor_invitation_declined_user_text_1Wxt",project_commented_user_text:"project_commented_user_text_373y",project_comment_mentioned_user_text:"project_comment_mentioned_user_text_2ANs",project_liked_user_text:"project_liked_user_text_3KVM",project_mentioned_user_text:"project_mentioned_user_text_1My2",project_message_commented_user_text:"project_message_commented_user_text_3lq6",project_participate_comment_user_text:"project_participate_comment_user_text_1nTV",post_liked_user_text:"post_liked_user_text_1Gc2",post_mentioned_user_text:"post_mentioned_user_text_IkAm",followed_user_text:"followed_user_text_ISgn",project_suspended_user_text:"project_suspended_user_text_ke6w",task_suspended_user_text:"task_suspended_user_text_1BvR",job_suspended_team_text:"job_suspended_team_text_cit9",job_share_user_text:"job_share_user_text_1koe",job_approved_user_text:"job_approved_user_text_3Nc-",task_approved_user_text:"task_approved_user_text_2lOO",showcase_approved_user_text:"showcase_approved_user_text_GeqR",game_approved_user_text:"game_approved_user_text_TZq5",article_approved_user_text:"article_approved_user_text_3byJ",company_suspended_team_text:"company_suspended_team_text_1owJ",school_admin_granted_user_text:"school_admin_granted_user_text_8Dag",school_admin_removed_user_text:"school_admin_removed_user_text_1gNE",school_request_accepted_user_text:"school_request_accepted_user_text_2ssw",school_request_declined_user_text:"school_request_declined_user_text_ByOS",school_member_removed_user_text:"school_member_removed_user_text_2ofF",school_application_received_school_text:"school_application_received_school_text_1lkL",school_deleted_school_text:"school_deleted_school_text_2HCO",reference_invitation_created_user_text:"reference_invitation_created_user_text_3yEP",reference_invitation_remind_user_text:"reference_invitation_remind_user_text_3F6Q",reference_invitation_changed_user_text:"reference_invitation_changed_user_text_1sBS",reference_received_user_text:"reference_received_user_text_2-e4",relationship_requested_user_text:"relationship_requested_user_text_2RN0",relationship_created_user_text:"relationship_created_user_text_1chn",relationship_accepted_user_text:"relationship_accepted_user_text_1MAC",event_coupon_code_user_text:"event_coupon_code_user_text_1ZIv",group_invitation_received_user_text:"group_invitation_received_user_text_2tde",group_invitation_accepted_group_text:"group_invitation_accepted_group_text_1Bh5",group_invitation_declined_group_text:"group_invitation_declined_group_text_24fb",group_member_removed_group_text:"group_member_removed_group_text_1fTq",group_member_removed_group_admin_text:"group_member_removed_group_admin_text_10mb",group_member_leaves_group_text:"group_member_leaves_group_text_3whg",group_member_leaves_group_admin_text:"group_member_leaves_group_admin_text_2qzq",group_member_removed_user_text:"group_member_removed_user_text_29U6",project_pinned_user_text:"project_pinned_user_text_Lcn2",project_featured_user_text:"project_featured_user_text_Qe_d",project_message_liked_user_text:"project_message_liked_user_text_3SyP",project_message_participate_liked_user_text:"project_message_participate_liked_user_text_3_lw",post_commented_user_text:"post_commented_user_text_Nvzm",post_participate_comment_user_text:"post_participate_comment_user_text_3VPn",post_pinned_user_text:"post_pinned_user_text_1iCI",post_featured_user_text:"post_featured_user_text_lpoP",job_pinned_user_text:"job_pinned_user_text_HmjH",job_featured_user_text:"job_featured_user_text_3AeD",ods_request_received_guru_text:"ods_request_received_guru_text_2Vhr",ods_request_received_guru_fixed_later_text:"ods_request_received_guru_fixed_later_text_3clS",ods_session_upcoming_client_text:"ods_session_upcoming_client_text_3OIA",ods_session_upcoming_guru_text:"ods_session_upcoming_guru_text_2Ar0",realtime:"realtime_1Xlt",schedule:"schedule_yIsP",ods_order_refunded_client_text:"ods_order_refunded_client_text_3hz7",ods_order_refunded_guru_text:"ods_order_refunded_guru_text_2QoM",ods_order_refund_rejected_client_text:"ods_order_refund_rejected_client_text_NGDg",ods_order_disputed_guru_text:"ods_order_disputed_guru_text_1mMw",ods_order_dispute_rejected_guru_text:"ods_order_dispute_rejected_guru_text_22ot",ticket_updated_user_text:"ticket_updated_user_text_1n_z",project_article_publish_user_text:"project_article_publish_user_text_ehFS",project_article_publish_team_text:"project_article_publish_team_text_3-XB",challenge_completed_win_user_text:"challenge_completed_win_user_text_1q5k",challenge_completed_win_team_text:"challenge_completed_win_team_text_1MgW",challenge_completed_honor_user_text:"challenge_completed_honor_user_text_2UzB",challenge_completed_honor_team_text:"challenge_completed_honor_team_text_312F",challenge_completed_user_text:"challenge_completed_user_text_O3Gr",challenge_completed_team_text:"challenge_completed_team_text_3t2B"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var a=r[e+"_"+t+"_href"],o=new RegExp("\\{(.*?)\\}","ig"),s=o.exec(a);s;)a=a.replace("{"+s[1]+"}",n[s[1]]),s=o.exec(a);return a};var r={join_request_received_team_href:"/t/{teamId}/?type=members",join_request_accepted_team_href:"/t/{teamId}/?type=members",join_request_accepted_user_href:"/t/{teamId}/?type=members",join_request_declined_user_href:"/t/{teamId}",team_invitation_received_user_href:"/t/{teamId}",team_invitation_accepted_user_href:"/t/{teamId}/?type=members",team_invitation_accepted_team_href:"/t/{teamId}/?type=members",team_invitation_declined_team_href:"/t/{teamId}/?type=members",team_followed_team_href:"/u/{userId}",member_removed_team_href:"/t/{teamId}/?type=members",member_removed_user_href:"/t/{teamId}",member_leaves_team_href:"/t/{teamId}/?type=members",client_receive_proposal_team_href:"/jobs/{jobId}/manage?t=applications",proposal_approved_team_href:"/jobs/{jobId}/manage?t=matches",proposal_approved_user_href:"/jobs?t=matches",proposal_declined_user_href:"/jobs/{jobId}",client_invite_developer_user_href:"/jobs?t=interested_in_you",invitation_accepted_team_href:"/jobs/{jobId}/manage?t=matches",contributor_invitation_received_user_href:"/p/{projectId}",contributor_invitation_accepted_user_href:"/p/{projectId}",contributor_invitation_declined_user_href:"/p/{projectId}",project_commented_user_href:"/p/{projectId}",project_comment_mentioned_user_href:"/p/{projectId}",project_liked_user_href:"/p/{projectId}",project_pinned_user_href:"/p/{projectId}",project_featured_user_href:"/p/{projectId}",project_mentioned_user_href:"/p/{projectId}",project_message_commented_user_href:"/p/{projectId}",project_participate_comment_user_href:"/p/{projectId}",project_message_liked_user_href:"/p/{projectId}",project_message_participate_liked_user_href:"/p/{projectId}",project_article_publish_user_href:"/p/{projectId}",project_article_publish_team_href:"/p/{projectId}",post_liked_user_href:"/post/{postId}",post_commented_user_href:"/post/{postId}",post_participate_comment_user_href:"/post/{postId}",post_pinned_user_href:"/post/{postId}",post_featured_user_href:"/post/{postId}",post_mentioned_user_href:"/post/{postId}",followed_user_href:"/u/{userId}",project_suspended_user_href:"",task_suspended_user_href:"",job_suspended_team_href:"",job_share_user_href:"/jobs/{jobId}",job_pinned_user_href:"/jobs/{jobId}",job_featured_user_href:"/jobs/{jobId}",company_suspended_team_href:"",school_admin_granted_user_href:"/s/{schoolId}",school_admin_removed_user_href:"/s/{schoolId}",school_request_accepted_user_href:"/s/{schoolId}",school_request_declined_user_href:"/s/{schoolId}",school_member_removed_user_href:"/s/{schoolId}",school_application_received_school_href:"/s/{schoolId}/?type=tab_requested",school_deleted_school_href:"",reference_invitation_created_user_href:"/ref?tab=given",reference_invitation_remind_user_href:"/ref?tab=given",reference_invitation_changed_user_href:"/ref?tab=given",reference_received_user_href:"/ref?tab=received",relationship_requested_user_href:"/connections",relationship_created_user_href:"/messages/c/{channelId}",relationship_accepted_user_href:"/messages/c/{channelId}",group_invitation_received_user_href:"/g/{groupId}",group_invitation_accepted_group_href:"/g/{groupId}/?tab=members",group_invitation_declined_group_href:"/g/{groupId}/?tab=members",group_member_removed_group_href:"/g/{groupId}/?tab=members",group_member_removed_user_href:"/g/{groupId}",group_member_leaves_group_href:"/g/{groupId}/?tab=members",ods_request_received_guru_href:"/guru?requestId={requestId}",ods_request_received_guru_fixed_later_href:"/guru?status=accepted",ods_order_refunded_client_href:"/session_detail?id={questionId}",ods_order_refunded_guru_href:"/session_detail?id={questionId}",ods_order_refund_rejected_client_href:"/session_detail?id={questionId}",ods_order_disputed_guru_href:"/session_detail?id={questionId}",ods_order_dispute_rejected_guru_href:"/session_detail?id={questionId}",challenge_completed_win_user_href:"/challenges/{challengeId}?tab=winner&&topProjectId={projectId}",challenge_completed_win_team_href:"/challenges/{challengeId}?tab=winner&&topProjectId={projectId}",challenge_completed_honor_user_href:"/challenges/{challengeId}?tab=winner&&topProjectId={projectId}",challenge_completed_honor_team_href:"/challenges/{challengeId}?tab=winner&&topProjectId={projectId}",challenge_completed_user_href:"/u/{userId}",challenge_completed_team_href:"/t/{teamId}"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(1)),s=n(149),i=r(s),l=function(e){var t=i.default.parserFor(e),n=i.default.outputFor(i.default.ruleOutput(e,"react"));return function(e,r){var a=-1===e.indexOf("\n\n");return a||(e+="\n\n"),n(t(e,{inline:a,context:r}))}}({newline:s.defaultRules.newline,paragraph:a({},s.defaultRules.paragraph,{react:function(e,t,n){return o.default.createElement("p",{key:n.key},t(e.content,n))}}),url:a({},s.defaultRules.url,{parse:function(e,t,n){var r=s.defaultRules.url.parse(e,t,n);return r.context=n.context,r}}),link:a({},s.defaultRules.link,{parse:function(e,t,n){var r=s.defaultRules.link.parse(e,t,n);return r.context=n.context,r},react:function(e,t,n){var r={};if(e.context&&e.context.unclickable){var s={textDecoration:"none",pointerEvents:"none",cursor:"default",color:"inherit"};return r.href="#",r.style=s,o.default.createElement("a",a({key:n.key},r),t(e.content,n))}var l=e.context&&(e.context[e.target]||e.context.onClick);return l?r.onClick=function(t){return l(t,e.target)}:(r.href=i.default.sanitizeUrl(e.target),r.target="_blank"),r.title=e.title,o.default.createElement("a",a({key:n.key},r),t(e.content,n))}}),strong:a({},s.defaultRules.strong,{react:function(e,t,n){return o.default.createElement("strong",{key:n.key},t(e.content,n))}}),u:s.defaultRules.u,br:s.defaultRules.br,noparse:{order:s.defaultRules.text.order,match:i.default.inlineRegex(/^!!(.+?)!!/),parse:function(e){return{type:"text",content:e[1]}},react:function(e){return e.content}},text:s.defaultRules.text,ifont:{order:s.defaultRules.text.order,match:function(e){return/^:ifont-([^\s:]+?):/.exec(e)},parse:function(e){return{ifont:e[1]}},react:function(e,t,n){return o.default.createElement("span",{key:n.key,className:"ifont ifont-"+e.ifont})}},list:s.defaultRules.list});t.default=l},function(e,t,n){"use strict";var r=function(e){return null!==e&&void 0!==e},a=function(e){return""===e},o=function(e,t){return!r(e)||a(e)||t.test(e)},s={isValue:function(e){return!(void 0===e||""===e||null===e||!1===e||Array.isArray(e)&&!e.length)},isExisty:function(e){return r(e)},matchRegexp:function(e,t,n){return o(e,n)},isUndefined:function(e){return void 0===e},isEmptyString:function(e){return a(e)},isEmail:function(e){return o(e,/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},isUrl:function(e,t){return s.matchRegexp(e,t,/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i)},isTrue:function(e){return!0===e},isFalse:function(e){return!1===e},isNumeric:function(e){return"number"==typeof e||o(e,/^[-+]?(?:\d*[.])?\d+$/)},isAlpha:function(e){return o(e,/^[A-Z]+$/i)},isAlphanumeric:function(e){return o(e,/^[0-9A-Z]+$/i)},isInt:function(e){return o(e,/^(?:[-+]?(?:0|[1-9]\d*))$/)},minInt:function(e,t,n){return!!(s.isInt(e)&&e>=n)},isPhone:function(e){return o(e,/^1\d{10}$/)},isFloat:function(e){return o(e,/^(?:[-+]?(?:\d+))?(?:\.\d*)?(?:[eE][\+\-]?(?:\d+))?$/)},isWords:function(e){return o(e,/^[A-Z\s]+$/i)},isSpecialWords:function(e){return o(e,/^[A-Z\s\u00C0-\u017F]+$/i)},isLength:function(e,t,n){return!r(e)||a(e)||e.length===n},equals:function(e,t,n){return!r(e)||a(e)||e===n},equalsField:function(e,t,n){return e===t[n].value},maxLength:function(e,t,n){return!r(e)||e.length<=n},minLength:function(e,t,n){return!r(e)||a(e)||e.length>=n}};e.exports=s},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","dimensions"];t.default={name:e,depends:[],signals:{updateDimensions:[function(e){var t=e.props,r=e.state,a=t.channelId,o=t.isScroll,s=t.scrollTop,i=t.scrollHeight,l=t.offsetHeight,u=[].concat(n,[a]),c=r.get(u);c&&c.isScroll===o&&c.scrollTop===s&&c.scrollHeight===i&&c.offsetHeight===l||r.set(u,{channelId:a,isScroll:o,scrollTop:s,scrollHeight:i,offsetHeight:l})}]},getState:function(){return{dimensions:{}}},isAtTop:function(e,t){var r=[].concat(n,[t]),a=e.get(r);if(!a)return!1;var o=a.scrollTop,s=a.scrollHeight,i=a.offsetHeight;return 0===o&&o<s-1-i},scrolledToTop:function(e,t){var r=[].concat(n,[t]),a=e.get(r);if(!a)return!1;var o=a.scrollTop,s=a.isScroll,i=a.scrollHeight,l=a.offsetHeight;return 0===o&&s&&o<i-1-l},isAtBottom:function(e,t){var r=[].concat(n,[t]),a=e.get(r);return!!a&&a.scrollTop>=a.scrollHeight-1-a.offsetHeight},scrolledToBottom:function(e,t){var r=[].concat(n,[t]),a=e.get(r);if(!a)return!1;var o=a.scrollTop,s=a.scrollHeight,i=a.offsetHeight,l=a.isScroll;return o>=s-1-i&&l},getDimensions:function(e,t){var r=[].concat(n,[t]);return e.get(r)}}}).call(t,"views/v2/modules/messages/DimensionStore.js")},function(e,t,n){"use strict";(function(e){function n(e){var t=e.channelJobInfo;return t?{id:t.id,title:t.title,channelId:e.id,freelancerId:t.freelancerId}:null}Object.defineProperty(t,"__esModule",{value:!0});var r=["messages","channelJobs"];t.default={name:e,depends:[],signals:{channelReady:[function(e){var t=e.props,a=e.state,o=t.normalChannels,s=o&&o.find(function(e){return"private"===e.type&&!!e.proposalId});if(s){var i=n(s);if(i){var l={};l[s.id]=i,a.set(r,l)}}}],connectionOpen:[function(e){var t=e.props,a=e.state,o={};t.privateChannels.forEach(function(e){if(e.proposalId){var t=n(e);t&&(o[e.id]=t)}}),a.set(r,o)}],channelCreate:[function(e){var t=e.props,a=e.state;"private"===t.type&&t.proposalId&&t.channelJobInfo&&a.set([].concat(r,[t.id]),n(t))}],channelDelete:[function(e){var t=e.props,n=e.state;"private"===t.type&&t.proposalId&&n.unset([].concat(r,[t.id]))}]},getState:function(){return{channelJobs:{}}},getChannelJob:function(e,t){return e.get([].concat(r,[t]))}}}).call(t,"views/v2/modules/messages/ChannelJobStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n(25)),o=r(n(34)),s=(0,a.default)({image:null,attachment:null}),i={ATOMIC:"atomic"},l={VIDEO:"video",ATTACHMENT:"attachment"},u=/<iframe.*(\/>|<\/iframe>)/i,c=/\bwidth="(\s|\d)*"/i,d=/\bheight="(\s|\d)*"/i;e.exports={uploadTypes:s,blockTypes:i,entityTypes:l,normalizeHtml:function(e){var t=(e||{}).html;return u.test(t)?u.exec(t)[0].replace(c,'width="100%"').replace(d,'height="100%"'):t},createUpload:function(e){return{id:e.id||o.default.createNonce(),uploadType:e.uploadType||"",filename:e.file&&e.file.name||"",fileSize:e.file&&e.file.size||0,contentType:e.file&&e.file.type||"",width:e.width||0,height:e.height||0,dataUrl:e.dataUrl||"",url:e.url||"",title:e.title||"",file:e.file||{},loaded:0,speed:0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(125)),a=n(10);t.default=function(e){var t=void 0,n=void 0,o=void 0,s=void 0,i=[],l=r.default.getEditorState(e,"editorTitle");l&&(t=l.getCurrentContent().getPlainText());var u=r.default.getEditorState(e,"editorSubTitle");u&&(n=u.getCurrentContent().getPlainText());var c=r.default.getEditorState(e,"editorDescription");c&&(o=c.getCurrentContent().getPlainText());var d=r.default.getEditorState(e,"editorBody"),f=!0;if(d){var p=(0,a.normalizeValidAtomicBlocks)(d.getCurrentContent()),g=d.getCurrentContent().getFirstBlock();g&&g.getText().length>0&&(f=!1),s=JSON.stringify((0,a.convertToRaw)(p)),p.getBlocksAsArray().filter(function(e){return"atomic"===e.getType()}).forEach(function(e){var t=e.getEntityAt(0),n=p.getEntity(t),r=n.getType(),a=n.getData();-1!==["IMAGE","VIDEO"].indexOf(r)&&a.contentId&&i.push(a.contentId),-1!==["GAMEGALLERY","WEBGLGALLERY","SHOWCASEGALLERY"].indexOf(r)&&a.contents&&a.contents.length>0&&a.contents.forEach(function(e){var t=e.contentId;t&&i.push(t)})})}var h=(e.get(["project","projectData","headerImage"])||{}).id,m=e.get(["project","projectData","thumbnail"])||{};return{title:t,subTitle:n,description:o,body:s,bodyIsEmpty:f,contentIds:i,headerImageId:h,thumbnailId:m.id}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["draft","editorStates"],r=["draft","editorStatesPending"],a=["draft","editorEditable"],o=["draft","editorDirty"];t.default={name:e,signals:{unsetPendingEditorState:[function(e){var t=e.props,n=e.state,a=t.editorKey,o=t.editorState,s=[].concat(r,[a]);n.get(s)===o&&n.unset(s)}],setEditorStateCommit:[function(e){var t=e.props,r=e.state,a=t.editorKey,o=t.editorState;r.set([].concat(n,[a]),o)}],setEditorState:[function(e){var t=e.props,n=e.state,a=t.editorKey,o=t.editorState;n.set([].concat(r,[a]),o)}],setEditorEditable:[function(e){var t=e.props,r=e.state,o=t.editorKey,s=r.get(n);Object.keys(s).forEach(function(e){if(e===o){var t=[].concat(a,[e]);r.get(t)||r.set(t,!0)}else{var n=[].concat(a,[e]),s=r.get(n);(s||void 0===s)&&r.set(n,!1)}})}],setEditorDirty:[function(e){var t=e.props,n=e.state,r=t.editorKey,a=t.dirty,s=void 0===a||a,i=[].concat(o,[r]);(n.get(i)||!1)!==s&&n.set(i,s)}]},getState:function(){return{editorStates:{},editorStatesPending:{},editorEditable:{}}},getEditorState:function(e,t){return e.get([].concat(n,[t]))},getEditorEditable:function(e,t){return e.get([].concat(a,[t]))},getEditorDirty:function(e,t){return e.get([].concat(o,[t]))},getEditorKeys:function(e){return Object.keys(e.get(n))}}}).call(t,"views/utils/draft/EditorStateStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.changeRecaptchaCode"],["header.changeRecaptchaCode"]),p=r(n(3)),g=r(n(1)),h=r(n(2)),m=r(n(14)),v=r(n(737)),_=n(5),y=n(0),b=(i=(0,_.decorator)({onChange:(0,y.signal)(f)}))((c=u=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,p.default),d(t,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.onVerify;n({value:e}),r&&r(e)}},{key:"render",value:function(){var e=this,t=m.default.CAPTCHA_CLIENT_KEY;return m.default.RECAPTCHA_ENABLE?g.default.createElement(v.default,{sitekey:t,onChange:function(t){return e.onChange(t)}}):null}}]),t}(),u.propTypes={onChange:h.default.func,onVerify:h.default.func},l=c))||l;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={windows:!0,xbox:!0,winphone:!0,tizen:!0,steam:!0,playstation:!0,oculus:!0,gog:!0,gear_vr:!0,facebook:!0,google_play:!0,humble:!0,nintendo:!0,kongregate:!0,itch:!0,indie_game:!0,itune:!0,amazon:!0};t.default={getStoreImage:function(e){return r[e]?n(474)("./"+e+".png"):""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r(e)||a};var r=n(768),a="\n"},function(e,t,n){"use strict";function r(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:r(e.parentElement):null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){if(0!==e.type.indexOf("image/"))throw new Error("file is not an image");return new Promise(function(t){var n=window.URL.createObjectURL(e),r=new window.Image;r.onload=function(){var a=r.width,o=r.height;t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"image",dataUrl:n,width:a,height:o})},r.src=n})}function s(e){return e=[].concat(a(e)).filter(function(e){return 0===e.type.indexOf("image/")}),Promise.all(e.map(o))}function i(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"IMAGE"===n.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=o,t.readImages=s,t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var r=c.default;return e.decorator&&(r=e.decorator(r)),r=(0,l.default)(r,{editorKey:t,renderOnly:n}),{handleDroppedFiles:n?void 0:function(e,t,n){var r=n.getEditorState,a=n.setEditorState,o=(0,n.getProps)().controller,i=o.getState("project.dragOverBlockKey");if(!i)return"not-handled";var l=t.some(function(e){return 0===e.type.indexOf("image/")});return s(t).then(function(e){var t=r();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,i,"IMAGE",{uploadId:e.id}),o.getSignal("project.uploadAttachment")({upload:e})}),a(t)}),l?"handled":"not-handled"},handlePastedFiles:n?void 0:function(e,t){var n=t.getEditorState,r=t.setEditorState,a=(0,t.getProps)().controller,o=n().getSelection().getStartKey(),i=e.some(function(e){return 0===e.type.indexOf("image/")});return s(e).then(function(e){var t=n();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,o,"IMAGE",{uploadId:e.id}),a.getSignal("project.uploadAttachment")({upload:e})}),r(t)}),i?"handled":"not-handled"},decorators:[{strategy:i,component:r}]}};var l=r(n(36)),u=n(10),c=r(n(781))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(2)),h=r(n(1)),m=r(n(3)),v=r(n(4)),_=r(n(793)),y=(l=(0,v.default)(_.default))((d=c=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.checked,r=e.disabled,o=e.checkedChildren,s=e.unCheckedChildren,i=e.onChange,l=e.size,u=e.color,c=a(e,["className","checked","disabled","checkedChildren","unCheckedChildren","onChange","size","color"]);return h.default.createElement("div",f({},c,{className:this.ss("switch",t,l,u)}),h.default.createElement("span",{className:this.ss("switchContent",n&&"checked",r&&"disabled"),tabIndex:"0",onClick:!r&&i},h.default.createElement("span",{className:this.ss("inner")},n?o||"":s||"")))}}]),t}(),c.propTypes={size:g.default.oneOf(["small","medium"]),color:g.default.oneOf(["green","blue"]),className:g.default.string,disabled:g.default.bool,checked:g.default.bool,checkedChildren:g.default.any,unCheckedChildren:g.default.any,onChange:g.default.func},c.defaultProps={size:"medium",color:"green"},u=d))||u;t.default=y},function(e,t){e.exports={"inline-toolbar":"inline-toolbar_pa9-Ok_S",show:"show_4i0k-TQy","toolbar-button-wrapper":"toolbar-button-wrapper_22Qg6WAE","toolbar-button":"toolbar-button_1C_p4WbU",active:"active_1p7lPYSq","link-input-wrapper":"link-input-wrapper__YibMYi3","link-input":"link-input_24rZRTjs","close-button":"close-button_36BRxznG"}},function(e,t){e.exports={"alignment-toolbar":"alignment-toolbar_NcQb_w7w",show:"show_2rZMaQQq","toolbar-button-wrapper":"toolbar-button-wrapper_2VX7uUvf","toolbar-button":"toolbar-button_1NgMIpEX",active:"active_1l7ROdoV","alignment-default":"alignment-default_2OpMM0ei","alignment-left":"alignment-left_Ap4THry4","alignment-right":"alignment-right_1Ip8PtrL","alignment-center":"alignment-center_3Vf1CsIu","alignment-fullscreen":"alignment-fullscreen_2jE21a1o",popup:"popup_1ov2xWqS",openSettings:"openSettings_5JedAno-","link-input-wrapper":"link-input-wrapper_1VT5dpAY","link-input":"link-input_kcc99L50","close-button":"close-button_2N8ZqnLh"}},,function(e,t,n){"use strict";function r(e,t,n,r,o){if(!e)return"";var s=e.split("webgl");if(2===s.length){var i=a.default.WEBGL_PLAYER_BASE_URL+s[1]+"?screenshot="+n;return t&&(i+="&userID="+t),r&&(i+="&loadingMobile=1"),o&&(i+="&disablePlay=1"),i}return""}var a=function(e){return e&&e.__esModule?e:{default:e}}(n(14));e.exports={getDetailHtml:function(e,t,n,a,o){if(!e)return"";return'<iframe id=\'webgl_iframe\' frameborder="0" allow="autoplay; fullscreen; vr" allowfullscreen="" allowvr=""\n    mozallowfullscreen="true"\n    src="'+r(e.url,t,!0,n,a)+"&embedType="+o+'"\n    width="100%" height="580" onmousewheel="" webkitallowfullscreen="true" ></iframe>'},getPreviewHtml:function(e,t){if(!e)return"";var n=e.url,a=e.oembed.height+130;return'<iframe frameborder="0" allow="autoplay; fullscreen; vr" allowfullscreen="" allowvr=""\n    mozallowfullscreen="true" src="'+r(n,t,!0,!1,!0)+'"  width="100%"\n    height="'+a+'" onmousewheel="" webkitallowfullscreen="true"></iframe>'},getEmbededHtml:function(e,t){if(!e)return"";var n=e.url,a=e.oembed,o=a.width,s=a.height+134;return'<iframe id=\'webgl_iframe\' frameborder="0" allow="autoplay; fullscreen; vr" allowfullscreen="" allowvr=""\n    mozallowfullscreen="true" src="'+r(n,t,!1)+'&embedType=embed"  width="'+o+'"\n    height="'+s+'" onmousewheel="" webkitallowfullscreen="true"></iframe>'}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(n(2)),m=r(n(1)),v=r(n(3)),_=r(n(12)),y=r(n(7)),b=r(n(97)),S=n(472),w=r(n(4)),E=r(n(869)),O=r(n(6)),I=r(n(870)),k=(l=(0,w.default)(E.default),u=(0,O.default)(I.default),l(c=u((f=d=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={inputValue:r.props.inputValue||"",hide:!1,lastTyping:Date.now(),isSaved:!1},a=n,s(r,a)}return i(t,v.default),g(t,[{key:"componentDidMount",value:function(){this.setFocus(this.props.autoFocus)}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=(e.notice||{}).type,r=(this.props.notice||{}).type;n!==y.default.succeeded&&this.setState({hide:!1}),n===y.default.succeeded&&r===y.default.inProgress&&(this.clearSuccess=setTimeout(function(){return t.setState({hide:!0})},1e3)),n!==y.default.inProgress&&this.setState({inputValue:e.inputValue||""})}},{key:"componentWillUnmount",value:function(){this.clearSuccess&&clearTimeout(this.clearSuccess)}},{key:"onAutoSave",value:function(){var e=this;this.timerId=setInterval(function(){return e.onSave()},1e3)}},{key:"onSave",value:function(e){var t=this.getNotice().type;if(t!==y.default.inProgress){var n=this.state,r=n.lastTyping,a=n.isSaved,o=Date.now()-r;if(t!==y.default.failed&&!a&&(e||this.duration(o).asMilliseconds()>1e3)){var s=_.default.findDOMNode(this.refs.textarea);if(s){var i=s.value;this.props.onSave&&(this.props.onSave(i),this.setState({isSaved:!0}))}}}}},{key:"onClear",value:function(){this.setState({inputValue:""}),this.props.onClear&&this.props.onClear()}},{key:"onChange",value:function(e){this.setState({inputValue:e.target.value,lastTyping:Date.now(),isSaved:!1}),this.props.onChange&&this.props.onChange(e.target.value)}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onBlur",value:function(){this.timerId&&clearInterval(this.timerId),this.onSave(!0),this.setState({active:!1});try{(0,S.weiXinScrollIntoView)()}catch(e){console.error(e)}}},{key:"onFocus",value:function(){this.props.autoSave&&this.onAutoSave(),this.setState({active:!0})}},{key:"setFocus",value:function(e){var t=_.default.findDOMNode(this.refs.textarea);e&&t&&setTimeout(function(){return t.focus()},100)}},{key:"getNotice",value:function(){var e=this.props.errorText;return(e?{text:e,type:y.default.failed}:null)||this.props.notice||{}}},{key:"renderNoticeText",value:function(){var e=this.getNotice(),t=e.text,n=e.type,r=this.props,a=r.noticePosition,o=r.noticeClass;return n?m.default.createElement("div",{className:this.ss("notice",o,a,this.state.hide&&"hide",n)},t||this.__(n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=(t.inputValue,t.notice,t.errorText,t.onSave,t.onClear,t.noticeClass,t.autoSave,t.noticePosition,t.theme),o=t.activeTheme,s=a(t,["className","inputValue","notice","errorText","onSave","onClear","noticeClass","autoSave","noticePosition","theme","activeTheme"]),i=this.state,l=i.inputValue,u=i.active,c=this.getNotice().type;return m.default.createElement("div",{className:this.ss("text-area",n,"theme-"+r,c===y.default.failed&&"failed",u&&c!==y.default.failed&&"active-"+o)},m.default.createElement(b.default,p({},s,{ref:"textarea",value:l,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(){return e.onFocus()},onBlur:function(t){return e.onBlur(t)}})),this.renderNoticeText())}}]),t}(),d.propTypes={className:h.default.string,autoSave:h.default.bool,hide:h.default.bool,inputValue:h.default.string,autoFocus:h.default.bool,errorText:h.default.any,onSave:h.default.func,onClear:h.default.func,notice:h.default.shape({text:h.default.string,type:h.default.oneOf(["",y.default.initial,y.default.inProgress,y.default.succeeded,y.default.failed])}),onChange:h.default.func,noticeClass:h.default.string,noticePosition:h.default.oneOf(["right","bottom"]),disabled:h.default.string,theme:h.default.oneOf(["dark","light","white"]),activeTheme:h.default.oneOf(["blue-green","primary-blue"])},d.defaultProps={autoSave:!1,autoFocus:!1,noticePosition:"right",theme:"dark",activeTheme:"blue-green"},c=f))||c)||c);t.default=k},,,,,,,function(e,t,n){"use strict";var r={CDPTypeWebglScreenshots:"webgl_screenshots",CDPTypeWebglRecord:"webgl_record",CDPTypeAssetUnlocked:"asset_unlocked"},a={CDPRecordTypeStart:"startRecord",CDPRecordTypeEnd:"endRecord",CDPRecordTypeAccept:"acceptRecord"};e.exports={CDPConnectTypes:r,EventTypeConnect:"connect",CDPRecordType:a}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(509));n.p=window.webpack_public_path,n(510),n(511),n(512);var a=n(14);new r.default({projectId:149393,projectKey:"d5726f3cd863a40fe29bfd71c9815724"}).addFilter(function(e){return"development"===a.NAME?null:(e.context.environment=a.NAME,e)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n={};return e&&e.forEach(function(e){Object.keys(e).forEach(function(r){if(void 0!==n[r])throw new Error("conflict module name: "+r);var a=e[r];n[r]=(0,C.composeState)(a,t)})}),(0,m.default)({},n,t)}function u(e,t,n){var r=t.data,a=t.contextData,o=l(e,f({},r,a)),s={};e&&e.forEach(function(e){Object.keys(e).forEach(function(t){var n=e[t],r=(0,C.composeInitialDataSignal)(n);r.length&&(s[t]=(0,y.parallel)(r))})});var i={};e&&e.forEach(function(e){Object.keys(e).forEach(function(t){var n=e[t];i[t]=function(e){var r=e.path;if(r!==t)throw new Error("path("+r+") !== moduleName("+t+")");return{state:o[t],signals:(0,C.composeSignals)(n)}}})});var u=null;E.default.DEVTOOLS;var c={state:o,modules:i,initialDataSignals:s,providers:[(0,b.ContextProvider)({http:(0,v.AxiosProviderFactory)({baseURL:E.default.REQUEST_BASE_URL_INTERNAL,headers:n})()})]};return u&&(c.devtools=u),new I.default(c)}function c(e,t,n){var r=l(e,n),a={};t&&(a.router=(0,w.default)(t)),e.forEach(function(e){Object.keys(e).forEach(function(t){var n=e[t];a[t]=function(e){var a=e.controller,o=e.path;if(o!==t)throw new Error("path("+o+") !== moduleName("+t+")");return{state:r[t],signals:(0,C.composeSignals)(n),provider:(0,b.ContextProvider)(i({},t,(0,C.composeServices)(n,a)))}}})});var o=null;E.default.DEVTOOLS;var s={state:r,modules:a,providers:[(0,O.default)(),(0,b.ContextProvider)({http:_.default})]};o&&(s.devtools=o);var u=(0,y.Controller)(s);return u.contextProviders.indexOf(k.default)>=0&&u.contextProviders.splice(u.contextProviders.indexOf(k.default),1),u}Object.defineProperty(t,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t,r,i=e.modules,l=e.component,m=e.routes,v=(r=t=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=r.props,l=s.data,d=s.contextData,p=s.options.isServer,g=f({},l,d),h=null;return p?h=u(i,e):(h=c(i,m,g),window.__controller__=h),r.state={controller:h},r}return s(t,g.default.Component),d(t,[{key:"getChildContext",value:function(){return this.props.contextData}},{key:"componentDidMount",value:function(){document.body.style.display=""}},{key:"render",value:function(){var e=this.state.controller;return g.default.createElement(S.Container,{controller:e},g.default.createElement(l,null))}}]),t}(),t.propTypes={data:p.default.any.isRequired,contextData:p.default.any.isRequired,options:p.default.any.isRequired},t.childContextTypes={locale:p.default.string,i18nOverrides:p.default.object,i18nKeyOnly:p.default.string,utcOffset:p.default.string,platform:p.default.object,supportMobile:p.default.bool,publicPath:p.default.string,cookies:p.default.object,appVersion:p.default.string,weixinConfig:p.default.object,commitId:p.default.string},r);return v.ReactDOMrender=function(e,t){if("undefined"!=typeof window){var r=n(527);r.applyPolyfills().then(function(){r.defineCustomElements(window)})}h.default.hydrate(g.default.createElement(v,e),t)},v.runInitialData=function(e,t){var n=u(i,e,t);return n.runInitialData().then(function(){return f({},e,{data:n.getState([])})})},v};var p=r(n(2)),g=r(n(1)),h=r(n(12)),m=r(n(514)),v=n(115),_=r(v),y=n(437),b=n(517),S=n(5),w=r(n(518)),E=r(n(14)),O=r(n(519)),I=r(n(520)),k=r(n(522)),C=n(523)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(531)),o=r(n(532)),s=r(n(533)),i=r(n(536)),l=r(n(31)),u=r(n(52)),c=r(n(537)),d=r(n(538)),f=r(n(539)),p=r(n(540)),g=r(n(541)),h=r(n(542)),m=r(n(543)),v=r(n(53)),_=r(n(544)),y=r(n(545)),b=r(n(546)),S=r(n(547)),w=r(n(567)),E=r(n(568)),O=r(n(569)),I=r(n(570)),k=r(n(77)),C=[a.default,o.default,s.default,i.default,l.default,u.default,c.default,d.default,f.default,p.default,g.default,h.default,m.default,v.default,_.default,y.default,b.default,S.default,w.default,E.default,O.default,I.default,k.default];t.default={header:C}},function(e,t,n){"use strict";function r(){if("undefined"==typeof window)throw new Error("can only be used in browser")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),o={},s=0;t.default={get:function(e){return r(),o[e]},getId:function(e){r();var t="";return a.default.forEach(o,function(n,r){return n!==e||(t=r,!1)}),t},set:function(e,t){r(),o[e]=t},add:function(e){r();var t=(s++).toString();return o[t]=e,t},remove:function(e){r(),delete o[e]}}},,function(e,t,n){e.exports=n(8)(998)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=[{site:"google",pattern:new RegExp("^(https?://)?plus.google.com/.+$","i")},{site:"twitter",pattern:new RegExp("^(https?://)?(www.)?twitter.com/.+$","i")},{site:"facebook",pattern:new RegExp("^(https?://)?(www.)?([a-zA-Z-.]*)?facebook.com/.+$","i")},{site:"linkedin",pattern:new RegExp("^(https?://)?(www.)?linkedin.com/.+$","i")},{site:"instagram",pattern:new RegExp("^(https?://)?(www.)?instagram.com/.+$","i")},{site:"github",pattern:new RegExp("^(https?://)?(www.)?github.com/.+$","i")},{site:"flickr",pattern:new RegExp("^(https?://)?(www.)?flickr.com/.+$","i")},{site:"indiedb",pattern:new RegExp("^(https?://)?(www.)?indiedb.com/.+$","i")},{site:"pinterest",pattern:new RegExp("^(https?://)?(www.)?pinterest.com/.+$","i")},{site:"reddit",pattern:new RegExp("^(https?://)?(www.)?reddit.com/.+$","i")},{site:"steam",pattern:new RegExp("^(https?://)?(www.)?store.steampowered.com/.+$","i")},{site:"tumblr",pattern:new RegExp("^(https?://)?.*tumblr.com(/.*)?$","i")},{site:"twitch",pattern:new RegExp("^(https?://)?(www.)?twitch.tv/.+$","i")},{site:"vimeo",pattern:new RegExp("^(https?://)?(www.)?vimeo.com/.+$","i")},{site:"vk",pattern:new RegExp("^(https?://)?(www.)?vk.com/.+$","i")},{site:"weibo",pattern:new RegExp("^(https?://)?(www.)?weibo.com/.+$","i")},{site:"qq",pattern:new RegExp("^(https?://)?(www.)?qzone.qq.com/.+$","i")},{site:"youtube",pattern:new RegExp("^(https?://)?(www.)?youtube.com/.+$","i")},{site:"medium",pattern:new RegExp("^(https?://)?(www.)?medium.com/.+$","i")},{site:"behance",pattern:new RegExp("^(https?://)?(www.)?behance.net/.+$","i")},{site:"artstation",pattern:new RegExp("^(https?://)?(www.)?artstation.com/.+$","i")},{site:"sketchfab",pattern:new RegExp("^(https?://)?(www.)?sketchfab.com/.+$","i")},{site:"dribbble",pattern:new RegExp("^(https?://)?(www.)?dribbble.com/.+$","i")},{site:"personal",pattern:new RegExp("^(https?://)?(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}.[a-z]{2,6}([-a-zA-Z0-9@:%_+.~#?&//=]*)","i")}];e.exports={getSocialUrlSite:function(e){if(!e)return"";var t=o.findIndex(function(t){return t.pattern.test(e)});return t>=0?o[t].site:""},testSocialUrl:function(e){var t=o.reduce(function(e,t){return a({},e,r({},t.site,t.pattern))},{})[e];return function(e){return t&&t.test(e)}}}},function(e,t,n){"use strict";var r=n(441),a=n(152);e.exports=function(e,t){if(!("value"in t))return t;var n=t.isValue||["isValue"],o=t.isRequired||!1,s=t.value,i=t.defaultValue||s,l=t.validations||null,u=t.errorMessages||[],c=r(e,s,n),d=a(e,s,l);return t.value=s,t.defaultValue=i,t.validations=l,t.isValid=!o&&!c||d.isValid,t.errorMessages=u,t.errorMessage=d.isValid?null:u[d.failedRule],t.isValue=n,t.isRequired=o,t.hasValue=c,t.isTouched=c,t}},function(e,t,n){"use strict";var r=n(120);e.exports=function(e,t,n){var a={isValid:!0,failedRuleIndex:null};return n?Array.isArray(n)?n.reduce(function(n,a,o){if(!n.isValid)return n;if("string"==typeof a){var s=a.split(/:(.+)?/);if(a={},s[1])try{a[s[0]]=JSON.parse(s[1])}catch(e){a[s[0]]=s[1]}else a[s[0]]=void 0}return{isValid:Object.keys(a).reduce(function(n,o){return!!n&&(r[o]||function(){console.warn("Rule "+o+" is not found")})(t,e,a[o])},!0),failedRuleIndex:o}},a):void 0:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(572)),o=r(n(573)),s=[a.default,o.default];t.default={footer:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(574)),o=r(n(575)),s=r(n(603)),i=r(n(455)),l=r(n(41)),u=r(n(604)),c=r(n(605)),d=r(n(458)),f=r(n(81)),p=r(n(32)),g=r(n(80)),h=r(n(121)),m=r(n(459)),v=r(n(614)),_=r(n(33)),y=r(n(460)),b=r(n(55)),S=r(n(35)),w=r(n(617)),E=r(n(618)),O=r(n(27)),I=r(n(158)),k=r(n(619)),C=r(n(620)),T=r(n(461)),j=r(n(462)),M=r(n(621)),P=r(n(622)),x=r(n(623)),A=r(n(161)),R=r(n(624)),D=r(n(162)),N=r(n(163)),L=r(n(625)),F=r(n(122)),U=r(n(626)),K=r(n(627)),B=r(n(628)),z=r(n(629)),q=r(n(456)),V=r(n(463)),H=r(n(637)),W=r(n(643)),G=r(n(466)),$=r(n(644)),Y=r(n(645)),J=r(n(164)),Q=r(n(646)),X=r(n(647)),Z=r(n(648)),ee=r(n(649)),te=r(n(650)),ne=r(n(651)),re=r(n(652)),ae=r(n(653)),oe=r(n(654)),se=r(n(655)),ie=r(n(656)),le=r(n(657)),ue=r(n(658)),ce=r(n(659)),de=r(n(454)),fe=r(n(660)),pe=r(n(661)),ge=r(n(662)),he=r(n(666)),me=r(n(667)),ve=r(n(668)),_e=r(n(669)),ye=r(n(670)),be=r(n(671)),Se=r(n(672)),we=r(n(673)),Ee=r(n(674)),Oe=[ye.default,a.default,o.default,i.default,l.default,f.default,le.default,p.default,g.default,h.default,m.default,v.default,_.default,y.default,W.default,b.default,S.default,w.default,E.default,O.default,I.default,k.default,u.default,c.default,C.default,T.default,j.default,M.default,L.default,F.default,U.default,K.default,P.default,x.default,A.default,R.default,D.default,N.default,Q.default,B.default,z.default,q.default,d.default,s.default,V.default,H.default,G.default,$.default,Y.default,J.default,X.default,Z.default,ee.default,te.default,ne.default,re.default,ae.default,oe.default,se.default,ie.default,ue.default,ce.default,de.default,fe.default,pe.default,ge.default,he.default,me.default,ve.default,_e.default,be.default,Se.default,we.default,Ee.default];t.default={messages:Oe}},function(e,t,n){"use strict";function r(e){var t=document.createElement("audio");return t.src=n(606)("./"+e+".mp3"),t.preload=!0,t}Object.defineProperty(t,"__esModule",{value:!0}),t.playSound=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a[e];n||(n=r(e),a[e]=n),n.volume=t,n.load(),n.play()};var a={}},function(e,t,n){e.exports=n.p+"../styles/sound/Incoming_Ring.6be5e580c0409785b22980dc0ed31c25.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/Outgoing_Ring.f7a6a9fe9b12dcbb9b61d761b6cc6ee2.mp3"},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(615)),a=["messages","window"];t.default={name:e,depends:[],signals:{windowIsMaster:[function(e){var t=e.props,n=e.state,r=t.isMaster;n.get([].concat(a,["isMaster"]))!==r&&n.set([].concat(a,["isMaster"]),r)}],windowVisible:[function(e){var t=e.props,n=e.state,r=t.visible;n.get([].concat(a,["visible"]))!==r&&n.set([].concat(a,["visible"]),r)}],windowFocused:[function(e){var t=e.props,n=e.state,r=t.focused;n.get([].concat(a,["focused"]))!==r&&n.set([].concat(a,["focused"]),r)}],windowResized:[function(e){var t=e.props,n=e.state,r=t,o=n.get([].concat(a,["size"]));o.width===r.width&&o.height===r.height||n.set([].concat(a,["size"]),r)}],connectionOpen:[function(e){var t=e.state,n={width:window.innerWidth,height:window.innerHeight};t.set([].concat(a,["size"]),n)}]},getServices:function(e){e.on("initialized",function(){window.addEventListener("resize",function(){e.getSignal("messages.windowResized")({width:window.innerWidth,height:window.innerHeight})});var t=n(616);t.change(function(){e.getSignal("messages.windowVisible")({visible:!t.hidden()})}),window.addEventListener("focus",function(){e.getSignal("messages.windowFocused")({focused:!0})}),window.addEventListener("blur",function(){e.getSignal("messages.windowFocused")({focused:!1})}),(new r.default).on("change",function(t){var n=t.isMaster;e.getSignal("messages.windowIsMaster")({isMaster:n})})})},getState:function(){return{window:{isMaster:!1,visible:!0,focused:!0,size:{width:0,height:0}}}},isVisible:function(e){return e.get([].concat(a,["visible"]))},isFocused:function(e){return e.get([].concat(a,["focused"]))},getSize:function(e){return e.get([].concat(a,["size"]))}}}).call(t,"views/v2/modules/messages/WindowStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={escape:function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}}},function(e,t,n){e.exports=n(8)(879)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=e.props,n=e.state,r=g.default.transformMessage(n,t);r.mentioned&&r.nonce?n.set([].concat(o(_),["items",r.id]),r):n.unset([].concat(o(_),["items",r.id]))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(["messages.mentionInfo.firstLoad"],["messages.mentionInfo.firstLoad"]),u=a(["firstLoad"],["firstLoad"]),c=a(["messages.fetchInfoStatus.mention"],["messages.fetchInfoStatus.mention"]),d=a(["messages.showInfoType"],["messages.showInfoType"]),f=n(9),p=n(0),g=r(n(33)),h=r(n(27)),m=r(n(7)),v=["messages"],_=[].concat(v,["mentionInfo"]);t.default={name:e,depends:[h.default],signals:{fetchMentionInfo:[(0,f.set)((0,p.state)(l),(0,p.props)(u)),(0,f.set)((0,p.state)(c),m.default.inProgress),(0,f.set)((0,p.state)(d),"mention"),[function(e){var t=e.props,n=e.path,r=e.state,a=e.http,s=t.channelId,i=Object.values(r.get([].concat(o(_),["items"]))).sort(function(e,t){return e.id<t.id?1:e.id>t.id?-1:0}),l=0;return 0!==i.length&&(l=i[i.length-1].id),a.get("/api/channels/"+s+"/mentions",{before:l}).then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.status,s=t.result;if(200===a&&s){var l=s.items,u=s.hasMore,c=r.get([].concat(o(_),["items"])),d=i({},c);l.forEach(function(e){d[e.id]=g.default.transformMessage(r,e)}),n.getSignal("messages.syncFetchedMentionInfo")({messages:l}),r.set([].concat(o(_),["items"]),d),r.set([].concat(o(_),["hasMore"]),u)}},(0,f.set)((0,p.state)(c),m.default.succeeded)],error:[(0,f.set)((0,p.state)(c),m.default.failed)]}]],clearShowInfo:[function(e){e.state.set(_,{items:{},hasMore:!1,firstLoad:!1})}],messageCreate:[s],messageUpdate:[s]},getState:function(){return{mentionInfo:{items:{},hasMore:!1,firstLoad:!1}}},getMentionMessage:function(e,t){return e.get([].concat(o(_),["items",t]))}}}).call(t,"views/v2/modules/messages/MentionInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return function(t){var n=t.props,r=t.state,a=n.messageId;r.set("messages.starStatus.status",e),e===b.default.inProgress?r.set("messages.starStatus.messageId",a):r.set("messages.starStatus.messageId","")}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(["messages.starInfo.firstLoad"],["messages.starInfo.firstLoad"]),u=a(["firstLoad"],["firstLoad"]),c=a(["messages.fetchInfoStatus.star"],["messages.fetchInfoStatus.star"]),d=a(["messages.showInfoType"],["messages.showInfoType"]),f=n(9),p=n(0),g=r(n(33)),h=r(n(27)),m=r(n(161)),v=r(n(162)),_=r(n(163)),y=r(n(164)),b=r(n(7)),S=["messages"],w=[].concat(S,["starInfo"]);t.default={name:e,depends:[h.default],signals:{toggleStar:[s(b.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.state,a=e.path,o=t.messageId,s=t.channelId;return!0===(g.default.getMessage(r,s,o)||m.default.getMentionMessage(r,o)||v.default.getStarMessage(r,o)||_.default.getReplyMessage(r,o)||y.default.getSearchedMessage(r,o)).starred?n.post("/api/messages/"+o+"/unstar").then(a.success).catch(a.error):n.post("/api/messages/"+o+"/star").then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.messageUpdate")(r)},s(b.default.succeeded)],error:[s(b.default.failed)]}]],fetchStarInfo:[(0,f.set)((0,p.state)(l),(0,p.props)(u)),(0,f.set)((0,p.state)(c),b.default.inProgress),(0,f.set)((0,p.state)(d),"star"),[function(e){var t=e.props,n=e.path,r=e.http,a=e.state,s=t.channelId,i=Object.values(a.get([].concat(o(w),["items"]))).sort(function(e,t){return e.id<t.id?1:e.id>t.id?-1:0}),l=0;return 0!==i.length&&(l=i[i.length-1].id),r.get("/api/channels/"+s+"/starredMessages",{before:l}).then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.status,s=t.result;if(200===a&&s){var l=s.items,u=s.hasMore,c=r.get([].concat(o(w),["items"])),d=i({},c);l.forEach(function(e){d[e.id]=g.default.transformMessage(r,e)}),n.getSignal("messages.syncFetchedStarInfo")({messages:l}),r.set([].concat(o(w),["items"]),d),r.set([].concat(o(w),["hasMore"]),u)}},(0,f.set)((0,p.state)(c),b.default.succeeded)],error:[(0,f.set)((0,p.state)(c),b.default.failed)]}]],clearShowInfo:[function(e){e.state.set(w,{items:{},hasMore:!1,firstLoad:!1})}],messageUpdate:[function(e){var t=e.props,n=e.state,r=g.default.transformMessage(n,t);r.starred?n.set([].concat(o(w),["items",r.id]),r):n.unset([].concat(o(w),["items",r.id]))}]},getState:function(){return{starInfo:{items:{},firstLoad:!1,hasMore:!1},starStatus:{}}},getStarMessage:function(e,t){return e.get([].concat(o(w),["items",t]))}}}).call(t,"views/v2/modules/messages/StarInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(["messages.replyInfo.firstLoad"],["messages.replyInfo.firstLoad"]),l=a(["firstLoad"],["firstLoad"]),u=a(["messages.fetchInfoStatus.reply"],["messages.fetchInfoStatus.reply"]),c=a(["messages.showInfoType"],["messages.showInfoType"]),d=n(9),f=n(0),p=r(n(27)),g=r(n(33)),h=r(n(7)),m=["messages","replyInfo"],v=[].concat(m,["replyMessages"]),_=[].concat(m,["parentMessage"]),y=[].concat(m,["hasMore"]),b=[].concat(m,["total"]);t.default={name:e,depends:[p.default],signals:{fetchReplyInfo:[(0,d.set)((0,f.state)(i),(0,f.props)(l)),(0,d.set)((0,f.state)(u),h.default.inProgress),(0,d.set)((0,f.state)(c),"reply"),[function(e){var t=e.props,n=e.path,r=e.state,a=e.http,o=t.messageId,s=r.get(v),i=Object.values(s).sort(function(e,t){return e.id<t.id?1:e.id>t.id?-1:0}),l=0;return 0!==i.length&&(l=i[i.length-1].id),a.get("/api/messages/"+o+"/reply",{before:l}).then(n.success).catch(n.error)},{success:[function(e){var t=e.controller,n=e.props,r=e.state,a=n.result;if(200===n.status&&a){var o=a.items,i=a.parentMessage,l=a.hasMore,u=a.total,c=r.get(v),d=s({},c);o.forEach(function(e){d[e.id]=g.default.transformMessage(r,e)}),t.getSignal("messages.syncFetchedReplyInfo")({messages:o,parentMessage:i});var f=g.default.transformMessage(r,i);r.set(_,f),r.set(v,d),r.set(y,l),r.set(b,u)}},(0,d.set)((0,f.state)(u),h.default.succeeded)],error:[(0,d.set)((0,f.state)(u),h.default.failed)]}]],messageCreate:[function(e){var t=e.props,n=e.state,r=t.parentMessage,a=g.default.transformMessage(n,t),s=n.get(_);if(a.nonce&&n.get([].concat(o(v),[a.nonce]))){n.unset([].concat(o(v),[a.nonce])),n.set([].concat(o(v),[a.id]),a);var i=n.get(b);n.set(b,i+1)}else s&&s.id===a.parentMessageId&&n.set([].concat(o(v),[a.id]),a);r&&s&&s.id===r.id&&n.set(_,g.default.transformMessage(n,r))}],clearShowInfo:[function(e){e.state.set(m,{replyMessages:{},parentMessage:null,hasMore:!1,firstLoad:!1,total:0})}],messageUpdate:[function(e){var t=e.props,n=e.state,r=g.default.transformMessage(n,t);n.get([].concat(o(v),[r.id]))&&n.set([].concat(o(v),[r.id]),r)}]},getState:function(){return{replyInfo:{replyMessages:{},parentMessage:null,hasMore:!1,firstLoad:!1,total:0}}},getReplyMessage:function(e,t){return e.get([].concat(o(v),[t]))}}}).call(t,"views/v2/modules/messages/ReplyInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(){return{items:{},currentPage:0,pages:[],total:0}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=a(["messages.searchInfo.firstLoad"],["messages.searchInfo.firstLoad"]),u=a(["firstLoad"],["firstLoad"]),c=a(["messages.fetchInfoStatus.search"],["messages.fetchInfoStatus.search"]),d=n(9),f=n(0),p=r(n(33)),g=r(n(7)),h=["messages","searchInfo"],m=[].concat(h,["searchResult"]),v=[].concat(h,["searchKeyword"]),_=[].concat(h,["pendingSearchKeyword"]),y=[].concat(h,["firstLoad"]);t.default={name:e,depends:[],signals:{searchMessage:[(0,d.set)((0,f.state)(l),(0,f.props)(u)),(0,d.set)((0,f.state)(c),g.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=e.state,o=t.channelId,i=void 0,l=void 0;if(t.firstLoad?(i=a.get(_),a.set(v,i),a.set(m,s())):(i=a.get(v),l=a.get(m).currentPage+1),""===i)return r.success();var u={keyword:i};return l&&(u.page=l),n.get("/api/channels/"+o+"/search",u).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.result;if(200===t.status&&a){var o=r.get(m),l=a.items,u=a.currentPage,c=a.pages,d=a.total,f=o.items||{},g=i({},f);l.forEach(function(e){g[e.id]=p.default.transformMessage(r,e)}),n.getSignal("messages.syncSearchMessageResult")({messages:l});var h={items:g,currentPage:u,pages:c,total:d};if(o&&l&&u>0)r.set(m,{items:g,currentPage:u,pages:c,total:o.total});else{var v=s();r.set(m,i({},v,h))}}},(0,d.set)((0,f.state)(c),g.default.succeeded)],error:[(0,d.set)((0,f.state)(c),g.default.failed)]}]],messageUpdate:[function(e){var t=e.props,n=e.state,r=p.default.transformMessage(n,t);n.get([].concat(o(m),["items",r.id]))&&n.set([].concat(o(m),["items",r.id]),r)}],onSearchKeywordChanged:[function(e){var t=e.props,n=e.state,r=t.value;n.set(_,r)}],clearShowInfo:[function(e){var t=e.state;t.set(m,s()),t.set(v,""),t.set(_,""),t.set(y,!1)}]},getState:function(){return{searchInfo:{searchResult:{items:{},currentPage:0,pages:[],total:0},searchKeyword:"",pendingSearchKeyword:"",firstLoad:!1}}},getSearchedMessage:function(e,t){return e.get([].concat(o(m),["items",t]))}}}).call(t,"views/v2/modules/messages/SearchMessageStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(675)),o=r(n(467)),s=r(n(676)),i=[a.default,o.default,s.default];t.default={team:i}},function(e,t,n){e.exports=n(8)(880)},function(e,t,n){e.exports=n(8)(885)},function(e,t,n){e.exports=n(8)(886)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[function(e){return e&&e.__esModule?e:{default:e}}(n(677)).default];t.default={notification:r}},,function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(19)),s=r(n(31)),i=["project","contentMap"];t.default={name:e,depends:[],signals:{addContent:[function(e){var t=e.props;e.state.set([].concat(i,[t.id]),t)}],downloadContent:s.default.LoginRequired(function(e){var t=e.props,n=e.state,r=t.id,a=n.get("project"),s=n.get("challenge"),i=n.get("event"),l="";a&&a.projectData&&a.projectData.id?l="/api/p/"+a.projectData.id+"/attachments/"+r:s&&s.challengeContent&&s.challengeContent.id?l="/api/challenges/"+s.challengeContent.id+"/attachments/"+r:i&&i.eventContent&&i.eventContent.id&&(l="/api/events/"+i.eventContent.id+"/attachments/"+r),r&&""!==l&&(0,o.default)(l)}),downloadDraftContent:s.default.LoginRequired(function(e){var t=e.props,n=e.state,r=t.id,a=n.get("project"),s=n.get("challenge"),i=n.get("event"),l="";if(a&&a.projectData&&a.projectData.id)l="/api/p/"+a.projectData.id+"/attachments/"+r+"/draft";else if(s&&s.challengeContent&&s.challengeContent.id){var u=n.get("challenge").lang;l="/api/challenges/"+s.challengeContent.id+"/attachments/"+r+"/draft?lang="+u}else i&&i.eventContent&&i.eventContent.id&&(l="/api/events/"+i.eventContent.id+"/attachments/"+r);r&&""!==l&&(0,o.default)(l)}),switchContentVisibility:[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.id,s=n.get("project.projectData.id"),i=n.get("project").contentMap[o];return r.post("/api/p/"+s+"/contents/"+o+"/visibility",{isPrivate:!i.isPrivate}).then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,r=t.id,o=n.get("project").contentMap,s=a({},o);s[r].isPrivate=!s[r].isPrivate,n.set("project.contentMap",s)}],error:[],dummy:[]}]},getState:function(){return{contentMap:{}}},getContent:function(e,t){return e.get([].concat(i,[t]))}}}).call(t,"views/v2/modules/projectV2/ContentStore.js")},function(e,t,n){"use strict";(function(e){function n(e,t,n){var a=[].concat(r,[t]);e!==n.get(a)&&n.set(a,e)}Object.defineProperty(t,"__esModule",{value:!0});var r=["project","gallery"];t.default={name:e,depends:[],signals:{setItemPos:[function(e){var t=e.props,r=e.state;n(t.itemPos,"itemPos",r)}],setThumbPos:[function(e){var t=e.props,r=e.state;n(t.thumbPos,"thumbPos",r)}]},getState:function(){return{gallery:{itemPos:0,thumbPos:0}}}}}).call(t,"views/v2/modules/projectV2/GalleryStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return function(t){var n=t.props,r=t.state,a=n.userId;r.set("project.contributorStatus."+a,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(["project.contributorStatus.add"],["project.contributorStatus.add"]),u=a(["project.contributorStatus.accept"],["project.contributorStatus.accept"]),c=a(["project.contributorStatus.decline"],["project.contributorStatus.decline"]),d=a(["project.contributorDeleteConfirm"],["project.contributorDeleteConfirm"]),f=a(["project.inviteViaEmail.inviteStatus"],["project.inviteViaEmail.inviteStatus"]),p=n(9),g=n(0),h=r(n(34)),m=r(n(7)),v=n(11),_=n(21),y=["project","contributors"],b={open:!1,id:"",userId:"",projectId:""},S=[i(m.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.id,o=t.projectId;return o?n.post("/api/p/"+o+"/contributors/undo",{id:a}).then(r.success).catch(r.error):r.success()},{success:[i(m.default.succeeded)],error:[i(m.default.failed)]}],function(e){var t=e.props,n=e.state,r=e.controller,a=e.project,o=t.id,s=t.projectId,i=n.get(y)||[],l=i.findIndex(function(e){return e.id===o});if(l>=0){var u=i[l],c=u.userId,d=u.email;if(n.splice(y,l,1),d||n.unset(["project","userMap",c]),c===(n.get("loginUser")||{}).id){var f="/p/"+s;a.locationHref(f),r.getSignal("project.closeConfirmDialog")()}}}];t.default={name:e,depends:[],signals:{addContributor:[(0,p.set)((0,g.state)(l),m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=e.controller,s=t.userId,i=t.projectId,l=t.title,u=t.description,c=t.email,d=t.name,f=n.get("loginUser").id;if(!n.get(["project","projectData"]).teamId&&s===f)return o.getSignal("header.showMessage")({message:"project_ContributorAlreadyExist"}),a.dummy();return i?r.post("/api/p/"+i+"/contributors",{projectId:i,userId:s,title:l,description:u,email:c,name:d}).then(a.success).catch(a.error):a.success({id:h.default.createNonce()})},{success:[(0,p.set)((0,g.state)(l),m.default.succeeded)],error:[(0,p.set)((0,g.state)(l),m.default.failed)],dummy:[(0,p.set)((0,g.state)(l),m.default.failed)]}],function(e){var t=e.props,n=e.state,r=e.controller,a=t.projectId,o=t.id,i=t.userId,l=t.fullName,u=t.avatar,c=t.email,d=t.name,f=t.title,p=t.result,g=t.status,h={id:o,userId:i,title:f||"",email:c,name:d};if(g>=400){var m="project_"+p.errorCode;r.getSignal("header.showMessage")({message:m})}else if(a&&200===g&&p&&(h=p),h.id){var v=n.get(y)||[],_=-1;c?_=v.findIndex(function(e){return e.email===c}):(_=v.findIndex(function(e){return e.userId===i}),n.merge(["project","userMap"],s({},i,{userId:i,fullName:l,avatar:u}))),_<0&&n.unshift(y,h)}}],removeContributorInternal:[].concat(S),removeContributor:[function(e){var t=e.props,n=e.state,r=e.controller,a=e.path,o=t.id,s=t.userId,i=t.projectId,l=n.get("loginUser")||{};return i&&s===l.id?(r.getSignal("project.openConfirmDialog")({id:o,userId:s,projectId:i}),a.no()):a.yes()},{yes:[].concat(S),no:[]}],accept:[(0,p.set)((0,g.state)(u),m.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.id,o=t.projectId;return o?n.post("/api/p/"+o+"/contributors/accept",{id:a,accept:!0}).then(r.success).catch(r.error):r.dummy()},{success:[(0,p.set)((0,g.state)(u),m.default.succeeded)],error:[(0,p.set)((0,g.state)(u),m.default.failed)],dummy:[]}],function(e){var t=e.props,n=e.state,r=t.projectId,a=t.id,o=t.result,i=t.status;if(r&&200===i&&o){var l=o.id,u=o.status,c=o.userId,d=n.get("loginUser")||{},f=d.name,p={id:c,type:"person",username:d.username,fullName:f,avatar:d.avatar,title:d.title,jobRoleIds:d.jobRoleIds};l===a&&"invited"!==u&&(n.unset(["project","invitedId"]),n.set(["project","edit"],!0),n.push(y,o),n.merge(["project","userMap"],s({},c,p)))}}],decline:[(0,p.set)((0,g.state)(c),m.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.id,o=t.projectId;return o?n.post("/api/p/"+o+"/contributors/undo",{id:a}).then(r.success).catch(r.error):r.dummy()},{success:[(0,p.set)((0,g.state)(c),m.default.succeeded)],error:[(0,p.set)((0,g.state)(c),m.default.failed)],dummy:[]}],function(e){200===e.props.status&&window.location.reload()}],updateContributor:[].concat(o(_.chains.formValidated),[i(m.default.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.id,s=t.description,i=n.get(["project","projectData"]).id,l=n.get(["project","contributorsDialog","form"]);return(0,_.isValidForm)(l)&&i&&n.get(y).findIndex(function(e){return e.id===o})>=0?r.post("/api/p/"+i+"/contributors/update",{id:o,title:l[o]&&l[o].value,description:s}).then(a.success).catch(a.error):a.error()},{success:[i(m.default.succeeded)],error:[i(m.default.failed)]}],function(e){var t=e.props,n=e.state,r=e.controller,a=t.result;if(200===t.status&&a){var s=a.id,i=n.get(y),l=i.findIndex(function(e){return e.id===s});if(l>=0){var u=[].concat(o(i));u.splice(l,1,a),n.set(y,u)}r.getSignal("project.onCancelEditPraise")({id:s})}}]),openConfirmDialog:[function(e){var t=e.props,n=e.state,r=t.id,a=t.userId,o=t.projectId;n.set(["project","contributorDeleteConfirm"],{open:!0,id:r,userId:a,projectId:o})}],submitConfirmDialog:[function(e){var t=e.state,n=e.controller,r=t.get(["project","contributorDeleteConfirm"]),a=r.open,o=r.id,s=r.userId,i=r.projectId;a&&n.getSignal("project.removeContributorInternal")({id:o,userId:s,projectId:i})}],closeConfirmDialog:[(0,p.set)((0,g.state)(d),b)],invite:[(0,p.set)((0,g.state)(f),m.default.initial),function(e){var t=e.props,n=e.path,r=e.controller,a=t.email;if((0,v.validateEmail)(a))return n.yes();return r.getSignal("header.showMessage")({message:"not_valid_email"}),n.no()},{yes:[function(e){var t=e.state,n=e.props,r=e.controller,a=t.get(["project","projectData"]).id,o=n.email,s={email:o,name:o.split("@")[0],title:"",projectId:a};r.getSignal("project.addContributor")(s)},(0,p.set)((0,g.state)(f),m.default.succeeded)],no:[(0,p.set)((0,g.state)(f),m.default.failed)]}]},getState:function(){return{contributors:[],contributorStatus:{},contributorDeleteConfirm:b,userMap:{}}}}}).call(t,"views/v2/modules/projectV2/ContributorStore.js")},,function(e,t,n){e.exports=n(8)(39)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.RewardTypes=t.TypeLadingUrl=t.BadgeOverlayType=t.HomePagePathwayFeedbackTypes=t.MyLearningTabTypeList=t.MyLearningTabTypes=t.BadgeTypes=t.SubTitleListKey=t.DashboardArchitectureTabs=t.TIME_ON_PAGE_EXPIRE_TIME=t.SubmissionTypes=t.SubmissionPermissions=t.LevelSelectsType=t.SubmissionPermissionType=t.MissionVersionUpdateType=t.MediaCommonSize=t.PositionAllKeys=t.PositionKey=t.PremiumHomeTourSteps=t.TourStepKey=t.BlackFridayDialogKey=t.TagType=t.HomePageTab=t.ModeratorActionType=void 0,t.FeedbackTypes=t.FeedbackType=t.CommentReportTypes=t.CommentReportType=t.ReportTypes=t.EditorEditFAQKeys=t.EducatorSupportAges=t.EducatorSupportAgesRange=t.EducatorChangeSignalMap=t.EducatorPlanContentKeys=t.TipTypes=t.DetailHeadTabsV2=t.DetailHeadTabs=t.StepOptionTypes=t.StepTypes=t.CalendarTabs=t.SkipSearchOptions=t.InteractionTypes=t.CDPLearnHomeSection=t.CDPLearnHomeSubSection=t.CDPLearnVideoEngagementTypes=t.CDPLearnType=t.EventType=t.ShareTypes=t.UserGroups=t.CriteriaKeys=t.FilterAgeRangeOptions=t.FilterTimeOfDayOptions=t.FilterSubmissionPopularTypes=t.FilterInstructionTypes=t.FilterDurationTypes=t.FilterStatusTypes=t.FilterHiddenTypes=t.FilterPopularTypes=t.FilterPopularType=t.FilterPremiumTypes=t.FilterPremiumType=t.ArchitectureSkillLevelTypes=t.SkillLevelTypes=t.SkillLevelTypeRankMap=t.SkillLevelKeys=t.PathwayKinds=t.BrowseDataTypes=t.ArchitectureDataTypes=t.ArchitectureDataTypesAdmin=t.DataTypesAll=t.DataTypesAdmin=t.DataTypes=t.DataTypeKeys=t.MaterialTypeIconMap=t.UnremovableTags=t.IndustryName=t.TopicName=t.DateFormat=t.GET_BADGE_OVERLAY=t.LEARNER_LESSONS_LOAD_MORE=t.LEARNER_LESSONS_SEARCH=t.POST_TEMP_FEEDBACK=t.GET_CHECKPOINT_STATE=t.POST_FEEDBACK=t.POST_ACCLAIM_INFO=t.POST_UNDO_SUBMISSION_STATS=t.POST_ADMIN_SUBMISSION_READ_ALL=t.POST_ADMIN_SUBMISSION_READ=t.GET_SUBMISSION_ADMIN=t.DELETE_SUBMISSION=t.POST_WEBGL_PROJECT=t.DELETE_FEATURED_SUBMISSION=t.POST_FEATURED_SUBMISSION=t.GET_SUBMISSION_DETAIL=t.PUBLISH_SUBMISSION=t.POST_SUBMISSION=t.POST_ADMIN_COMMENT_DELETE=t.POST_ADMIN_COMMENT_READ_ALL=t.POST_ADMIN_COMMENT_READ=t.GET_ADMIN_COMMENT_STATS=t.GET_ADMIN_COMMENTS=t.GET_SAVED_TAGS_LEARN_LIST=t.DELETE_COLLECT_TAG=t.POST_COLLECT_TAGS=t.DELETE_VIDEO_SUBTITLE=t.POST_IMPORT_JSON=t.POST_REPORT=t.GET_REPORTS=t.GET_REPORT_STATS=t.POST_UNDO_COMMENT_STATS=t.POST_UNDO_REPORT_STATS=t.POST_CLOSE_REPORT_STATS=t.DELETE_MESSAGE=t.EDIT_MESSAGE=t.POST_MESSAGE=t.POST_VALIDATE_PAYMENT_ITEM=t.POST_FAQ=t.POST_GROUP_INFO=t.POST_ASSET_PACKAGE=t.DELETE_LIKE=t.POST_LIKE=t.POST_TIP=t.POST_SLUG=t.GET_CREATED_LIST=void 0,t.GET_COLLECT_LIST=t.GET_SKILLS_MORE=t.GET_SKILLS=t.GET_BADGES_REWARD_MORE=t.GET_BADGES_REWARD=t.GET_ACTIVE_RECORD_SAVED_MORE_LIST=t.GET_ACTIVE_RECORD_COMPLETED_MORE_LIST=t.GET_ACTIVE_RECORD_IN_PROGRESS_MORE_LIST=t.GET_ACTIVE_RECORD_SAVED_LIST=t.GET_ACTIVE_RECORD_COMPLETED_LIST=t.GET_ACTIVE_RECORD_IN_PROGRESS_LIST=t.GET_COMPLETED_RECORD_LIST=t.GET_IN_PROGRESS_RECORD_LIST=t.GET_SUBMISSIONS_MORE_LIST=t.GET_SUBMISSIONS_LIST=t.GET_ACTIVITY_RECORD_LIST=t.GET_RECORD_LIST=t.HEADER_SEARCH=t.TOGGLE_TUTORIAL_RECORD=t.SET_RECORD_VISIT=t.RETAKE_QUIZ_RECORD=t.SET_QUIZ_RECORD=t.POST_QUESTION_RECORD=t.TOGGLE_STEP_RECORD=t.DELETE_RECORD=t.RESTART_RECORD=t.POST_ARCHITECTURE_RECORD=t.POST_RECORD=t.DELETE_COLLECT=t.POST_COLLECT=t.GET_PAGE_LIST_INFO=t.SAVE_FEATURED=t.POST_PUBLIC=t.DELETE_LEARN=t.PUBLISH_QUIZ=t.GET_QUIZ_EXTENDS=t.POST_QUIZ_DETAILS=t.POST_QUIZ_QUESTIONS=t.POST_QUIZ_GENERAL=t.PUBLISH_LIVE_SESSION=t.POST_LIVE_SESSION_DETAILS=t.POST_LIVE_SESSION_CONTENT=t.POST_LIVE_SESSION_GENERAL=t.PUBLISH_PATHWAY=t.GET_PATHWAY_OVERLAY=t.GET_PATHWAY_EXTENDS=t.POST_PATHWAY_DETAILS=t.POST_PATHWAY_MISSIONS=t.POST_PATHWAY_ASSESSMENTS=t.POST_PATHWAY_GENERAL=t.PUBLISH_MISSION=t.GET_MISSION_CONTENT_RECORD=t.GET_MISSION_EXTENDS=t.POST_MISSION_DETAILS=t.POST_MISSION_MAP=t.POST_MISSION_VERSION=t.POST_MISSION_ADD_SET=t.POST_MISSION_RECOMMENDATIONS=t.POST_MISSION_ASSESSMENTS=t.POST_MISSION_GENERAL=t.POST_MISSION=t.PUBLISH_BADGE=t.POST_BADGE_GENERAL=t.PUBLISH_COMPETENCY=t.POST_COMPETENCY_CONTENT=t.POST_COMPETENCY_GENERAL=t.GET_SKILL_SYNC=t.PUBLISH_SKILL=t.POST_SKILL_CONTENT=t.POST_SKILL_GENERAL=t.PUBLISH_COURSE=t.GET_COURSE_EXTENDS=t.POST_COURSE_DETAILS=t.POST_COURSE_CONTENT=t.POST_COURSE_GENERAL=t.PUBLISH_PROJECT=t.GET_PROJECT_EXTENDS=t.POST_PROJECT_DETAILS=t.POST_PROJECT_CONTENT=t.POST_PROJECT_GENERAL=t.PUBLISH_TUTORIAL=t.POST_TUTORIAL_DETAILS=t.GET_TUTORIAL_SYNC=t.GET_TUTORIAL_EXTENDS=t.POST_TUTORIAL_ADD_STEP=t.POST_TUTORIAL_STEPS=t.POST_TUTORIAL_GENERAL=t.ARCHITECTURE_CONTENT_SEARCH_LOAD_MORE=t.CONTENT_SEARCH_LOAD_MORE=t.LEARNER_CALENDAR_SEARCH=t.LEARNER_ARCHITECTURE_CONTENT_SEARCH=t.LEARNER_CONTENT_SEARCH=t.SEARCH_LOAD_MORE=t.LEARNER_SEARCH=t.FEATURED_EDIT_LOAD_MORE=t.FEATURED_EDIT_SEARCH=t.CREATOR_ARCHITECTURE_SEARCH_LOAD_MORE=t.CREATOR_DASHBOARD_ARCHITECTURE_SEARCH=t.CREATOR_SEARCH_LOAD_MORE=t.CREATOR_DASHBOARD_SEARCH=void 0;var a,o,s=function(e){return e&&e.__esModule?e:{default:e}}(n(25)),i=(t.CREATOR_DASHBOARD_SEARCH="creator_dashboard_search",t.CREATOR_SEARCH_LOAD_MORE="creator_search_load_more",t.CREATOR_DASHBOARD_ARCHITECTURE_SEARCH="creator_dashboard_architecture_search",t.CREATOR_ARCHITECTURE_SEARCH_LOAD_MORE="creator_architecture_search_load_more",t.FEATURED_EDIT_SEARCH="featured_edit_search",t.FEATURED_EDIT_LOAD_MORE="featured_edit_load_more",t.LEARNER_SEARCH="learner_search",t.SEARCH_LOAD_MORE="search_load_more",t.LEARNER_CONTENT_SEARCH="learner_content_search",t.LEARNER_ARCHITECTURE_CONTENT_SEARCH="learner_architecture_content_search",t.LEARNER_CALENDAR_SEARCH="learner_calendar_search",t.CONTENT_SEARCH_LOAD_MORE="content_search_load_more",t.ARCHITECTURE_CONTENT_SEARCH_LOAD_MORE="architecture_content_search_load_more",t.POST_TUTORIAL_GENERAL="post_tutorial_general",t.POST_TUTORIAL_STEPS="post_tutorial_steps",t.POST_TUTORIAL_ADD_STEP="post_tutorial_add_step",t.GET_TUTORIAL_EXTENDS="get_tutorial_extends",t.GET_TUTORIAL_SYNC="get_tutorial_sync",t.POST_TUTORIAL_DETAILS="post_tutorial_details",t.PUBLISH_TUTORIAL="publish_tutorial",t.POST_PROJECT_GENERAL="post_project_general",t.POST_PROJECT_CONTENT="post_project_content",t.POST_PROJECT_DETAILS="post_project_details",t.GET_PROJECT_EXTENDS="get_project_extends",t.PUBLISH_PROJECT="publish_project",t.POST_COURSE_GENERAL="post_course_general",t.POST_COURSE_CONTENT="post_course_content",t.POST_COURSE_DETAILS="post_course_details",t.GET_COURSE_EXTENDS="get_course_extends",t.PUBLISH_COURSE="publish_course",t.POST_SKILL_GENERAL="post_skill_general",t.POST_SKILL_CONTENT="post_skill_content",t.PUBLISH_SKILL="publish_skill",t.GET_SKILL_SYNC="get_skill_sync",t.POST_COMPETENCY_GENERAL="post_competency_general",t.POST_COMPETENCY_CONTENT="post_competency_content",t.PUBLISH_COMPETENCY="publish_competency",t.POST_BADGE_GENERAL="post_badge_general",t.PUBLISH_BADGE="publish_badge",t.POST_MISSION="post_mission",t.POST_MISSION_GENERAL="post_mission_general",t.POST_MISSION_ASSESSMENTS="post_mission_assessments",t.POST_MISSION_RECOMMENDATIONS="post_mission_recommendations",t.POST_MISSION_ADD_SET="post_mission_add_set",t.POST_MISSION_VERSION="post_mission_version",t.POST_MISSION_MAP="post_mission_map",t.POST_MISSION_DETAILS="post_mission_details",t.GET_MISSION_EXTENDS="get_mission_extends",t.GET_MISSION_CONTENT_RECORD="get_mission_content_record",t.PUBLISH_MISSION="publish_mission",t.POST_PATHWAY_GENERAL="post_pathway_general",t.POST_PATHWAY_ASSESSMENTS="post_pathway_assessments",t.POST_PATHWAY_MISSIONS="post_pathway_missions",t.POST_PATHWAY_DETAILS="post_pathway_details",t.GET_PATHWAY_EXTENDS="get_pathway_extends",t.GET_PATHWAY_OVERLAY="get_pathway_overlay",t.PUBLISH_PATHWAY="publish_pathway",t.POST_LIVE_SESSION_GENERAL="post_live_session_general",t.POST_LIVE_SESSION_CONTENT="post_live_session_content",t.POST_LIVE_SESSION_DETAILS="post_live_session_details",t.PUBLISH_LIVE_SESSION="publish_live_session",t.POST_QUIZ_GENERAL="post_quiz_general",t.POST_QUIZ_QUESTIONS="post_quiz_questions",t.POST_QUIZ_DETAILS="post_quiz_details",t.GET_QUIZ_EXTENDS="get_quiz_extends",t.PUBLISH_QUIZ="publish_quiz",t.DELETE_LEARN="delete_learn",t.POST_PUBLIC="post_public",t.SAVE_FEATURED="save_featured",t.GET_PAGE_LIST_INFO="get_page_list_info",t.POST_COLLECT="post_collect",t.DELETE_COLLECT="delete_collect",t.POST_RECORD="post_record",t.POST_ARCHITECTURE_RECORD="post_architecture_record",t.RESTART_RECORD="restart_record",t.DELETE_RECORD="delete_record",t.TOGGLE_STEP_RECORD="toggle_step_record",t.POST_QUESTION_RECORD="post_question_record",t.SET_QUIZ_RECORD="set_quiz_record",t.RETAKE_QUIZ_RECORD="retake_quiz_record",t.SET_RECORD_VISIT="set_record_visit",t.TOGGLE_TUTORIAL_RECORD="toggle_tutorial_record",t.HEADER_SEARCH="header_search",t.GET_RECORD_LIST="get_record_list",t.GET_ACTIVITY_RECORD_LIST="get_activity_record_list",t.GET_SUBMISSIONS_LIST="get_submissions_list",t.GET_SUBMISSIONS_MORE_LIST="get_submissions_more_list",t.GET_IN_PROGRESS_RECORD_LIST="get_in_progress_record_list",t.GET_COMPLETED_RECORD_LIST="get_completed_record_list",t.GET_ACTIVE_RECORD_IN_PROGRESS_LIST="get_active_record_in_progress_list",t.GET_ACTIVE_RECORD_COMPLETED_LIST="get_active_record_completed_list",t.GET_ACTIVE_RECORD_SAVED_LIST="get_active_record_saved_list",t.GET_ACTIVE_RECORD_IN_PROGRESS_MORE_LIST="get_active_record_in_progress_more_list",t.GET_ACTIVE_RECORD_COMPLETED_MORE_LIST="get_active_record_completed_more_list",t.GET_ACTIVE_RECORD_SAVED_MORE_LIST="get_active_record_saved_more_list",t.GET_BADGES_REWARD="get_badges_reward",t.GET_BADGES_REWARD_MORE="get_badges_reward_more",t.GET_SKILLS="get_skills",t.GET_SKILLS_MORE="get_skills_more",t.GET_COLLECT_LIST="get_collect_list",t.GET_CREATED_LIST="get_created_list",t.POST_SLUG="post_slug",t.POST_TIP="post_tip",t.POST_LIKE="post_like",t.DELETE_LIKE="delete_like",t.POST_ASSET_PACKAGE="post_asset_package",t.POST_GROUP_INFO="post_group_info",t.POST_FAQ="post_faq",t.POST_VALIDATE_PAYMENT_ITEM="post_validate_payment_item",t.POST_MESSAGE="post_message",t.EDIT_MESSAGE="edit_message",t.DELETE_MESSAGE="delete_message",t.POST_CLOSE_REPORT_STATS="post_close_report_stats",t.POST_UNDO_REPORT_STATS="post_undo_report_stats",t.POST_UNDO_COMMENT_STATS="post_undo_comment_stats",t.GET_REPORT_STATS="get_stats",t.GET_REPORTS="get_reports",t.POST_REPORT="post_report",t.POST_IMPORT_JSON="post_import_json",t.DELETE_VIDEO_SUBTITLE="delete_video_subtitle",t.POST_COLLECT_TAGS="post_collect_tags",t.DELETE_COLLECT_TAG="delete_collect_tag",t.GET_SAVED_TAGS_LEARN_LIST="get_saved_tags_learn_list",t.GET_ADMIN_COMMENTS="get_admin_comments",t.GET_ADMIN_COMMENT_STATS="get_admin_comment_stats",t.POST_ADMIN_COMMENT_READ="post_admin_comment_read",t.POST_ADMIN_COMMENT_READ_ALL="post_admin_comment_read_all",t.POST_ADMIN_COMMENT_DELETE="post_admin_comment_delete",t.POST_SUBMISSION="post_submission",t.PUBLISH_SUBMISSION="publish_submission",t.GET_SUBMISSION_DETAIL="publish_submission",t.POST_FEATURED_SUBMISSION="post_featured_submission",t.DELETE_FEATURED_SUBMISSION="delete_featured_submission",t.POST_WEBGL_PROJECT="post_webgl_project",t.DELETE_SUBMISSION="delete_submission",t.GET_SUBMISSION_ADMIN="get_submission_admin",t.POST_ADMIN_SUBMISSION_READ="post_admin_submission_read",t.POST_ADMIN_SUBMISSION_READ_ALL="post_admin_submission_read_all",t.POST_UNDO_SUBMISSION_STATS="post_undo_submission_stats",t.POST_ACCLAIM_INFO="post_acclaim_info",t.POST_FEEDBACK="post_feedback",t.GET_CHECKPOINT_STATE="get_checkpoint_state",t.POST_TEMP_FEEDBACK="post_temp_feedback",t.LEARNER_LESSONS_SEARCH="learner_lessons_search",t.LEARNER_LESSONS_LOAD_MORE="learner_lessons_load_more",t.GET_BADGE_OVERLAY="get_badge_overlay",t.DateFormat={dateTime:"YYYY-MM-DD HH:mm",date:"YYYY-MM-DD",time:"HH:mm"},t.TopicName={forEducators:"For Educators",Animation:"Animation"}),l=(t.IndustryName={Film:"Film"},t.UnremovableTags=[{name:i.forEducators}],t.MaterialTypeIconMap={link:"icons_link",file:"lrn_icon_download"},t.DataTypeKeys=(0,s.default)({tutorial:null,project:null,course:null,liveSession:null,faq:null,quiz:null,submission:null,skill:null,badge:null,competency:null,mission:null,group:null,pathway:null})),u=(t.DataTypes=["tutorial","project","course","quiz"],t.DataTypesAdmin=["course","project","tutorial","liveSession","quiz"],t.DataTypesAll=["tutorial","project","course","liveSession","quiz","faq"],t.ArchitectureDataTypesAdmin=["skill","competency","mission","pathway","badge"],t.ArchitectureDataTypes=["tutorial","project","course","quiz","mission","pathway"],t.BrowseDataTypes=["pathway","mission","course","project","tutorial"],t.PathwayKinds=["jobRole","mastery","creative"],t.SkillLevelKeys=(0,s.default)({foundational:null,beginner:null,intermediate:null,advanced:null,expert:null})),c=(t.SkillLevelTypeRankMap=(a={},r(a,u.foundational,0),r(a,u.beginner,1),r(a,u.intermediate,2),r(a,u.advanced,3),r(a,u.expert,4),a),t.SkillLevelTypes=[u.foundational,u.beginner,u.intermediate,u.advanced],t.ArchitectureSkillLevelTypes=[u.foundational,u.beginner,u.intermediate,u.advanced,u.expert],t.FilterPremiumType=(0,s.default)({none_premium:null,premium:null})),d=(t.FilterPremiumTypes=[c.none_premium,c.premium],t.FilterPopularType=(0,s.default)({none:null,starts:null,recency:null,titleasc:null,titledes:null})),f=(t.FilterPopularTypes=[d.none,d.starts,d.recency,d.titleasc,d.titledes],t.FilterHiddenTypes=["hidden","none_hidden"],t.FilterStatusTypes=["draft","published"],t.FilterDurationTypes=["boundless_15","15_60","60_120","120_boundless"],t.FilterInstructionTypes=["boundless_45","45_60","60_120","120_300","300_boundless"],t.FilterSubmissionPopularTypes=["collects","views","titleasc","titledes"],t.FilterTimeOfDayOptions=["0_480","480_720","720_960","960_1200","1200_1440"],t.FilterAgeRangeOptions=["13_14","15_17","18_boundless"],t.CriteriaKeys={skillLevel:"sl",language:"lang",query:"q",tag:"tag",industry:"ind",type:"t",duration:"d",premium:"prm",hidden:"hidden",singles:"singles",status:"status",timeOfDay:"tod",orderBy:"ob",instruction:"ins",ageRange:"age",owner:"u",itemId:"itemId",uv:"uv",uvr:"uvr",xp:"xp"},t.UserGroups={admin:"admin",superAdmin:"super_admin",learnCreator:"learn_creator",learnModerator:"learn_moderator",learnAdmin:"learn_admin",learnAdminEN:"learn_admin_en",learnAdminZH:"learn_admin_zh",learnAdminJA:"learn_admin_ja",learnAdminKO:"learn_admin_ko",learnAdminRU:"learn_admin_ru",learnAdminES:"learn_admin_es",learnAdminFR:"learn_admin_fr",learnAdminDE:"learn_admin_de",learnAdminPT:"learn_admin_pt",learnEditor:"learn_editor",learnEditorEN:"learn_editor_en",learnEditorZH:"learn_editor_zh",learnEditorJA:"learn_editor_ja",learnEditorKO:"learn_editor_ko",learnEditorRU:"learn_editor_ru",learnEditorES:"learn_editor_es",learnEditorFR:"learn_editor_fr",learnEditorDE:"learn_editor_de",learnEditorPT:"learn_editor_pt"},t.ShareTypes=(0,s.default)({facebook:null,twitter:null,googlePlus:null,email:null}),t.EventType=(0,s.default)({connect:null,learn:null}),t.CDPLearnType=(0,s.default)("learn_",{share:null,download:null,live_session:null,recommend:null,interaction:null,home:null,time_on_page:null,item_start:null,step_update:null,video_start:null,video_stop:null,video_engagement:null}),t.CDPLearnVideoEngagementTypes=(0,s.default)("change_",{caption:null,language:null,full_screen:null,playback_speed:null}),t.CDPLearnHomeSubSection={newToUnity:"New To Unity",familiar:"Familiar With Unity",powerUser:"Power User"},t.CDPLearnHomeSection="Level",t.InteractionTypes=(0,s.default)({comment:null,like:null,flagged:null}),t.SkipSearchOptions={skipSyncToLocation:!0},t.CalendarTabs=(0,s.default)({opening:null,coming:null,previous:null,live_help:null}),t.StepTypes=(0,s.default)({lab:null,quiz:null,submission:null}),t.StepOptionTypes=(0,s.default)({required:null,optional:null}),t.DetailHeadTabs=(0,s.default)({overview:null,educator:null,materials:null,detail:null}),t.DetailHeadTabsV2=(0,s.default)({pathway_map:null,content:null,overview:null,skills:null,live:null,educator:null}),t.TipTypes=["demo","explain","ask","warn","review","recap","assess"],t.EducatorPlanContentKeys=[{key:"description",editorKey:"editorEducatorPlan_description"},{key:"outcome",editorKey:"editorEducatorPlan_outcome"},{key:"objectives",editorKey:"editorEducatorPlan_objectives"},{key:"alignment",editorKey:"editorEducatorPlan_alignment"},{key:"preparation",editorKey:"editorEducatorPlan_preparation"}],t.EducatorChangeSignalMap={tutorial:{description:"tutorial.changeEducatorPlanDescription",outcome:"tutorial.changeEducatorPlanOutcome",objectives:"tutorial.changeEducatorPlanObjectives",alignment:"tutorial.changeEducatorPlanAlignment",preparation:"tutorial.changeEducatorPlanPreparation"},project:{description:"project.changeEducatorPlanDescription",outcome:"project.changeEducatorPlanDescription",objectives:"project.changeEducatorPlanDescription",alignment:"project.changeEducatorPlanDescription",preparation:"project.changeEducatorPlanDescription"},course:{description:"course.changeEducatorPlanDescription",outcome:"course.changeEducatorPlanDescription",objectives:"course.changeEducatorPlanDescription",alignment:"course.changeEducatorPlanDescription",preparation:"course.changeEducatorPlanDescription"}},t.EducatorSupportAgesRange={minAge:13,maxAge:18}),p=(t.EducatorSupportAges=Array.call.apply(Array,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(f.maxAge-f.minAge+1)))).map(function(e,t){return""+(t+f.minAge)}).reverse(),t.EditorEditFAQKeys=(0,s.default)("editorEditFAQItem_",{title:null,description:null}),t.ReportTypes=(0,s.default)({message:null,submission:null}),t.CommentReportType=(0,s.default)({disrespectful:null,obscene:null,spam:null,solicitation:null,illegal:null,irrelevant:null,other:null})),g=(t.CommentReportTypes=[p.disrespectful,p.obscene,p.spam,p.solicitation,p.illegal,p.irrelevant,p.other],t.FeedbackType=(0,s.default)({confusing:null,incomplete:null,boring:null,technical:null,advanced:null,easy:null,out:null,clear:null,engaging:null,inspiring:null,provided:null,well:null})),h=(t.FeedbackTypes={1:[g.confusing,g.incomplete,g.boring,g.technical,g.advanced,g.easy,g.out],2:[g.confusing,g.incomplete,g.boring,g.technical,g.advanced,g.easy,g.out],3:[g.clear,g.engaging,g.confusing,g.technical,g.advanced,g.easy,g.out],4:[g.clear,g.engaging,g.inspiring,g.provided,g.well],5:[g.clear,g.engaging,g.inspiring,g.provided,g.well]},t.ModeratorActionType=(0,s.default)({ban:null,ignore:null,undo:null,read:null}),t.HomePageTab=(0,s.default)({newToUnity:null,familiarWithUnity:null,powerUser:null}),t.TagType=(0,s.default)({topic:null,industry:null}),t.BlackFridayDialogKey="black_friday_dialog",t.TourStepKey=(0,s.default)({menu_live_calendar:null,menu_courses:null,menu_my_learning:null,menu_my_account:null,search_box:null,browse_all_topic:null,menu_pathways:null,menu_browses:null})),m=(t.PremiumHomeTourSteps=[h.menu_my_learning,h.menu_pathways,h.menu_browses,h.menu_live_calendar,h.search_box],t.PositionKey=(0,s.default)({top:null,right:null,bottom:null,left:null,bottomLeft:null,bottomRight:null})),v=(t.PositionAllKeys=[m.top,m.right,m.bottom,m.left,m.bottomLeft,m.bottomRight],t.MediaCommonSize={width:100,height:56},t.MissionVersionUpdateType={minor:"minor",major:"major"},t.SubmissionPermissionType=(0,s.default)({public:null,group:null,private:null})),_=(t.LevelSelectsType=(0,s.default)({And:null,Or:null}),t.SubmissionPermissions=[v.public,v.private],t.SubmissionTypes=(0,s.default)({media:null,webgl:null}),t.TIME_ON_PAGE_EXPIRE_TIME=18e5,t.DashboardArchitectureTabs=(0,s.default)({pathway:null,skill:null,learning:null}),t.SubTitleListKey=(0,s.default)({STATUS:1,TYPE:2,LANGUAGE:3,SKILL:4,DURATION:5,QUESTION:6,TIME:7,ALIGNMENT:8,ASSET:9,PUBLISHER:10,MULTI_TYPE:11,POINT:12,MULTI_TIME:13,VERSION:14,ONLINE:15,MEMBERS:16,GROUP:17}),t.BadgeTypes=(0,s.default)({combo:null,individual:null}),t.MyLearningTabTypes=(0,s.default)({activity:null,inProgress:null,submissions:null,completed:null,saved:null}));t.MyLearningTabTypeList=[_.activity,_.inProgress,_.submissions,_.completed,_.saved],t.HomePagePathwayFeedbackTypes=(0,s.default)({VR:null,programmer:null,artist3D:null,idea:null}),t.BadgeOverlayType=(0,s.default)({pathway:null,mission:null,combo:null}),t.TypeLadingUrl=(o={},r(o,l.tutorial,"tutorials"),r(o,l.project,"projects"),r(o,l.course,"courses"),o),t.RewardTypes=(0,s.default)({badge:null,acclaim:null,asset:null})},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={name:e,depends:[],signals:{fetchUserCard:[function(e){var t=e.props,n=e.state,r=e.http,a=e.controller,o=t.id,s=n.get(["project","userCards",o]),i=n.get(["project","userCardsInProgress"]);if(!s&&!i)return n.set(["project","userCardsInProgress"],!0),r.get("/api/cardFull/u/"+o).then(function(e){var t=e.result;n.set(["project","userCardsInProgress"],!1),a.getSignal("project.addUserCard")(t)},function(){n.set(["project","userCardsInProgress"],!1)})}],addUserCard:[function(e){var t=e.props,r=e.state,a=t.user,o=t.projects,s=n({},a,{projects:o});r.set(["project","userCards",a.id],s)}]},getState:function(){return{userCards:{},userCardsInProgress:!1}}}}).call(t,"views/v2/modules/projectV2/UserStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(){Z&&clearInterval(Z)}function s(e){var t=e.get(["project","projectData"])||{};return ee+"_"+t.id}function i(e){var t=e.get(["project","projectData"])||{};return ee+"_"+t.id+"_"+te}function l(){window.location.href="/admin"}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=a(["project.",""],["project.",""]),d=a(["key"],["key"]),f=a(["value"],["value"]),p=a(["project.mute"],["project.mute"]),g=a(["project.uploadingPreview"],["project.uploadingPreview"]),h=a(["project.hideRecord"],["project.hideRecord"]),m=a(["project.removeWebgl"],["project.removeWebgl"]),v=a(["project.showStopRecord"],["project.showStopRecord"]),_=a(["project.uploadId"],["project.uploadId"]),y=a(["project.time"],["project.time"]),b=a(["project.showWebglToolBar"],["project.showWebglToolBar"]),S=a(["project.enableMobile"],["project.enableMobile"]),w=a(["project.screenshotDialog.updateStatus"],["project.screenshotDialog.updateStatus"]),E=a(["project.screenshotDialog.show"],["project.screenshotDialog.show"]),O=a(["project.screenshotDialog.comment"],["project.screenshotDialog.comment"]),I=a(["project.screenshotDialog.image"],["project.screenshotDialog.image"]),k=a(["project.screenshotDialog.projectId"],["project.screenshotDialog.projectId"]),C=a(["projectId"],["projectId"]),T=a(["project.projectData.changed"],["project.projectData.changed"]),j=a(["changed"],["changed"]),M=a(["project.projectData.description"],["project.projectData.description"]),P=a(["project.projectData.rows"],["project.projectData.rows"]),x=a(["rows"],["rows"]),A=a(["project.projectData.hideReadmore"],["project.projectData.hideReadmore"]),R=a(["project.projectData.readmore"],["project.projectData.readmore"]),D=a(["project.editing"],["project.editing"]),N=a(["project.embed.show"],["project.embed.show"]),L=a(["project.cover.show"],["project.cover.show"]),F=a(["project.share.show"],["project.share.show"]),U=a(["project.getLink.show"],["project.getLink.show"]),K=a(["project.screenshotDialog.preText"],["project.screenshotDialog.preText"]),B=a(["project.screenshotDialog.showEmoji"],["project.screenshotDialog.showEmoji"]),z=a(["project.screenshotDialog.emoji"],["project.screenshotDialog.emoji"]),q=a(["project.comment.showEmoji"],["project.comment.showEmoji"]),V=a(["project.comment.emoji"],["project.comment.emoji"]),H=a(["project.showChallenge"],["project.showChallenge"]),W=a(["project.projectDeleteDialog.updateStatus"],["project.projectDeleteDialog.updateStatus"]),G=a(["project.projectDeleteDialog.open"],["project.projectDeleteDialog.open"]),$=n(9),Y=n(0),J=r(n(7)),Q=r(n(82)),X=["project","webglProcess"],Z=void 0,ee="webgl-screenshot-comment",te="comment";t.default={name:e,depends:[],signals:{initWebglData:[function(e){var t=e.http,n=e.path;return t.get("/api/getRecommendMiniGames").then(n.success).catch(n.error)},{success:[function(e){var t=e.state,n=e.props.result;t.set("project.recommend",n)}],error:[],dummy:[]},function(e){var t=e.state,n=e.http,r=e.path,a=t.get("project.projectData.id");return n.get("/api/webgl/preview?projectId="+a).then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=(e.props.result||{}).previewAttachmentId;n&&t.set("project.webglPKG.webgl.previewAttachmentId",n)}],error:[],dummy:[]}],toggleHottestProject:[function(e){var t=e.props,n=e.http,r=e.path,a=t.itemId,o=t.language,s=t.isAdd,i=void 0===s||s?"/api/hottest/addHottestProject":"/api/hottest/removeHottestProject";return n.post(i,{itemId:a,language:o}).then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=e.props.isAdd,r=void 0===n||n;t.set(["project","isHottest"],r)}],error:[l]}],getWebglProgess:[function(e){var t=e.props,n=e.http,r=e.path,a=t.key;return n.get("/api/webgl/progress",{key:a}).then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=e.props,r=e.controller,a=n.id,s=n.result,i=s.progress,l=s.error,c=s.projectContent,d=t.get("challenge.mgSubmission.challengeId");t.set(X,{progress:i,error:l}),(100===i||l)&&(o(),l?(Q.default.getUpload(a,t)&&Q.default.updateUpload({id:a,err:l,status:J.default.failed},t),r.getSignal("header.showMessage")({message:l}),d&&r.getSignal("challenge.openMgSubmissionDialog")({challengeId:d})):(d&&t.set("challenge.mgSubmission.contentIds",[c.id]),r.getSignal("project.addContent")(u({},c),{immediate:!0}),r.getSignal("project.getWebglPKG")(),Q.default.updateUpload({id:a,contentId:c.id,status:J.default.succeeded},t)))}],error:[]}],startCheckWebglProgressTimer:[function(e){var t=e.props,n=e.controller;Z=setInterval(function(){return n.getSignal("project.getWebglProgess")(u({},t))},1500)}],endCheckWebglProgressTimer:[o],onLogPlaySuccess:[function(e){var t=e.state;if((t.get("project")||{}).projectData){var n=t.get("project.projectData.playCount");t.set("project.projectData.playCount",n+1)}}],setProjectState:[(0,$.set)((0,Y.state)(c,(0,Y.props)(d)),(0,Y.props)(f))],setMute:[(0,$.set)((0,Y.state)(p),(0,Y.props)(f))],setUploadingPreview:[(0,$.set)((0,Y.state)(g),(0,Y.props)(f))],setHideRecord:[(0,$.set)((0,Y.state)(h),(0,Y.props)(f))],setRemoveWebgl:[(0,$.set)((0,Y.state)(m),(0,Y.props)(f))],setShowStopRecord:[(0,$.set)((0,Y.state)(v),(0,Y.props)(f))],setUploadId:[(0,$.set)((0,Y.state)(_),(0,Y.props)(f))],setTime:[(0,$.set)((0,Y.state)(y),(0,Y.props)(f))],setShowWebglToolBar:[(0,$.set)((0,Y.state)(b),(0,Y.props)(f))],setEnableMobile:[(0,$.set)((0,Y.state)(S),(0,Y.props)(f))],openScreenshotDialog:[(0,$.set)((0,Y.state)(w),""),(0,$.set)((0,Y.state)(E),!0),(0,$.set)((0,Y.state)(O),""),(0,$.set)((0,Y.state)(I),(0,Y.props)(f)),(0,$.set)((0,Y.state)(k),(0,Y.props)(C))],closeScreenshotDialog:[(0,$.set)((0,Y.state)(E),!1)],changeScreenshotComment:[(0,$.set)((0,Y.state)(O),(0,Y.props)(f))],submitDescription:[function(e){var t=e.http,n=e.state.get("project.projectData"),r=n.id,a={description:n.description};t.post("/api/p/"+r+"/description",a)}],confirmUnlockedAssets:[function(e){return e.http.post("/api/unlock-asset/confirm")}],setChanged:[(0,$.set)((0,Y.state)(T),(0,Y.props)(j))],changeDescription:[(0,$.set)((0,Y.state)(M),(0,Y.props)(f)),(0,$.set)((0,Y.state)(P),(0,Y.props)(x))],setHideReadmore:[(0,$.set)((0,Y.state)(A),(0,Y.props)(f))],setReadmore:[(0,$.set)((0,Y.state)(R),(0,Y.props)(f))],setEditing:[(0,$.set)((0,Y.state)(D),(0,Y.props)(f))],setEmbed:[(0,$.set)((0,Y.state)(N),(0,Y.props)(f))],hideCover:[(0,$.set)((0,Y.state)(L),!0)],openShare:[(0,$.set)((0,Y.state)(F),!0)],closeShare:[(0,$.set)((0,Y.state)(F),!1)],openGetLink:[(0,$.set)((0,Y.state)(U),!0)],closeGetLink:[(0,$.set)((0,Y.state)(U),!1)],setPreText:[(0,$.set)((0,Y.state)(K),(0,Y.props)(f))],openEmoji:[(0,$.set)((0,Y.state)(B),!0)],closeEmoji:[(0,$.set)((0,Y.state)(B),!1)],changeEmoji:[(0,$.set)((0,Y.state)(z),(0,Y.props)(f))],openCommentEmoji:[(0,$.set)((0,Y.state)(q),!0)],closeCommentEmoji:[(0,$.set)((0,Y.state)(q),!1)],changeCommentEmoji:[(0,$.set)((0,Y.state)(V),(0,Y.props)(f))],hideChallenge:[(0,$.set)((0,Y.state)(H),!1)],storeComment:[function(e){var t=e.state,n=t.get(["project"]).inputValues;if(!t.get("currentUserId")){var r=i(t);localStorage.setItem(r,JSON.stringify({inputValues:n}))}}],postScreenshot:[function(e){var t=e.state,n=e.controller,r=t.get("project.screenshotDialog"),a=r.comment,o=r.emoji,i=r.image,l=r.projectId,u=t.get("project.channelId"),c=t.get("currentUserId");if(!c){var d=s(t);localStorage.setItem(d,JSON.stringify({content:a,emoji:o,attachementContent:i},l))}if(c){var f=t.get(["project","projectData"]),p=f.reactionCount,g=f.reactionsUsed;t.set(["project","projectData","reactionCount"],(p||0)+1),g[o]=(g[o]||0)+1,t.set(["project","projectData","reactionsUsed"],g)}l&&""!==l?n.getSignal("project.createCommentInMultiProject")({content:a,projectId:l,attachementContent:i,cb:"project.closeScreenshotDialog"}):n.getSignal("project.createComment")({content:a,emojiReaction:o,channelId:u,attachementContent:i,cb:"project.closeScreenshotDialog"})}],initWebgl:[function(e){var t=e.state;if(t.get("currentUserId")){var n=s(t),r=localStorage.getItem(n);if(r){var a=JSON.parse(r),o=a.content,l=a.emoji,u=a.attachementContent;o&&u&&t.set(["project","screenshotDialog"],{show:!0,emoji:l,comment:o,image:u}),localStorage.removeItem(n)}var c=i(t),d=localStorage.getItem(c);if(d){var f=JSON.parse(d).inputValues;f&&t.merge(["project","inputValues"],f||{}),localStorage.removeItem(c)}}}],openProjectDeleteDialog:[(0,$.set)((0,Y.state)(W),J.default.initial),(0,$.set)((0,Y.state)(G),!0)],downloadPreview:[function(e){var t=e.state,n=e.http,r=e.path,a=t.get("project.projectData.id");return n.get("/api/admin/webgl/preview?projectId="+a).then(r.success).catch(r.error)},{success:[function(e){var t=e.props.result.url,n=document.getElementById("admin-download");fetch(t).then(function(e){return e.blob()}).then(function(e){var t=window.URL.createObjectURL(e);n.href=t,n.click()})}],error:[l]}],closeProjectDeleteDialog:[(0,$.set)((0,Y.state)(G),!1)],deleteProject:[(0,$.set)((0,Y.state)(W),J.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=t.get("project.projectData.id");if(a)return n.post("/api/p/"+a+"/delete",{reason:"Self Delete"}).then(r.success).catch(r.error);return r.success()},{success:[(0,$.set)((0,Y.state)(W),J.default.succeeded),function(){window.location.href="/discover"}],error:[(0,$.set)((0,Y.state)(W),J.default.failed)]}],(0,$.set)((0,Y.state)(G),!1)]},getState:function(){return{share:{show:!1},getLink:{show:!1},cover:{show:!1},embed:{show:!1},editing:!1,webglProcess:{progress:0,error:""},comment:{emoji:null,showEmoji:!1},changed:!1,showChallenge:!0,showWebglToolBar:!1,time:30,screenshotDialog:{preText:-1,show:!1,showEmoji:!1,image:"",comment:"",emoji:"grinning",updateStatus:"",projectId:""},uploadId:""}}}}).call(t,"views/v2/modules/projectV2/WebglStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[function(e){return e&&e.__esModule?e:{default:e}}(n(467)).default];t.default={suggest:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[function(e){return e&&e.__esModule?e:{default:e}}(n(125)).default];t.default={draft:r}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=-1!==(e=e.toLowerCase()).indexOf("micromessenger");if(t){var n=e.match(/micromessenger\/([0-9]+\.[0-9]+)/);t=n&&n[1]||""}return t}},function(e,t,n){e.exports=n.p+"../styles/i/support-avatar2.a2faf89829d9187c5181885ca00f75b9.png"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["team.basicForm"],["team.basicForm"]),m=i(["team.showBasicForm"],["team.showBasicForm"]),v=i(["team.updateStatus"],["team.updateStatus"]),_=i(["categoryOptions"],["categoryOptions"]),y=i(["teamData"],["teamData"]),b=i(["placeMap"],["placeMap"]),S=i(["team.duplicateError"],["team.duplicateError"]),w=i(["team.redirectInProgress"],["team.redirectInProgress"]),E=i(["header.recaptchaCode"],["header.recaptchaCode"]),O=i(["team.changeWebsiteUrl"],["team.changeWebsiteUrl"]),I=i(["team.changeNameAndClear"],["team.changeNameAndClear"]),k=i(["team.validName"],["team.validName"]),C=i(["team.changeLocation"],["team.changeLocation"]),T=i(["team.changeType"],["team.changeType"]),j=i(["team.changeCategoryId"],["team.changeCategoryId"]),M=i(["team.changeTeamScale"],["team.changeTeamScale"]),P=i(["team.create"],["team.create"]),x=i(["team.closeBasicForm"],["team.closeBasicForm"]),A=r(n(2)),R=r(n(1)),D=r(n(3)),N=n(5),L=n(0),F=r(n(17)),U=r(n(28)),K=r(n(37)),B=r(n(47)),z=r(n(46)),q=r(n(57)),V=n(7),H=r(n(126)),W=r(n(4)),G=r(n(740)),$=r(n(6)),Y=r(n(741)),J=[{from:0,to:1},{from:2,to:5},{from:6,to:10},{from:11,to:20},{from:21,to:50},{from:51,to:100},{from:101,to:500},{from:501,to:1e3},{from:1001,to:5e3},{from:5001,to:null}],Q=(l=(0,N.decorator)({form:(0,L.state)(h),showForm:(0,L.state)(m),updateStatus:(0,L.state)(v),categoryOptions:(0,L.state)(_),teamData:(0,L.state)(y),placeMap:(0,L.state)(b),duplicateError:(0,L.state)(S),redirectInProgress:(0,L.state)(w),recaptchaCode:(0,L.state)(E),changeWebsiteUrl:(0,L.signal)(O),changeNameAndClear:(0,L.signal)(I),validName:(0,L.signal)(k),changeLocation:(0,L.signal)(C),changeType:(0,L.signal)(T),changeCategoryId:(0,L.signal)(j),changeTeamScale:(0,L.signal)(M),create:(0,L.signal)(P),closeForm:(0,L.signal)(x)}),u=(0,W.default)(G.default),c=(0,$.default)(Y.default),l(d=u(d=c((p=f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,D.default),g(t,[{key:"onSave",value:function(){var e=this.props,t=e.create,n=e.duplicateError,r=e.callback,a=void 0===r?"":r;n||t({formPath:["team","basicForm"],callback:a})}},{key:"renderError",value:function(e){return e?R.default.createElement("span",{className:this.ss("error")},e):null}},{key:"renderCreateOnlyFields",value:function(){var e=this,t=this.props,n=t.form,r=t.categoryOptions,a=t.changeCategoryId,o=t.changeTeamScale,s=J.map(function(e,t){return{value:t,text:e.to?e.from+"-"+e.to:e.from+"+"}}),i=J.findIndex(function(e){return e.from===n.scale.value.from&&e.to===n.scale.value.to}),l=r.map(function(t){var n=t.id,r=t.name,a=t.refId;return{value:n,text:e.__(a)||r}});return R.default.createElement("div",{className:this.ss("section")},R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("category"),this.renderError(n.categoryId.isTouched&&this.__(n.categoryId.errorMessage))),R.default.createElement(z.default,{selects:l,hintText:this.__("category_hint"),onChange:function(e,t,n){return a({value:n})},value:n.categoryId.value})),R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("scale"),this.renderError(n.scale.isTouched&&this.__(n.scale.errorMessage))),R.default.createElement(z.default,{selects:s,hintText:this.__("scale_hint"),onChange:function(e,t,n){return o({value:J[n]})},value:i})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.teamData,r=void 0===n?{}:n,a=t.placeMap,o=t.changeWebsiteUrl,s=t.form,i=t.changeNameAndClear,l=t.duplicateError,u=t.changeLocation,c=t.changeType,d=t.updateStatus,f=t.showForm,p=t.closeForm,g=t.redirectInProgress,h=t.recaptchaCode,m=(0,V.isLoading)(d)||g;if(!f)return null;var v=!s.id.value,_=s.websiteUrl.isTouched&&this.__(s.websiteUrl.errorMessage),y=v?s.name.value:r.name,b=["hire","forHire","both"].map(function(t,n){return R.default.createElement("div",{key:"hire_"+(n+1),className:e.ss("option")},R.default.createElement(B.default,{isChecked:s.type.value===t,value:t,theme:"blue",label:e.__(t),hintLabel:e.__("hint_"+t),onCheck:function(e,t){return c({value:t})}}))});return R.default.createElement(U.default,{open:f,title:v?this.__("createCompany"):this.__("editBasic"),onClose:function(){return p()},onSubmit:function(){return e.onSave()},submitDisable:!h,submitInProgress:m,submitStyle:"ok/cancel"},R.default.createElement(F.default,null,R.default.createElement("div",{className:this.ss("form")},R.default.createElement("div",{className:this.ss("section")},R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("companyName"),this.renderError(s.name.isTouched&&this.__(s.name.errorMessage)||l&&this.__("error_duplicate"))),R.default.createElement(K.default,{placeholder:this.__("companyName_hint"),value:y,disabled:!v,onChange:function(e,t){return i({value:t})}}))),v&&this.renderCreateOnlyFields(),R.default.createElement("div",{className:this.ss("section")},R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("location"),this.renderError(s.location.isTouched&&this.__(s.location.errorMessage))),R.default.createElement(q.default,{inputType:"single",st:"place",hintText:this.__("location_hint"),iconName:"icon-location2",onSelected:function(e){var t=e.value;return u({value:t})},onRemove:function(){return u({value:""})},selectedIds:[s.location.value],idToCandidateMap:a,notice:s.location.isTouched&&this.__(s.location.errorMessage)?{type:"failed"}:null})),R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("link"),this.renderError(s.websiteUrl.isTouched&&this.__(s.websiteUrl.errorMessage))),R.default.createElement(K.default,{value:s&&s.websiteUrl.value,onChange:function(e,t){return o({value:t})},placeholder:this.__("link_hint"),iconName:"icon-link",notice:_?{type:"failed"}:null}))),R.default.createElement("div",{className:this.ss("section","company-type")},R.default.createElement("div",{className:this.ss("col")},R.default.createElement("div",{className:this.ss("fieldName")},this.__("companyType"),this.renderError(s.type.isTouched&&this.__(s.type.errorMessage))),R.default.createElement("div",{className:this.ss("options")},b))),R.default.createElement("div",{className:this.ss("section")},R.default.createElement(H.default,null)))))}}]),t}(),f.propTypes={open:A.default.bool,form:A.default.object,showForm:A.default.bool,updateStatus:A.default.string,categoryOptions:A.default.array,teamData:A.default.object,placeMap:A.default.object,duplicateError:A.default.bool,redirectInProgress:A.default.bool,callback:A.default.string,recaptchaCode:A.default.string,changeWebsiteUrl:A.default.func,changeNameAndClear:A.default.func,validName:A.default.func,changeLocation:A.default.func,changeType:A.default.func,changeCategoryId:A.default.func,changeTeamScale:A.default.func,create:A.default.func,closeForm:A.default.func},d=p))||d)||d)||d);t.default=Q},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=r(n(2)),g=r(n(1)),h=r(n(3)),m=r(n(72)),v=r(n(13)),_=r(n(15)),y=n(7),b=r(n(4)),S=r(n(748)),w=r(n(6)),E=r(n(749)),O=n(473),I=(i=(0,b.default)(S.default),l=(0,w.default)(E.default),i(u=l((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={},r.onOK=function(){r.props.onOK&&r.props.onOK()},r.onNO=function(){r.props.onNO&&r.props.onNO()},r.onClose=function(){r.props.onClose&&r.props.onClose()},s=n,o(r,s)}return s(t,h.default),f(t,[{key:"getDialogOptions",value:function(e){var t={confirm:{text:this.__("button_ok"),theme:"thirdly"},cancel:{text:this.__("button_cancel"),theme:""}},n=this.__("title");switch(e){case"tfa":t={confirm:{text:this.__("button_ok"),theme:"red"},cancel:{text:this.__("button_skip"),theme:""}}}return{button:t,title:n,description:""}}},{key:"renderIcon",value:function(){return"tfa"===this.props.theme?g.default.createElement("div",{className:this.ss("icon-wrapper")},g.default.createElement("div",{className:this.ss("tfa-icon")},g.default.createElement(_.default,{src:O,width:100,height:100,sizes:"200px"}))):null}},{key:"renderButtons",value:function(){var e=this.props,t=e.notifyText,n=e.notifyStatus,r=e.theme,a=(0,y.isLoadingOrSucceeded)(n),o=[],s=this.getDialogOptions(r).button,i=s.confirm,l=s.cancel;return o.push(g.default.createElement(v.default,{key:"cancel",disabled:a,className:this.ss("button-cancel"),label:l.text,onClick:this.onNO})),o.push(g.default.createElement(v.default,{key:"ok",loading:a,theme:i.theme,className:this.ss("button-ok"),label:t||i.text,onClick:this.onOK})),o}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.title,r=e.description,a=e.theme,o=this.getDialogOptions(a),s=o.title,i=o.description;return g.default.createElement(m.default,{open:t,position:"center",width:640,title:n||s,onCloseModal:this.onClose},g.default.createElement("div",{className:this.ss("content-wrap",a)},this.renderIcon(),g.default.createElement("div",{className:this.ss("description")},r||i),g.default.createElement("div",{className:this.ss("button-wrap")},this.renderButtons())))}}]),t}(),c.propTypes={open:p.default.bool,title:p.default.string,description:p.default.string,theme:p.default.oneOf(["default","tfa"]),notifyText:p.default.string,notifyStatus:p.default.string,onOK:p.default.func,onNO:p.default.func,onClose:p.default.func},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteProjectBySelfConfirm=t.DeleteSubmissionByAdminConfirm=t.DeleteSubmissionBySelfConfirm=t.default=void 0;var l,u,c,d,f,p,g,h,m,v,_,y,b,S,w,E,O,I,k,C,T,j,M,P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=a(["project.closeDeleteChallengeConfirm"],["project.closeDeleteChallengeConfirm"]),A=a(["project.deleteChallengeConfirmOpen"],["project.deleteChallengeConfirmOpen"]),R=a(["project.deleteChallengeConfirmUpdateStatus"],["project.deleteChallengeConfirmUpdateStatus"]),D=a(["project.deleteFromChallenge"],["project.deleteFromChallenge"]),N=a(["project.projectData.challengeId"],["project.projectData.challengeId"]),L=a(["project.projectData.id"],["project.projectData.id"]),F=a(["challenge.deleteChallengeConfirmUpdateStatus"],["challenge.deleteChallengeConfirmUpdateStatus"]),U=a(["challenge.deleteSubmission"],["challenge.deleteSubmission"]),K=a(["challenge.deleteChallengeConfirmOpen"],["challenge.deleteChallengeConfirmOpen"]),B=a(["challenge.closeDeleteChallengeConfirm"],["challenge.closeDeleteChallengeConfirm"]),z=a(["challenge.deleteProjectFromChallenge"],["challenge.deleteProjectFromChallenge"]),q=a(["project.projectDeleteDialog.open"],["project.projectDeleteDialog.open"]),V=a(["project.projectDeleteDialog.updateStatus"],["project.projectDeleteDialog.updateStatus"]),H=a(["project.closeProjectDeleteDialog"],["project.closeProjectDeleteDialog"]),W=a(["project.deleteProject"],["project.deleteProject"]),G=r(n(2)),$=r(n(1)),Y=r(n(3)),J=n(5),Q=n(0),X=r(n(13)),Z=n(7),ee=r(n(4)),te=r(n(750)),ne=r(n(6)),re=r(n(751)),ae=(l=(0,ee.default)(te.default),u=(0,ne.default)(re.default),l(c=u((f=d=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onConfirm=function(){r.props.onConfirm&&r.props.onConfirm()},r.onClose=function(){r.props.onClose&&r.props.onClose()},a=n,s(r,a)}return i(t,Y.default),P(t,[{key:"renderButtons",value:function(){var e=[],t=this.props,n=t.confirmStatus,r=t.yesLabel,a=t.noLabel,o="button_cancel",s="button_ok";r&&r.length>0&&(s=r),a&&a.length>0&&(o=a);var i=(0,Z.isLoadingOrSucceeded)(n);return e.push($.default.createElement(X.default,{key:"cancel",disabled:i,className:this.ss("button-cancel"),label:this.__(o),onClick:this.onClose})),e.push($.default.createElement(X.default,{key:"ok",theme:"thirdly",className:this.ss("button-ok"),label:this.__(s),loading:i,onClick:this.onConfirm})),e}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.description,r=e.subDes,a=$.default.createElement("div",{className:this.ss("subDes")},r);return $.default.createElement("div",{className:this.ss("backdrop",!t&&"hide")},$.default.createElement("div",{className:this.ss("popup")},$.default.createElement("div",{className:this.ss("description")},n),r&&a,$.default.createElement("div",{className:this.ss("button-wrap")},this.renderButtons())))}}]),t}(),d.propTypes={open:G.default.bool,description:G.default.string,subDes:G.default.string,yesLabel:G.default.string,noLabel:G.default.string,onConfirm:G.default.func,onClose:G.default.func,confirmStatus:G.default.string},c=f))||c)||c);t.default=ae;t.DeleteSubmissionBySelfConfirm=(p=(0,J.decorator)({closeDeleteChallengeConfirm:(0,Q.signal)(x),deleteChallengeConfirmOpen:(0,Q.state)(A),deleteChallengeConfirmUpdateStatus:(0,Q.state)(R),deleteFromChallenge:(0,Q.signal)(D),challengeId:(0,Q.state)(N),projectId:(0,Q.state)(L)}),g=(0,ee.default)(te.default),h=(0,ne.default)(re.default),p(m=g(m=h((_=v=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),P(t,[{key:"render",value:function(){var e=this.props,t=e.deleteChallengeConfirmOpen,n=e.deleteChallengeConfirmUpdateStatus,r=e.closeDeleteChallengeConfirm,a=e.projectId,o=e.challengeId,s=e.deleteFromChallenge;return $.default.createElement(ae,{open:t,description:this.__("delete_submission_by_self_title"),subDes:this.__("delete_submission_by_self_text"),onConfirm:function(){return s({projectId:a,challengeId:o})},confirmStatus:n,onClose:function(){return r()}})}}]),t}(),v.propTypes={deleteFromChallenge:G.default.func,closeDeleteChallengeConfirm:G.default.func,deleteChallengeConfirmOpen:G.default.bool,deleteChallengeConfirmUpdateStatus:G.default.string,challengeId:G.default.string,projectId:G.default.string},m=_))||m)||m)||m),t.DeleteSubmissionByAdminConfirm=(y=(0,J.decorator)({deleteChallengeConfirmUpdateStatus:(0,Q.state)(F),submission:(0,Q.state)(U),deleteChallengeConfirmOpen:(0,Q.state)(K),closeDeleteChallengeConfirm:(0,Q.signal)(B),deleteProjectFromChallenge:(0,Q.signal)(z)}),b=(0,ee.default)(te.default),S=(0,ne.default)(re.default),y(w=b(w=S((O=E=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),P(t,[{key:"render",value:function(){var e=this.props,t=e.deleteProjectFromChallenge,n=e.closeDeleteChallengeConfirm,r=e.deleteChallengeConfirmOpen,a=e.submission,o=e.deleteChallengeConfirmUpdateStatus;return $.default.createElement(ae,{open:r,description:this.__("delete_submission_by_admin_title"),onConfirm:function(){return t({submission:a})},confirmStatus:o,onClose:function(){return n()}})}}]),t}(),E.propTypes={deleteChallengeConfirmOpen:G.default.bool,closeDeleteChallengeConfirm:G.default.func,deleteProjectFromChallenge:G.default.func,deleteChallengeConfirmUpdateStatus:G.default.string,submission:G.default.object},w=O))||w)||w)||w),t.DeleteProjectBySelfConfirm=(I=(0,J.decorator)({deleteProjectConfirmOpen:(0,Q.state)(q),deleteProjectConfirmUpdateStatus:(0,Q.state)(V),closeDeleteProjectConfirm:(0,Q.signal)(H),deleteFromProject:(0,Q.signal)(W)}),k=(0,ee.default)(te.default),C=(0,ne.default)(re.default),I(T=k(T=C((M=j=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),P(t,[{key:"render",value:function(){var e=this.props,t=e.deleteProjectConfirmOpen,n=e.deleteProjectConfirmUpdateStatus,r=e.closeDeleteProjectConfirm,a=e.deleteFromProject;return $.default.createElement(ae,{open:t,description:this.__("delete_project_by_self_title"),subDes:this.__("delete_project_by_self_text"),yesLabel:"button_yes",noLabel:"button_no",onConfirm:function(){return a()},confirmStatus:n,onClose:function(){return r()}})}}]),t}(),j.propTypes={deleteProjectConfirmOpen:G.default.bool,deleteProjectConfirmUpdateStatus:G.default.string,challengeId:G.default.string,closeDeleteProjectConfirm:G.default.func,deleteFromProject:G.default.func},T=M))||T)||T)||T)},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={image_tooltip:"image_tooltip_37hw",video_tooltip:"video_tooltip_1plx",attachment_tooltip:"attachment_tooltip_1xss"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=r(n(1)),h=r(n(3)),m=r(n(788)),v=r(n(2)),_=r(n(791)),y=r(n(131)),b=r(n(794)),S=r(n(4)),w=r(n(796)),E=r(n(6)),O=r(n(797)),I=100,k=5e3,C=(i=(0,S.default)(w.default),l=(0,E.default)(O.default),i(u=l((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={volume:0,isFullScreen:!1,playing:!1,muted:!1,loading:!0,hover:!1,idle:!1,videoInitialized:!1,mseSupported:!1,m3u8Supported:!1,barrageEnabled:!0,duration:0,played:0,loaded:[]},r.onInitialized=function(e){var t=e.volume,n=e.loading,a=e.mseSupported,o=e.m3u8Supported;r.setState({videoInitialized:!0,volume:t,loading:n,mseSupported:a,m3u8Supported:o})},r.onMouseEnter=function(){r.setState({hover:!0,idle:!1})},r.onMouseLeave=function(){r.setState({hover:!1})},r.onMouseMove=function(e){r.clearIdleTimeout();for(var t=e.target,n=!1;t!==r.refs.player;){if(t===r.refs.controls){n=!0;break}t=t.parentNode}n||null!==r.virtualVolume||(r.idleTimeout=setTimeout(function(){r.idleTimeout=null,r.setState({hover:!0,idle:!0})},k)),r.setState({hover:!0,idle:!1})},r.clearIdleTimeout=function(){r.idleTimeout&&(clearTimeout(r.idleTimeout),r.idleTimeout=null)},r.idleTimeout=null,r.virtualVolume=null,r.adjustVolumeEntry=function(){r.virtualVolume=r.state.volume;var e=function(e){var t=e.movementX;r.virtualVolume=r.virtualVolume+t/I,r.refs.video.volume=r.virtualVolume};window.addEventListener("mouseup",function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t),r.virtualVolume=null}),window.addEventListener("mousemove",e)},s=n,o(r,s)}return s(t,h.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearIdleTimeout()}},{key:"onReload",value:function(){var e=this.props.onReload;e&&e()}},{key:"onVolumeBarClicked",value:function(e){var t=e.pageX;this.refs.video.volume=(t-e.target.getBoundingClientRect().left)/I}},{key:"fullScreen",value:function(){var e=this,t=this.refs.player;(t.requestFullscreen||t.requestFullScreen||t.webkitRequestFullscreen||t.mozRequestFullScreen).call(t),this.setState({isFullScreen:!0});var n=function n(){document.fullScreen||document.webkitIsFullScreen||(e.setState({isFullScreen:!1}),t.removeEventListener("fullscreenchange",n),t.removeEventListener("webkitfullscreenchange",n),t.removeEventListener("mozfullscreenchange",n),t.removeEventListener("MSfullscreenchange",n))};t.addEventListener("fullscreenchange",n),t.addEventListener("webkitfullscreenchange",n),t.addEventListener("mozfullscreenchange",n),t.addEventListener("MSfullscreenchange",n)}},{key:"cancelFullScreen",value:function(){if(document.fullScreen||document.webkitIsFullScreen){var e=document.cancelFullScreen||document.cancelFullscreen||document.webkitCancelFullScreen||document.webkitCancalFullscreen||document.mozCancelFullScreen||document.mozCancelFullscreen;e.call(document)}}},{key:"renderVolumeTier",value:function(){var e=this,t=this.state,n=t.volume,r=t.muted,a={width:n*I},o={top:-5,left:I*n-5};return g.default.createElement("div",{className:this.ss("volume-tier")},!r&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_sound","sound-btn"),onClick:function(){return e.refs.video.mute()}}),r&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_mute","mute-btn"),onClick:function(){return e.refs.video.unmute()}}),!r&&g.default.createElement("div",{className:this.ss("volume-bar-wrap"),ref:"volumeBar",onClick:function(t){return e.onVolumeBarClicked(t)}},g.default.createElement("div",{className:this.ss("volume-bar")},g.default.createElement("div",{className:this.ss("volume-bar-value"),style:a}),g.default.createElement("div",{className:this.ss("volume-knob"),style:o,onClick:function(e){return e.stopPropagation()},onMouseDown:this.adjustVolumeEntry}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.size,a=t.width,o=t.height,s=t.directPlay,i=t.barrage,l=t.progress,u=this.state,c=u.isFullScreen,d=u.playing,p=u.loading,h=u.idle,v=u.hover,S=u.videoInitialized,w=u.mseSupported,E=u.m3u8Supported,O=u.barrageEnabled,I=u.played,k=u.duration,C=u.loaded,T=u.showLoading,j=!S||S&&(w||E),M={};"auto"===r&&0!==a&&0!==o&&(M={paddingBottom:100*o/a+"%"});var P={};j&&w||(P.controls="controls");var x=void 0,A=void 0;return i&&(O&&(x=g.default.createElement(_.default,{requestUniqueKey:function(){return i.onRequestUniqueKey()},renderBarrage:i.onRenderBarrage})),A=g.default.createElement("div",{className:this.ss("barrage-ctrl")},g.default.createElement(y.default,{checked:O,onChange:function(){return e.setState({barrageEnabled:!O})},size:"small"}),g.default.createElement("div",{className:this.ss("barrage-ctrl-text")},this.__("barrage")))),l&&(P.onDurationChange=function(t){return e.setState({duration:t})},P.onTimeUpdate=function(t){return e.setState({played:t})},P.onProgress=function(t){return e.setState({loaded:t})}),g.default.createElement("div",{className:this.ss("player",r,c&&"full-screen",v&&"hover",h&&"idle"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,style:M,ref:"player"},x,T&&p&&w&&g.default.createElement("div",{className:this.ss("loading")},g.default.createElement("div",{className:this.ss("loading-circle")},g.default.createElement("div",{className:this.ss("loading-circle-inner")}))),j&&g.default.createElement("div",{className:this.ss("video-wrap",c&&"video-wrap-full-screen")},g.default.createElement(m.default,f({src:n,className:this.ss("video-"+r,c&&"video-full-screen",h&&"video-idle"),directPlay:s,ref:"video",onHardReloadNeeded:function(){return e.onReload()},onInitialized:this.onInitialized,onPlay:function(){return e.setState({playing:!0})},onPause:function(){return e.setState({playing:!1})},onMutedChange:function(t){return e.setState({muted:t})},onVolumeChange:function(){return e.setState({volume:e.refs.video.volume})},onLoadingChange:function(t){return e.setState({loading:t})}},P))),!j&&g.default.createElement("div",{className:this.ss("unsupported")},this.__("player_unsupported")),j&&w&&g.default.createElement("div",{className:this.ss("controls"),ref:"controls"},l&&g.default.createElement(b.default,{played:I,duration:k,loaded:C,seekable:this.refs.video.seekable,onChange:function(t){return e.refs.video.seekTo(t)}}),g.default.createElement("div",{className:this.ss("controls-left")},!d&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_play","play-btn"),onClick:function(){return e.refs.video.play()}}),d&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_pause","pause-btn"),onClick:function(){return e.refs.video.pause()}}),!s&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_refresh","refresh-btn"),onClick:function(){return e.onReload()}}),this.renderVolumeTier()),g.default.createElement("div",{className:this.ss("controls-right")},A,!c&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_expand","fullscreen-btn"),onClick:function(){return e.fullScreen()}}),c&&g.default.createElement("div",{className:this.ss("ifont","ifont-icons_contract","cancel-fullscreen-btn"),onClick:function(){return e.cancelFullScreen()}}))))}}]),t}(),c.propTypes={src:v.default.string,width:v.default.number,height:v.default.number,size:v.default.oneOf(["auto","small"]),directPlay:v.default.bool.isRequired,progress:v.default.bool,showLoading:v.default.bool,onReload:v.default.func,barrage:v.default.shape({onRenderBarrage:v.default.func,onRequestUniqueKey:v.default.func})},c.defaultProps={size:"auto",showLoading:!0},u=d))||u)||u);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["currentUrl"],["currentUrl"]),m=i(["loginUser"],["loginUser"]),v=i(["countryByIp"],["countryByIp"]),_=i(["header.setting.windowWidth"],["header.setting.windowWidth"]),y=i(["project.contentMap"],["project.contentMap"]),b=i(["draft.editorStates.",""],["draft.editorStates.",""]),S=i(["editorKey"],["editorKey"]),w=i(["project.showVideoVisibilityEditor"],["project.showVideoVisibilityEditor"]),E=i(["header.loginTo"],["header.loginTo"]),O=r(n(1)),I=r(n(2)),k=r(n(3)),C=n(5),T=n(0),j=r(n(87)),M=r(n(15)),P=r(n(215)),x=n(123),A=n(11),R=r(n(44)),D=r(n(4)),N=r(n(800)),L=r(n(6)),F=r(n(801)),U=(l=(0,C.decorator)({currentUrl:(0,T.state)(h),loginUser:(0,T.state)(m),countryByIp:(0,T.state)(v),windowWidth:(0,T.state)(_),contentMap:(0,T.state)(y),editorState:(0,T.state)(b,(0,T.props)(S)),showVideoVisibilityEditor:(0,T.signal)(w),loginTo:(0,T.signal)(E)}),u=(0,D.default)(N.default),c=(0,L.default)(F.default),l(d=u(d=c((p=f=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.receiveMessage=function(e){var t=e.data;if(t){var n=t.source,a=t.type,o=t.id;if("video-player"===n){var s=r.props,i=s.editorState,l=s.entityKey;if(o===s.contentMap[i.getCurrentContent().getEntity(l).getData().contentId].attachmentId&&"login"===a){var u=r.props,c=u.currentUrl;(0,u.loginTo)({url:c||"/"})}}}},s=n,o(r,s)}return s(t,k.default),g(t,[{key:"onThumbClick",value:function(e){(0,R.default)(e)}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessage)}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,n=e.offsetKey,r=e.editorKey,a=e.entityKey,o=e.renderOnly;return O.default.createElement(j.default,{parentEditorKey:r,parentIsFocused:t,parentOffsetKey:n,editorKey:r+":"+n,entityKey:a,renderOnly:o,placeholder:this.__("video_caption_placeholder")})}},{key:"renderEmbed",value:function(e,t){var n=this.props,r=n.isFocused,a=n.focus,o=n.onDragStart,s=n.renderOnly;return O.default.createElement("div",{className:this.ss("video-wrap",r&&"focus")},O.default.createElement("div",{style:{paddingBottom:e+"%"}}),!s&&O.default.createElement("div",{className:this.ss("mark-wrap"),onClick:a,draggable:!!o,onDragStart:o}),O.default.createElement("div",{className:this.ss("iframe-wrap"),dangerouslySetInnerHTML:{__html:t}}))}},{key:"renderAssetStore",value:function(e){if(!e)return null;var t=this.props,n=t.isFocused,r=t.focus,a=t.onDragStart,o=t.renderOnly,s=t.windowWidth,i=e.originalImage,l=i.url,u=i.width,c=i.height,d=i.gif,f=u<(s?Math.min(s,1e3):1e3)?{width:u,height:c,margin:"0 auto",display:"block"}:{};return O.default.createElement("div",{className:this.ss("image-wrap")},O.default.createElement("div",{className:this.ss("image",n&&"focus"),style:f,onClick:r,draggable:!!a,onDragStart:a},O.default.createElement(M.default,{src:l,sizes:"1000px",width:u,height:c,gif:!!d}),O.default.createElement(P.default,{contentId:e.id,renderOnly:o})))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var n=this.props,r=n.isFocused,a=n.focus,o=n.onDragStart,s=n.renderOnly,i=n.windowWidth,l=e.thumbnail,u=l.url,c=l.width,d=l.height,f=c<(i?Math.min(i,1e3):1e3)?{width:c,height:d,margin:"0 auto",display:"block"}:{};return O.default.createElement("div",{className:this.ss("image-wrap","content")},O.default.createElement("div",{className:this.ss("image",r&&"focus"),style:f,onClick:s?function(){return t.onThumbClick(e.url)}:a,draggable:!!o,onDragStart:o},O.default.createElement(M.default,{src:u,sizes:"1000px",width:c,height:d}),O.default.createElement("div",{className:this.ss("video-icon-wrap")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")}))))}},{key:"renderEditVisibilityIcon",value:function(){var e=this.props,t=e.loginUser,n=e.isFocused,r=e.showVideoVisibilityEditor,a=e.contentMap,o=e.editorState,s=e.entityKey;if(n&&t&&t.email&&t.email.endsWith("@unity3d.com")){var i=a[o.getCurrentContent().getEntity(s).getData().contentId].attachmentId;if(i)return O.default.createElement("div",{className:this.ss("visibility-setting"),onClick:function(){return r({attachmentId:i})}},O.default.createElement("div",{className:this.ss("ifont","ifont-settings","setting-icon")}),O.default.createElement("div",{className:this.ss("visibility-setting-text")},this.__("visibility_setting")))}return null}},{key:"render",value:function(){var e=this.props,t=e.countryByIp,n=e.editorState,r=e.entityKey,a=e.contentMap,o=e.renderOnly,s=a[n.getCurrentContent().getEntity(r).getData().contentId],i=void 0;if(s.oembed)if("CN"!==t||!s.oembed||"YouTube"!==s.oembed.provider_name&&"Vimeo"!==s.oembed.provider_name){var l=s.oembed,u=l.html,c=l.height,d=l.width,f=d?Math.round(100*c/d):1;i=this.renderEmbed(f,(0,x.normalizeHtml)({html:u}))}else i=this.renderEmbedThumbnail(s);else if(s&&"webgl"===s.type){var p='<iframe width="100%" height="100%" src="'+(0,A.securedURL)(s.url)+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>';i=this.renderEmbed(66,p)}else s&&"img"===s.type&&(i=this.renderAssetStore(s));return O.default.createElement("div",{className:this.ss("video-container",o&&"render-only")},i,O.default.createElement("div",{className:this.ss("edit-row")},this.renderCaption(s),this.renderEditVisibilityIcon()))}}]),t}(),f.propTypes={currentUrl:I.default.string,loginUser:I.default.object,windowWidth:I.default.number,isFocused:I.default.bool,entityKey:I.default.string,renderOnly:I.default.bool,offsetKey:I.default.string,contentMap:I.default.object,editorKey:I.default.string.isRequired,editorState:I.default.object,countryByIp:I.default.string,focus:I.default.func,onDragStart:I.default.func,showVideoVisibilityEditor:I.default.func,loginTo:I.default.func},d=p))||d)||d)||d);t.default=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){return e&&e.endsWith(".00")?e.slice(0,e.length-3):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=i(["project.contentMap"],["project.contentMap"]),v=i(["project.locale"],["project.locale"]),_=r(n(1)),y=r(n(2)),b=r(n(3)),S=n(5),w=n(0),E=r(n(13)),O=n(11),I=r(n(4)),k=r(n(798)),C=r(n(6)),T=r(n(799)),j=(u=(0,S.decorator)({contentMap:(0,w.state)(m),locale:(0,w.state)(v)}),c=(0,I.default)(k.default),d=(0,C.default)(T.default),u(f=c(f=d((g=p=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={},s=n,o(r,s)}return s(t,b.default),h(t,[{key:"renderPriceNode",value:function(e){var t=[],n=e&&e.package||{},r=n.originalPrice,a=n.finalPrice,o=n.isFree,s=n.isOnSale;return o?t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},this.__("asset_free"))):(r!==a&&t.push(_.default.createElement("div",{key:"origin",className:this.ss("asset-price-origin")},r&&this.__("asset_price",{price:l(r)}))),t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},a&&this.__("asset_price",{price:l(a)})))),s&&t.push(_.default.createElement("div",{key:"onsale",className:this.ss("asset-sale")},_.default.createElement("div",{className:this.ss("asset-sale-icon","ifont","ifont-icons-on-sale")}),_.default.createElement("div",{className:this.ss("asset-sale-text")},this.__("tag_sale")))),t}},{key:"render",value:function(){var e=this.props,t=e.contentId,n=e.contentMap,r=e.locale,a=e.theme,o=e.renderOnly,s=t&&n&&n[t],i=s||{},l=i.externalRef,u=i.externalType,c=i.url;if(!(l&&"asset_store"===u))return null;var d=s&&s.package||{},f=d.name,p=d.publisherName,g=this.renderPriceNode(s),h=c||(0,O.buildAssetStorePackageUrl)(l,r);return _.default.createElement("div",{className:this.ss("asset-wrap",a),onClick:o?function(e){return e.stopPropagation()}:void 0},_.default.createElement("div",{className:this.ss("asset-info")},_.default.createElement("div",{className:this.ss("asset-publisher")},p),_.default.createElement("div",{className:this.ss("asset-name")},f),_.default.createElement("div",{className:this.ss("asset-price-wrap")},g)),_.default.createElement("div",{className:this.ss("asset-button"),onClick:o?void 0:function(e){return e.stopPropagation()}},_.default.createElement(E.default,{theme:"pink",size:"medium",href:h,target:"_blank",label:this.__("button_buy")})))}}]),t}(),p.propTypes={renderOnly:y.default.bool,contentId:y.default.string,contentMap:y.default.object,locale:y.default.string,theme:y.default.oneOf(["normal","gallery"])},p.defaultProps={theme:"normal"},f=g))||f)||f)||f);t.default=j},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=i(["draft.editorStates.",""],["draft.editorStates.",""]),v=i(["editorKey"],["editorKey"]),_=i(["draft.setEditorState"],["draft.setEditorState"]),y=r(n(1)),b=r(n(2)),S=r(n(3)),w=r(n(12)),E=n(5),O=n(0),I=n(10),k=r(n(4)),C=r(n(850)),T=r(n(58)),j=r(n(59)),M=r(n(30)),P=r(n(60)),x=r(n(61)),A=r(n(62)),R=r(n(63)),D=r(n(48)),N=r(n(64)),L=r(n(66)),F=r(n(483)),U=r(n(857)),K=r(n(29)),B=(l=(0,E.decorator)({editorState:(0,O.state)(m,(0,O.props)(v)),setEditorState:(0,O.signal)(_)}),u=(0,k.default)(C.default),l(c=u((f=d=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));p.call(r);var s={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,allowImage:!1,allowVideo:!1,allowAttachment:!1,theme:e.theme};r.codeBlockPlugin=(0,T.default)(s),r.blockBreakoutPlugin=(0,P.default)(s),r.richTextPlugin=(0,j.default)(s),r.navigationPlugin=(0,K.default)(s),r.sideToolbarPlugin=(0,x.default)(s),r.inlineToolbarPlugin=(0,A.default)(s),r.mentionToolbarPlugin=(0,D.default)(s),r.alignmentToolbarPlugin=(0,R.default)(s),r.dragDropPlugin=(0,N.default)(s),r.atomicPlugin=(0,L.default)(s);var i=(0,I.composeDecorators)(r.alignmentToolbarPlugin.decorator,r.dragDropPlugin.decorator,r.atomicPlugin.decorator),l=g({},s,{decorator:i});return r.webglGalleryPlugin=(0,F.default)(l),r.normalizePlugin=(0,U.default)(s),r.autoSavePlugin=(0,M.default)(s),r.draftPlugins=[r.webglGalleryPlugin,r.atomicPlugin,r.dragDropPlugin,r.normalizePlugin,r.autoSavePlugin],r}return s(t,S.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.defaultEditorState,r=e.defaultEditable,a=e.renderOnly,o=this.dragDropPlugin,s=this.webglGalleryPlugin;return y.default.createElement("div",{className:this.ss("body-wrap",a&&"render-only"),onClick:a?void 0:this.focus},y.default.createElement(o.EditorWrapper,null,y.default.createElement(I.Editor,{editorKey:t,defaultEditorState:n,defaultEditable:r,renderOnly:a,plugins:this.draftPlugins}),y.default.createElement(s.UploadVideoDialog,null)))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,prevEditorKey:b.default.string,placeholder:b.default.string,defaultEditorState:b.default.object,defaultEditable:b.default.bool,renderOnly:b.default.bool,theme:b.default.oneOf(["normal","popup"]),editorState:b.default.object,setEditorState:b.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},p=function(){var e=this;this.focus=function(t){var n=e.props,r=n.editorKey,a=n.editorState,o=n.setEditorState;w.default.findDOMNode(e)===t.target&&o({editorKey:r,editorState:(0,I.moveToLastBlock)(a)})}},c=f))||c)||c);t.default=B},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(42));t.default=function(e){var t=e||{},n=t.startTime,a=t.textNow,o=t.textMin,s=t.textMins,i=t.textHour,l=t.textHours,u=t.textYesterday,c=new Date-new Date(n);c=Math.abs(c);var d=Math.floor(c/864e5);if(d>0)return 1===d?u:(0,r.default)(n).format("ll");var f=c%864e5,p=Math.floor(f/36e5);if(p>0)return 1===p?""+p+i:""+p+l;var g=f%36e5,h=Math.floor(g/6e4);return h>0?1===h?""+h+o:""+h+s:a}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(8)(136)},function(e,t,n){e.exports=n(8)(56)},function(e,t,n){"use strict";e.exports=[n(440)]},function(e,t,n){"use strict";var r=n(151),a=n(38);e.exports=function(e){var t=e.props,n=e.state,o=a(t.fieldPath).slice(),s=o.pop(),i=n.get(o),l=Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},{});l[s]=r(l,t.fieldDetails),n.set(o,l)}},function(e,t,n){"use strict";function r(e){if("string"==typeof e){var t=e.split(/:(.+)?/);return t[1]?{key:t[0],params:JSON.parse(t[1])}:{key:e}}return{key:e}}var a=n(120);e.exports=function(e,t,n){return n.reduce(function(n,o){if(!n)return!1;var s=r(o);return a[s.key](t,e,s.params)},!0)}},function(e,t,n){"use strict";e.exports=[n(549)]},function(e,t,n){"use strict";e.exports=[n(550),n(551),n(552),n(553),n(554),{yes:[n(445)],no:[]}]},function(e,t,n){"use strict";e.exports=function(e){return e.isRequired&&!e.hasValue}},function(e,t,n){"use strict";var r=n(152),a=n(555),o=n(38);e.exports=function(e){var t=e.props,n=e.state,s=function(e,t,a){var o=t[a],s=r(t,o.value,o.validations);n.merge(e.concat(a),{isValid:s.isValid,errorMessage:s.isValid?null:o.errorMessages[s.failedRuleIndex]})},i=o(t.field),l=i.slice(),u=l.pop(),c=n.get(l),d=c[u];if(s(l,c,u),Array.isArray(d.dependents)&&d.dependents.length&&(console.warn("DEPRECATED: Use new field.dependsOn API instead"),d.dependents.forEach(function(e){if(Array.isArray(e)&&e.length){var r=a(i,e),o=r.pop(),l=n.get(r);s(r,l,o)}else console.warn("cerebral-module-forms: dependent path expected to be Array. Check out dependents provided for "+t.field+".")})),Array.isArray(d.dependsOn))d.dependsOn.forEach(function(e){var t=e.split("."),r=t.pop(),a=n.get(t);if(!a)throw new Error('The path "'+t.join(".")+'" used with "dependsOn" on field "'+u+'" is not correct, please check it');s(t,a,r)});else if(d.dependsOn){var f=(l=d.dependsOn.split(".")).pop();if(!(c=n.get(l)))throw new Error('The path "'+l.join(".")+'" used with "dependsOn" on field "'+u+'" is not correct, please check it');s(l,c,f)}}},function(e,t,n){"use strict";var r=n(151);e.exports=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=r(e,e[n]),t},{})}},function(e,t,n){"use strict";e.exports=[n(560)]},function(e,t,n){"use strict";e.exports=[n(561)]},function(e,t,n){"use strict";var r=function e(t,n){return Object.keys(t).reduce(function(r,o){return!!r&&(Array.isArray(t[o])?a(t[o],n):"value"in t[o]?n(t[o]):e(t[o],n))},!0)},a=function(e,t){return e.reduce(function(e,n){return!!e&&r(n,t)},!0)};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(576));r.default.registerLanguage("javascript",n(577)),r.default.registerLanguage("java",n(578)),r.default.registerLanguage("python",n(579)),r.default.registerLanguage("css",n(580)),r.default.registerLanguage("php",n(581)),r.default.registerLanguage("ruby",n(582)),r.default.registerLanguage("cpp",n(583)),r.default.registerLanguage("sql",n(584)),r.default.registerLanguage("json",n(585)),r.default.registerLanguage("xml",n(586)),r.default.registerLanguage("bash",n(587)),r.default.registerLanguage("cs",n(588)),r.default.registerLanguage("go",n(589)),r.default.registerLanguage("objectivec",n(590)),r.default.registerLanguage("swift",n(591)),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.getPipe=function(e){return r[e]||{}},t.registerPipe=function(e,t){r[e]||(r[e]={});for(var n=1;r[e][n];)n++;return r[e][n]=t,n},t.withdrawPipe=function(e,t){delete r[e][t]}},function(e,t,n){e.exports=n(8)(80)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r(this,e),this.min=t,this.max=null!==n?n:10*t,this.jitter=a,this._current=t,this._timeoutId=null,this._fails=0}return a(e,[{key:"succeed",value:function(){this.cancel(),this._fails=0,this._current=this.min}},{key:"fail",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._fails+=1;var n=2*this._current;if(this.jitter&&(n*=Math.random()),this._current=Math.min(this._current+n,this.max),null!==t){if(null!==this._timeoutId)throw new Error("callback already pending");this._timeoutId=setTimeout(function(){try{t()}finally{e._timeoutId=null}},this._current)}return this._current}},{key:"cancel",value:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)}},{key:"fails",get:function(){return this._fails}},{key:"current",get:function(){return this._current}},{key:"pending",get:function(){return null!==this._timeoutId}}]),e}();t.default=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","pendingQuoteMessages"];t.default={name:e,depends:[],signals:{setPendingQuote:[function(e){var t=e.props,r=e.state,a=t.message,o=t.liveChannelId;r.set([].concat(n,[o]),a)}],unsetPendingQuote:[function(e){var t=e.props,r=e.state,a=t.liveChannelId;r.unset([].concat(n,[a]))}]},getState:function(){return{pendingQuoteMessages:{}}},getPendingQuoteMessage:function(e,t){return e.get([].concat(n,[t]))}}}).call(t,"views/v2/modules/messages/PendingQuoteStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){return{id:e.id,userId:e.user.id,role:e.role}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(["messages.fetchWorkspaceMemberStatus.",""],["messages.fetchWorkspaceMemberStatus.",""]),s=r(["workspaceId"],["workspaceId"]),i=n(0),l=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),c=["messages","workspaceMembers"];t.default={name:e,depends:[],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r={};t.userWorkspaceMembers.forEach(function(e){var t={};t[e.user.id]=a(e),r[e.workspaceId]=t}),n.set(c,r)}],workspaceMemberAdd:[function(e){var t=e.props,n=e.state,r=[].concat(c,[t.workspaceId,t.user.id]);n.set(r,a(t))}],workspaceMemberRemove:[function(e){var t=e.props,n=e.state,r=[].concat(c,[t.workspaceId,t.user.id]);n.unset(r)}],syncWorkspaceMembers:[function(e){var t=e.props,n=e.state,r=t.result,o=t.status,s=t.workspaceId;if(200===o&&r){var i={};r.forEach(function(e){i[e.user.id]=a(e)}),n.set([].concat(c,[s]),i)}}],fetchWorkspaceMember:[(0,l.set)((0,i.state)(o,(0,i.props)(s)),u.default.inProgress),function(e){var t=e.props,n=e.path,r=e.http,a=t.workspaceId;return r.get("/api/workspaces/"+a+"/members").then(n.success).catch(n.error)},{success:[function(e){var t=e.controller,n=e.props;t.getSignal("messages.syncWorkspaceMembers")(n)},(0,l.set)((0,i.state)(o,(0,i.props)(s)),u.default.succeeded)],error:[(0,l.set)((0,i.state)(o,(0,i.props)(s)),u.default.failed)]}],workspaceSelect:[function(e){var t=e.props,n=e.controller,r=t.workspaceId;n.getSignal("messages.fetchWorkspaceMember")({workspaceId:r})}]},getState:function(){return{workspaceMembers:{}}},getMembers:function(e,t){return e.get([].concat(c,[t]))},getMember:function(e,t,n){return e.get([].concat(c,[t,n]))}}}).call(t,"views/v2/modules/messages/WorkspaceMemberStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(39)),a=n(155),o=["messages","audioInput"],s=null,i=!1;t.default={name:e,depends:[],signals:{onAudioInputEnabled:[function(e){var t=e.props,n=e.messages,i=e.controller;e.state.merge(o,{enabled:!0,mute:!1}),r.default.set("audioInput",{enabled:!0,mute:!1});var l=n.voiceConn.currentConn;l&&i.getSignal("messages.updateCall")({channelId:l.channelId,selfMute:!1}),l&&s.stream&&l.setStream(s.stream),s.onSpeaking=function(e){var t=n.voiceConn.currentConn;t&&i.getSignal("messages.updateCall")({channelId:t.channelId,isSpeaking:e})},t.explict&&(0,a.playSound)("Unmute",.4)}],enableAudioInput:[function(e){var t=e.controller;t.getSignal("messages.showDeviceTip")(),s.enable(function(e){if(t.getSignal("messages.hideDeviceTip")(),e){var n=e.name;"PermissionDeniedError"===n||"NotAllowedError"===n?t.getSignal("messages.showDeniedTip")():console.log("failed to enable audioInput: ",e)}else t.getSignal("messages.onAudioInputEnabled")({explict:!0})})}],toggleSelfMute:[function(e){var t=e.messages,n=e.state,i=e.controller,l=n.get(o);if(l.enabled){s.mute=!l.mute,n.merge(o,{mute:s.mute});var u=r.default.get("audioInput");u&&(u.mute=s.mute,r.default.set("audioInput",u));var c=t.voiceConn.currentConn;c&&i.getSignal("messages.updateCall")({channelId:c.channelId,selfMute:s.mute}),s.mute?(0,a.playSound)("Mute",.4):(0,a.playSound)("Unmute",.4)}else i.getSignal("messages.enableAudioInput")()}],showDeviceTip:[function(e){e.state.set(["messages","audioInput","deviceTip"],!0)}],hideDeviceTip:[function(e){e.state.set(["messages","audioInput","deviceTip"],!1)}],showDeniedTip:[function(e){e.state.set(["messages","audioInput","deniedTip"],!0)}],hideDeniedTip:[function(e){e.state.set(["messages","audioInput","deniedTip"],!1)}],createCall:[function(e){var t=e.controller;if(!i){i=!0;var n=r.default.get("audioInput")||{enabled:!1,mute:!0};n.enabled&&!n.mute&&s.enable(function(e){e?r.default.remove("audioInput"):t.getSignal("messages.onAudioInputEnabled")()})}}]},getServices:function(){if(!s){var e=n(457).default;s=new e}return{audioInput:{currentInput:s}}},getState:function(){return{audioInput:{enabled:!1,mute:!0,deviceTip:!1,deniedTip:!1}}},selfMute:function(e){return e.get([].concat(o,["mute"]))}}}).call(t,"views/v2/modules/messages/AudioInputStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=r(n(613)),i=r(n(45));window.AudioContext=window.AudioContext||window.webkitAudioContext||navigator.mozAudioContext,void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise(function(n,r){t.call(navigator,e,n,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});var l=function(){function e(){a(this,e),this.logger=i.default.create("AudioInput"),this.context=null,this.voiceActivityDector=null,this._mute=!1,this.stream=null,this.speaking=!1,this.onSpeaking=null,this.onVoiceActivity=null}return o(e,[{key:"enable",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[{googEchoCancellation:!0},{googEchoCancellation2:!0},{googNoiseSuppression:!0},{googNoiseSuppression2:!0},{googAutoGainControl:!0},{googAutoGainControl2:!0},{googHighpassFilter:!0},{googTypingNoiseDetection:!0}];this.disable(),navigator.mediaDevices.getUserMedia({audio:{optional:r}}).then(function(r){if(t.disable(),t.stream=r,t._updateAudioTracks(),n){if(!t.context)try{t.context=new AudioContext}catch(e){console.warn("failed to create AudioContext",e)}t.context&&(t.voiceActivityDector=new s.default(t.context,t.stream),t.voiceActivityDector.onProcess=function(e,n){t._mute||t._setSpeaking(e),t.onVoiceActivity&&t.onVoiceActivity(n)})}e&&e(null,r)}).catch(function(t){e&&e(t)})}},{key:"disable",value:function(){if(this.voiceActivityDector&&(this.voiceActivityDector.stop(),this.voiceActivityDector=null),this.context&&this.context.close&&(this.context.close(),this.context=null),this.stream){for(var e=this.stream.getAudioTracks(),t=0,n=e.length;t<n;t++)e[t].stop();this.stream=null}this._setSpeaking(!1)}},{key:"_setSpeaking",value:function(e){this.speaking!==e&&(this.speaking=e,this.onSpeaking&&this.onSpeaking(e))}},{key:"_updateAudioTracks",value:function(){if(this.stream)for(var e=this.stream.getAudioTracks(),t=0,n=e.length;t<n;t++)e[t].enabled=!this._mute}},{key:"mute",get:function(){return this._mute},set:function(e){this._mute=e,this._updateAudioTracks(),this._setSpeaking(!1)}}]),e}();t.default=l},function(e,t,n){"use strict";(function(e){function n(e){var t={},n=e.channelJobInfo.teamMembers;return n&&n.forEach(function(e){t[e.id]={id:e.id,username:e.username,fullname:e.fullname,avatar:e.avatar,title:e.title,presenceStatus:e.presenceStatus}}),t}Object.defineProperty(t,"__esModule",{value:!0});var r=["messages","teamMembers"];t.default={name:e,depends:[],signals:{connectionOpen:[function(e){var t=e.props,a=e.state,o={};t.privateChannels.forEach(function(e){if(e.proposalId){var t=n(e);o[e.channelJobInfo.id]=t}}),a.set(r,o)}],channelCreate:[function(e){var t=e.props,a=e.state;"private"===t.type&&t.proposalId&&t.channelJobInfo&&a.set([].concat(r,[t.channelJobInfo.id]),n(t))}]},getState:function(){return{teamMembers:{}}},getJobTeamMembers:function(e,t){return e.get([].concat(r,[t]))}}}).call(t,"views/v2/modules/messages/TeamMemberStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=6e5;t.default={name:e,depends:[],signals:{idle:[function(e){var t=e.props,n=e.state,r=e.messages,a=t.idle,o=t.idleSince;n.merge("messages",{idle:a,idleSince:o}),r.socket.statusUpdate(o)}]},getServices:function(e){function t(){Date.now()-r>n?a||(a=!0,e.getSignal("messages.idle")({idle:!0,idleSince:r})):a&&(a=!1,e.getSignal("messages.idle")({idle:!1,idleSince:null}))}var r=Date.now(),a=!1;setInterval(t,.25*n),["mousemove","keydown","mousedown","touchstart"].forEach(function(e){window.addEventListener(e,function(){r=Date.now(),t()})})},getState:function(){return{idle:!1,idleSince:null}},isIdle:function(e){return e.get("messages.idle")}}}).call(t,"views/v2/modules/messages/IdleStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n={channelId:t,lastMessageId:t,ackMessageId:t,lastMentionId:t,oldestUnreadMessageId:"",oldestUnreadMessageIdStale:!1,estimated:!1,mentionCount:0,unreadCount:0},r=d.default.getChannel(e,t);if(r&&(n.lastMessageId=r.lastMessageId,n.workspaceId=r.workspaceId,"direct"!==r.type)){var a=p.default.getCurrentUserId(e),o=f.default.getMember(e,t,a);o&&(n.ackMessageId=o.id,n.lastMentionId=o.id)}return n}function s(e){var t=e.state,n=g.default.getChannelId(t);n&&c.default.isAtBottom(t,n)&&u.default.isFocused(t)&&!m.default.isIdle(t)&&b.get(t,n).tryToAck()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(158)),c=r(n(121)),d=r(n(32)),f=r(n(41)),p=r(n(27)),g=r(n(35)),h=r(n(33)),m=r(n(459)),v=r(n(115)),_=r(n(22)),y=["messages","readState"],b=function(){function e(t,n){a(this,e),this.state=t,this.channelId=n,this.key=[].concat(y,[n])}return l(e,null,[{key:"get",value:function(t,n){var r=[].concat(y,[n]);return t.get(r)||t.set(r,o(t,n)),new e(t,n)}},{key:"clear",value:function(e,t){var n=[].concat(y,[t]);e.unset(n)}}]),l(e,[{key:"mergeChannel",value:function(e){var t=this.state.get(this.key);t.lastMessageId<e.lastMessageId&&((t=_.default.clone(t)).lastMessageId=e.lastMessageId,this.state.set(this.key,t))}},{key:"handleIncomingMessage",value:function(e){var t=this.state.get(this.key);(t=_.default.clone(t)).lastMessageId<e.id&&(t.lastMessageId=e.id);var n=p.default.getCurrentUserId(this.state),r=this.state.get("messages.channels."+e.channelId);if(r&&"ticket"===r.type){var a=this.state.get("messages.selectedWorkspaceId"),o=this.state.get("messages.workspaces."+a),s=this.state.get("loginUser.id"),i=this.state.get("support.tickets.entities."+r.ticketId+".data.assignee");o.residentId!==s&&i!==s||(n=o.botId)}if(e.author.id===n)return t.lastMentionId<e.id&&(t.lastMentionId=e.id),this.state.set(this.key,t),void this.localAck({lastMessageId:e.id,mentionCount:0});e.author.id!==n&&e.id>t.ackMessageId&&(t.unreadCount++,e.mentions&&0!==e.mentions.length?e.mentions.forEach(function(r){r.id===n&&(t.mentionCount++,e.id>t.lastMentionId&&(t.lastMentionId=e.id))}):e.mentionEveryone&&(t.mentionCount++,e.id>t.lastMentionId&&(t.lastMentionId=e.id)));var l=h.default.getMessages(this.state,this.channelId);l&&(l.messagesList.includes(t.oldestUnreadMessageId)||(t.oldestUnreadMessageId="",t.oldestUnreadMessageIdStale=!1)),t.oldestUnreadMessageId&&!t.oldestUnreadMessageIdStale||(t.oldestUnreadMessageId=e.id,t.oldestUnreadMessageIdStale=!1),this.state.set(this.key,t)}},{key:"handleUnfocus",value:function(){var e=this.state.get(this.key);e.oldestUnreadMessageId&&!e.oldestUnreadMessageIdStale&&(e.ackMessageId<e.lastMessageId||((e=_.default.clone(e)).oldestUnreadMessageIdStale=!0,this.state.set(this.key,e)))}},{key:"tryToAck",value:function(){var e=h.default.getMessages(this.state,this.channelId);e&&e.ready&&!e.hasMoreNew&&this.ack()}},{key:"ack",value:function(){var e=this.state.get(this.key);e.ackMessageId<e.lastMessageId&&((e=_.default.clone(e)).ackMessageId=e.lastMessageId,e.mentionCount=0,e.estimated=!1,e.unreadCount=0,this.state.set(this.key,e),v.default.post("/api/messages/"+e.ackMessageId+"/ack"))}},{key:"localAck",value:function(e){var t=this.state.get(this.key);(t.ackMessageId<e.lastMessageId||t.ackMessageId===e.lastMessageId&&t.mentionCount!==e.mentionCount)&&((t=_.default.clone(t)).ackMessageId=e.lastMessageId,t.mentionCount=e.mentionCount,this._rebuild(t),this.state.set(this.key,t))}},{key:"_rebuild",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).resetOldestUnreadMessageId;void 0!==t&&t&&(e.oldestUnreadMessageId="",e.oldestUnreadMessageIdStale=!1),e.estimated=!1,e.unreadCount=0;var n=p.default.getCurrentUserId(this.state),r=h.default.getMessages(this.state,this.channelId);if(r){var a=r.messagesList.filter(function(e){return r.messages[e].authorId!==n});a.includes(e.oldestUnreadMessageId)||(e.oldestUnreadMessageId="",e.oldestUnreadMessageIdStale=!1),a.forEach(function(t){t>e.lastMessageId&&(e.lastMessageId=t),t>e.ackMessageId&&(e.unreadCount++,e.oldestUnreadMessageId?t<e.oldestUnreadMessageId&&(e.oldestUnreadMessageId=t,e.oldestUnreadMessageIdStale=!1):(e.oldestUnreadMessageId=t,e.oldestUnreadMessageIdStale=!1))}),e.unreadCount>0&&(e.estimated=r.hasMore&&a.length===e.unreadCount||r.hasMoreNew)}}},{key:"rebuild",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resetOldestUnreadMessageId,t=void 0!==e&&e,n=this.state.get(this.key);n=_.default.clone(n),this._rebuild(n,{resetOldestUnreadMessageId:t}),this.state.set(this.key,n)}}]),e}();t.default={name:e,depends:[u.default,c.default,m.default,d.default,f.default,p.default,g.default,h.default],signals:{channelReady:[function(e){var t=e.props,n=e.state,r=t.readStates,a=t.messagesItems,s=n.get(y),l=s?i({},s):{};r.forEach(function(e){var t=o(n,e.channelId),r=a.find(function(t){return t.channelId===e.channelId}),s=(r&&r.items||[]).reduce(function(e,t){return e.id>t.id?e:t},{});t.lastMessageId=s?s.id:"",t.lastMentionId=e.lastMentionId,t.ackMessageId=e.lastMessageId,t.mentionCount=e.mentionCount,l[t.channelId]=t}),n.set(y,l)}],connectionOpen:[function(e){var t=e.props,n=e.state,r=n.get(y),a=r?i({},r):{},s=t.lastMessages;t.readState.forEach(function(e){var t=o(n,e.channelId),r=s.find(function(t){return t.channelId===e.channelId});t.lastMessageId=r?r.id:"",t.lastMentionId=e.lastMentionId,t.ackMessageId=e.lastMessageId,t.mentionCount=e.mentionCount,a[t.channelId]=t}),n.set(y,a)}],fetchMessagesSuccess:[function(e){var t=e.props,n=e.state,r=t.channelId;b.get(n,r).rebuild()}],messageCreate:[function(e){var t=e.props,n=e.state,r=t.channelId;b.get(n,r).handleIncomingMessage(t)}],messageAck:[function(e){var t=e.props,n=e.state,r=t.channelId;b.get(n,r).localAck(t)}],channelSelect:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.selectedChannelId,o=d.default.getChannel(n,r);r!==a&&a&&o&&b.get(n,a).rebuild({resetOldestUnreadMessageId:!0})}],channelAck:[function(e){var t=e.props,n=e.state,r=t.channelId;b.get(n,r).ack()}],channelCreate:[function(e){var t=e.props,n=e.state,r=t.id;b.get(n,r).mergeChannel(t)}],channelDelete:[function(e){var t=e.props,n=e.state,r=t.id;b.clear(n,r)}],updateDimensions:[function(e){var t=e.props,n=e.state,r=t.channelId;c.default.scrolledToBottom(n,r)&&u.default.isFocused(n)&&!m.default.isIdle(n)&&b.get(n,r).tryToAck()}],windowFocused:[s,function(e){var t=e.state,n=g.default.getChannelId(t);n&&!u.default.isFocused(t)&&b.get(t,n).handleUnfocus()}],idle:[s]},getState:function(){return{readState:{}}},getReadState:function(e){return e.get(y)}}}).call(t,"views/v2/modules/messages/ReadStateStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{otherUserId:e.otherUser?e.otherUser.id:e.otherUserId,status:e.status,actionUserId:e.actionUserId,channelId:e.channelId}}function o(e){var t=e.props,n=e.state,r=a(t);r&&n.set([].concat(d,[r.otherUserId]),r)}function s(e){return function(t){var n=t.props,r=t.state,a=n.userId;r.set("messages.relationshipAcceptStatus."+a,e)}}function i(e){return function(t){var n=t.props,r=t.state,a=n.userId;r.set("messages.relationshipIgnoreStatus."+a,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(462)),u=r(n(32)),c=r(n(7)),d=["messages","relationships"];t.default={name:e,depends:[l.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r={};t.relationships.forEach(function(e){r[e.otherUserId]=a(e)}),n.set(d,r)}],relationshipRequest:[s(c.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.userId,o=t.content;return n.post("/api/relationships/"+a+"/request",{content:o}).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.openChannel,o=t.result,s=u.default.getChannel(r,o.channelId);a&&n.getSignal("messages.channelSelect")({channelId:s.id,workspaceId:s.workspaceId})},s(c.default.succeeded)],error:[s(c.default.failed)]}]],relationshipAccept:[s(c.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.userId,o=t.content;return n.post("/api/relationships/"+a+"/accept",{content:o}).then(r.success).catch(r.error)},{success:[function(e){var t=e.controller,n=e.props,r=e.state,a=n.openChannel,o=n.result,s=u.default.getChannel(r,o.channelId);a&&t.getSignal("messages.channelSelect")({channelId:s.id,workspaceId:s.workspaceId})},s(c.default.succeeded)],error:[s(c.default.failed)]}]],relationshipIgnore:[i(c.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.userId;return n.post("/api/relationships/"+a+"/ignore").then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=a(e.props.result);n&&t.set([].concat(d,[n.otherUserId]),n)},i(c.default.succeeded)],error:[i(c.default.failed)]}]],relationshipAdd:[o],relationshipRemove:[o]},getState:function(){return{relationships:{},relationshipIgnoreStatus:{},relationshipAcceptStatus:{}}},getRelationships:function(e){return e.get(d)},getRelationship:function(e,t){return e.get([].concat(d,[t]))}}}).call(t,"views/v2/modules/messages/RelationshipStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","relationshipType"];t.default={name:e,depends:[],signals:{switchRelationshipFilter:[function(e){var t=e.props,r=e.state,a=t.value;r.set(n,a)}]},getState:function(){return{relationshipType:"online"}},getFilter:function(e){return e.get(n)}}}).call(t,"views/v2/modules/messages/RelationshipFilterStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e?s.default.transformMessage(t,e):null}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(41)),s=r(n(33)),i=r(n(27)),l=["messages","lastMessages"];t.default={name:e,depends:[o.default,i.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r=t.lastMessages,o=t.users,s={};r.forEach(function(e){var t={id:e.id,type:e.type,data:e.data||null,channelId:e.channelId,author:o.find(function(t){return t.id===e.author.id}),content:e.content||"",attachments:e.attachments||[],nonce:e.nonce||"",mentionEveryone:e.mentionEveryone||!1,mentions:(e.mentions||[]).map(function(e){return o.find(function(t){return t.id===e.id})}),deletedTime:e.deletedTime||"",call:e.call||null};s[e.channelId]=a(t,n)}),n.set(l,s)}],channelCreate:[function(e){var t=e.props,n=e.state;n.set([].concat(l,[t.id]),a(t.lastMessage,n))}],channelUpdate:[function(e){var t=e.props,n=e.state,r=n.get([].concat(l,[t.id]));t.lastMessage&&(!r||t.lastMessage.id>r.id)&&n.set([].concat(l,[t.id]),a(t.lastMessage,n))}],channelDelete:[function(e){var t=e.props;e.state.unset([].concat(l,[t.id]))}],fetchMessagesSuccess:[function(e){var t=e.props,n=e.state,r=t.channelId,o=t.messages,s=[].concat(l,[r]),i=n.get(s),u=!1;o.forEach(function(e){(!i||i.id<e.id)&&(u||(u=!0),i=e)}),u&&n.set(s,a(i,n))}],messageCreate:[function(e){var t=e.props,n=e.state,r=[].concat(l,[t.channelId]),o=n.get(r);(!o||o.id<t.id&&"SENDING"!==t.state)&&n.set(r,a(t,n))}]},getState:function(){return{lastMessages:{}}},getLastMessages:function(e){return e.get(l)},getLastMessage:function(e,t){return e.get([].concat(l,[t]))}}}).call(t,"views/v2/modules/messages/LastMessageStore.js")},function(e,t,n){e.exports=n(8)(1002)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeSdp=t.parseSdp=void 0,t.fromJitsiSdp=function(e){var t=[],n=[],r=[];e.audio["payload-types"].forEach(function(e){t.push(e.id),n.push({payload:e.id,codec:e.name,rate:e.clockrate,encoding:e.channels}),e.parameters&&r.push({payload:e.id,config:Object.keys(e.parameters).map(function(t){return t+"="+e.parameters[t]}).join(";")})}),t=t.join(" ");var s={};e.audio.ssrcInfos&&e.audio.ssrcInfos.forEach(function(e){s[e.ssrc]=e.parameters});var i=[];return e.transport.candidates.forEach(function(e){i.push({foundation:e.foundation,component:e.component,transport:e.protocol,priority:e.priority,ip:e.ip,port:e.port,type:e.type,raddr:e["rel-addr"],rport:e["rel-port"],generation:e.generation,tcptype:e.tcptype})}),{version:0,origin:{username:"-",sessionId:Math.floor(a+Math.random()*o),sessionVersion:1,netType:"IN",ipVer:4,address:"0.0.0.0"},name:"-",timing:{start:0,stop:0},groups:[{type:"BUNDLE",mids:["audio"]}],msidSemantic:{semantic:"WMS",token:"*"},media:[{rtp:n,fmtp:r,type:"audio",port:9,protocol:"UDP/TLS/RTP/SAVPF",payloads:t,connection:{version:4,ip:"0.0.0.0"},rtcp:{port:9,netType:"IN",ipVer:4,address:"0.0.0.0"},iceUfrag:e.transport.ufrag,icePwd:e.transport.pwd,fingerprint:{type:e.transport.fingerprints[0].hash,hash:e.transport.fingerprints[0].fingerprint},candidates:i,setup:e.transport.fingerprints[0].setup,mid:"audio",ext:e.audio["rtp-hdrexts"].map(function(e){return{value:e.id,uri:e.uri}}),direction:"sendrecv",rtcpMux:"rtcp-mux",sources:s}]}},t.toJitsiSdp=function(e){var t=null;if(e.media.forEach(function(e){"audio"===e.type&&(t=e)}),!t)throw new Error("audioMedia is null");var n=t.fingerprint||e.fingerprint;if(!n)throw new Error("fingerprint is null");var r=[];t.sources&&Object.keys(t.sources).forEach(function(e){r.push({ssrc:Number(e),parameters:t.sources[e]})});var a=[];t.ext.forEach(function(e){a.push({id:e.value,uri:e.uri})});var o={};return t.rtp.forEach(function(e){o[e.payload]={id:e.payload,name:e.codec,clockrate:e.rate,channels:e.encoding}}),t.fmtp.forEach(function(e){var t=o[e.payload].parameters={};e.config.split(";").forEach(function(e){var n=(e=e.trim()).split("=");t[n[0]]=n[1]})}),{audio:{"payload-types":Object.values(o),"rtp-hdrexts":a,ssrcInfos:r},transport:{xmlns:"urn:xmpp:jingle:transports:ice-udp:1",fingerprints:[{fingerprint:n.hash,setup:t.setup,hash:n.type}],candidates:[],"rtcp-mux":!0,ufrag:t.iceUfrag,pwd:t.icePwd}}},t.diffSdp=function(e,t){var n=null;return t.media.forEach(function(t,r){var a=e.media[r];if(!a&&t)return n=n||[],void(n[r]={index:r,mid:t.mid,sources:t.sources||{}});t.sources&&Object.keys(t.sources).forEach(function(e){a.sources&&a.sources[e]||((n=n||[])[r]||(n[r]={index:r,mid:t.mid,sources:{}}),n[r].sources[e]=t.sources[e])})}),n};var r=n(634);t.parseSdp=r.parse,t.writeSdp=r.write;var a=Math.pow(10,17),o=9*a},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(32)),a=["messages","menu"],o=[].concat(a,["showMenu"]),s=[].concat(a,["selectedMenuItem"]);t.default={name:e,depends:[r.default],signals:{toggleMenu:[function(e){var t=e.props,n=e.state,r=t.value;n.set(o,r)}],selectMenuItem:[function(e){var t=e.props,n=e.state,r=t.item;n.set(s,r),n.set(o,!1)}]},getState:function(){return{menu:{showMenu:!1,selectedMenuItem:"default"}}},getSelectedMenuItem:function(e){return e.get(s)}}}).call(t,"views/v2/modules/messages/MenuStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return{id:e,type:"q",name:e,value:e,text:e}}function i(e){var t=e.props,n=e.state,r=t.q,a=t.st,o=(t.result||{}).candidates,i=void 0===o?[]:o,l=n.get("suggest.candidate"),u=l.q,c=l.st;return r===u&&a===c?(i.push(s(r)),{candidates:i}):{candidates:null}}function l(e){var t=e.props,n=e.state,r=t.q,a=t.st,o=(t.result||{}).candidates,s=void 0===o?[]:o,i=n.get("suggest.candidate"),l=i.q,u=i.st;return r===l&&a===u?{candidates:s}:{candidates:null}}function u(e){var t=e.props,n=e.state,r=[],a=t.q,o=t.st,i=n.get("suggest.candidate"),l=i.q,u=i.st;return a===l&&o===u?(r.push(s(a)),{candidates:r}):{candidates:null}}function c(e){return function(t){var n=t.props,r=n.q,a=n.addNew,o=n.candidates,s=(o||[]).length,i=0===s;1!==s||!a&&"q"!==o[0].type||(i=!0),S[e]={q:r,noResult:i}}}function d(e){return function(t){var n=t.props,r=t.path,a=S[e]||{q:"",noResult:!1},o=a.q,s=a.noResult,i=n.q;return o&&i&&s&&i.startsWith(o)?r.no():r.yes()}}function f(e){return function(t){var n=t.state,r=t.props.q;(n.get(["suggest","candidate",e])||[]).length>0&&n.set(["suggest","candidate",e,0],s(r))}}function p(e,t,n,r){var o=void 0,s=void 0;return n&&(o=[n]),r&&(s=[r]),o=[].concat(a(o),[h(e),g,c(e)]),s=[].concat(a(s),[h(e)]),[d(e),{yes:[t,{success:o,error:s}],no:[f(e)]}]}function g(e){var t=e.props,n=e.state,r=n.get("suggest.followMap")||{},a=(t.result||{}).followMap;n.set("suggest.followMap",m({},r,a))}function h(e){return function(t){var n=t.props,r=t.state,a=n.candidates;a&&(r.set(["suggest","candidate",e],a),r.set(["suggest","candidate","type"],e))}}Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=r(["suggest.candidate.q"],["suggest.candidate.q"]),_=r(["suggest.candidate.st"],["suggest.candidate.st"]),y=n(9),b=n(0),S={};t.default={name:e,depends:[],signals:{suggestSkill:p("skill",function(e){var t=e.props,n=e.http,r=e.path,a=t.q,o=t.skillType,s={q:a};return o&&(s.type=o),n.get("/api/skillSuggest",s).then(r.success).catch(r.error)},function(e){var t=e.props,n=e.state,r=t.q,a=t.st,o=t.addNew,i=(t.result||{}).candidates,l=void 0===i?[]:i,u=n.get("suggest.candidate"),c=u.q,d=u.st;return r===c&&a===d?(o&&l.push(s(r)),{candidates:l}):{candidates:null}},u),suggestPlace:p("place",function(e){var t=e.props,n=e.http,r=e.path,a={q:t.q};return t.allPlace&&(a.allType="all"),n.get("/api/placeSuggest",a).then(r.success).catch(r.error)},l,u),suggestTeam:p("team",function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/teamSuggest",{q:a}).then(r.success).catch(r.error)},function(e){var t=e.state,n=e.props,r=n.q,a=n.st,o=n.addNew,i=(n.result||{}).candidates,l=void 0===i?[]:i,u=t.get("suggest.candidate"),c=u.q,d=u.st;return r===c&&a===d?(o&&l.push(s(r)),{candidates:l}):{candidates:null}},u),suggestUser:p("user",function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/userSuggest",{q:a}).then(r.success).catch(r.error)},function(e){var t=e.props,n=e.state,r=t.q,a=t.st,o=t.addNew,i=(t.result||{}).candidates,l=void 0===i?[]:i,u=n.get("suggest.candidate"),c=u.q,d=u.st;return r===c&&a===d?(o&&l.push(s(r)),{candidates:l}):{candidates:null}},u),suggestSearch:p("search",function(e){var t=e.props,n=e.http,r=e.path,a=t.q,o=t.t,s=t.skillType,i={q:a,t:o};return s&&(i.type=s),n.get("/api/searchSuggest",i).then(r.success).catch(r.error)},i,u),suggestHeader:p("header",function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/headerSuggest",{q:a}).then(r.success).catch(r.error)},i,u),suggestSchool:p("school",function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/schoolSuggest",{q:a}).then(r.success).catch(r.error)},l,u),suggestSchoolV2:p("schoolV2",function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/schoolV2Suggest",{q:a}).then(r.success).catch(r.error)},l,u),suggestQuickSearch:p("quickSearch",function(e){var t=e.props,n=e.http,r=e.path,a={q:t.q,t:t.t};return n.get("/api/quickSearchSuggest",a).then(r.success).catch(r.error)},function(e){var t=e.props,n=e.state,r=t.q,a=t.st,o=t.addNew,i=(t.result||{}).candidates,l=void 0===i?[]:i,u=n.get("suggest.candidate"),c=u.q,d=u.st;return r===c&&a===d?(o&&l.push(s(r)),{candidates:l}):{candidates:null}},u),fetchCandidates:[function(e){var t=e.props,n=e.state,r=e.path,a=t.q,o=t.st,s=n.get("suggest.candidate")||{},i=s.q,l=s.st,u=n.get("suggest.candidate."+o);return!(u&&u.length>0)||a&&a!==i||o&&o!==l?r.yes():r.no()},{yes:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.st,o=t.q,s=t.t,i=t.addNew,l=void 0!==i&&i,u=t.allPlace,c=void 0!==u&&u,d=t.skillType,f=n.get("suggest.candidate"),p=f.q,g=f.st;switch(n.set("suggest.candidate.q",o),n.set("suggest.candidate.st",a),a===g&&o&&o.startsWith(p)||n.set("suggest.candidate."+a,[]),a){case"skill":r.getSignal("suggest.suggestSkill")({q:o,st:a,addNew:l,skillType:d});break;case"team":r.getSignal("suggest.suggestTeam")({q:o,st:a,addNew:l});break;case"user":r.getSignal("suggest.suggestUser")({q:o,st:a,addNew:l});break;case"place":r.getSignal("suggest.suggestPlace")({q:o,st:a,allPlace:c});break;case"header":r.getSignal("suggest.suggestHeader")({q:o,st:a});break;case"search":r.getSignal("suggest.suggestSearch")({q:o,st:a,t:s,skillType:d});break;case"school":r.getSignal("suggest.suggestSchool")({q:o,st:a});break;case"schoolV2":r.getSignal("suggest.suggestSchoolV2")({q:o,st:a});break;case"quickSearch":r.getSignal("suggest.suggestQuickSearch")({q:o,st:a,t:s,addNew:l})}}],no:[]}],clearCandidates:[function(e){var t=e.props,n=e.state,r=t.st;n.set(["suggest","candidate",r],[])}],clearSuggestQuery:[(0,y.unset)((0,b.state)(v)),(0,y.unset)((0,b.state)(_))],clearSuggest:[function(e){var t=e.controller,n=e.props;t.getSignal("suggest.clearCandidates")(m({},n)),t.getSignal("suggest.clearSuggestQuery")()}],saveToMap:[function(e){var t=e.props,n=e.state,r=t.candidate,a=t.st;if(r&&"q"!==r.type){var s="suggest.candidateMap."+a;n.get(s)?n.merge(s,o({},r.id,r)):n.set(s,o({},r.id,r))}}],removeFromMap:[function(e){var t=e.props,n=e.state,r=t.candidate,a=t.st;if(r&&"q"!==r.type){var o="suggest.candidateMap."+a,s=m({},n.get(o))||{};s[r.id]&&delete s[r.id],n.set(o,s)}}]},getState:function(){return{candidate:{skill:[],place:[],team:[],user:[],search:[],header:[],school:[],schoolV2:[]},candidateMap:{skill:{},place:{},team:{},user:{},search:{},header:{},school:{},schoolV2:{}},followMap:{}}}}}).call(t,"views/v2/modules/suggest/SuggestStore.js")},function(e,t,n){e.exports=n(8)(786)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=u.ContentState.createFromText(e,t);return n=u.ContentState.createFromBlockArray(n.getBlocksAsArray().map(function(e,t){return e.merge({key:"text_"+t})})),u.EditorState.createWithContent(n)}function o(e){for(;e&&e!==document.documentElement;){if(e.getAttribute&&"true"===e.getAttribute("data-block"))return e;e=e.parentNode}return null}function s(e){var t=e.getCurrentContent(),n=e.getSelection(),r=n.getFocusKey(),a=n.getFocusOffset();return t.getBlockForKey(r).getEntityAt(a)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(56),u=n(175),c=r(n(470)),d=r(n(471)),f=n(695),p=n(437),g=["GAMEGALLERY","SHOWCASEGALLERY","WEBGLGALLERY"],h=["IMAGE","VIDEO","ATTACHMENT","VIDEOATTACHMENT"],m=[].concat(g,h);e.exports={createEditorStateWithText:a,findEditorKey:function(e){for(;e&&e!==document.documentElement;){var t=e.getAttribute&&e.getAttribute("data-editor");if(t)return t;e=e.parentNode}return null},getSelectionInlineStyle:function(e){var t=e.getSelection();if(t.isCollapsed())return e.getCurrentInlineStyle();var n=t.getStartKey(),r=t.getEndKey(),a=e.getCurrentContent(),o=a.getBlockForKey(n),s=a.getBlockForKey(r),i=a.getBlockMap().skipUntil(function(e,t){return t===n}).takeUntil(function(e,t){return t===r}).concat([[r,s]]),l=t.getStartOffset(),u=o.getInlineStyleAt(l);return i.reduce(function(e,n){var r=n.getKey(),a=0,o=n.getLength()-1;r===t.getStartKey()&&(a=t.getStartOffset()),r===t.getEndKey()&&(o=t.getEndOffset());for(var s=a;s<o;s++)e=e.intersect(n.getInlineStyleAt(s));return e},u)},toggleBlockType:function(e,t){var n=e.getSelection(),r=n.getStartKey(),a=n.getStartOffset(),o=n.getEndKey(),s=n.getEndOffset(),i=e.getCurrentContent();if(r!==o&&0===n.getEndOffset()){var c=i.getBlockBefore(o);o=c.getKey(),s=c.getLength(),n=n.merge({anchorKey:r,anchorOffset:a,focusKey:o,focusOffset:s,isBackward:!1})}var d=i.getBlockForKey(r),f=i.getBlockForKey(o),p=i.getBlockMap().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===o}).concat([[o,f]]);if(p.some(function(e){return"atomic"===e.getType()}))return e;var g=d.getType()===t?"unstyled":t;if("code-block"!==g){var h=p.map(function(e){return e.merge({type:g,depth:0})}),m=i.merge({blockMap:i.getBlockMap().merge(h),selectionAfter:n});return u.EditorState.push(e,m,"change-block-type")}var v="",_=(0,l.List)(),y=0;p.forEach(function(e){y++&&(v+="\n",_=_.push(u.CharacterMetadata.create())),v+=e.text,_=_.concat(e.characterList)});var b=d.merge({type:g,depth:0,text:v,characterList:_}),S=i.getBlockMap().toSeq().takeUntil(function(e){return e===d}),w=i.getBlockMap().toSeq().skipUntil(function(e){return e===f}).rest(),E=S.concat([[b.getKey(),b]],w).toOrderedMap(),O=i.merge({blockMap:E,selectionAfter:n.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:v.length,isBackward:!1})});return u.EditorState.push(e,O,"change-block-type")},moveAtomicBlockBefore:function(e,t,n){var r=new u.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0}),a=e.getCurrentContent();return a=a.merge({selectionAfter:r}),e=u.EditorState.set(e,{currentContent:a}),u.AtomicBlockUtils.moveAtomicBlock(e,a.getBlockForKey(n),r,"before")},addEmptyBlockBefore:function(e,t){var n=(0,u.genKey)(),r=new u.ContentBlock({key:n}),a=new u.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0}),o=e.getCurrentContent();return o=o.merge({selectionAfter:a}),e=u.EditorState.set(e,{currentContent:o}),u.AtomicBlockUtils.moveAtomicBlock(e,r,a,"before")},addAtomicBlockBefore:function(e,t,n,r){var a=new u.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0}),o=e.getCurrentContent(),s=(o=(o=o.merge({selectionAfter:a})).createEntity(n,"IMMUTABLE",r)).getLastCreatedEntityKey();e=u.EditorState.set(e,{currentContent:o});var i=u.CharacterMetadata.create({entity:s}),c=new u.ContentBlock({key:(0,u.genKey)(),type:"atomic",text:" ",characterList:(0,l.List)((0,l.Repeat)(i,1))});return u.AtomicBlockUtils.moveAtomicBlock(e,c,a,"before")},isAtomicBlockSelected:function(e){var t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),a=n.getEndKey();return r===a&&"atomic"===t.getBlockForKey(a).getType()},moveToPrevBlock:function(e){var t=e.getCurrentContent(),n=e.getSelection().getStartKey(),r=t.getBlockBefore(n);if(r){var a=new u.SelectionState({anchorKey:r.getKey(),anchorOffset:"atomic"===r.getType()?0:r.getLength(),focusKey:r.getKey(),focusOffset:"atomic"===r.getType()?0:r.getLength()});return u.EditorState.forceSelection(u.EditorState.set(e,{currentContent:t.merge({selectionAfter:a})}),a)}return null},moveToNextBlock:function(e){var t=e.getCurrentContent(),n=e.getSelection().getEndKey(),r=t.getBlockAfter(n);if(r){var a=new u.SelectionState({anchorKey:r.getKey(),anchorOffset:0,focusKey:r.getKey(),focusOffset:0});return u.EditorState.forceSelection(u.EditorState.set(e,{currentContent:t.merge({selectionAfter:a})}),a)}return null},moveToLastBlock:function(e){var t=e.getCurrentContent(),n=t.getLastBlock();if(n){var r=new u.SelectionState({anchorKey:n.getKey(),anchorOffset:"atomic"===n.getType()?0:n.getLength(),focusKey:n.getKey(),focusOffset:"atomic"===n.getType()?0:n.getLength()});return u.EditorState.forceSelection(u.EditorState.set(e,{currentContent:t.merge({selectionAfter:r})}),r)}return null},isBlockBeforeAtomic:function(e){var t=e.getCurrentContent(),n=e.getSelection().getStartKey(),r=t.getBlockBefore(n);return r&&"atomic"===r.getType()},isBlockAfterAtomic:function(e){var t=e.getCurrentContent(),n=e.getSelection().getEndKey(),r=t.getBlockAfter(n);return r&&"atomic"===r.getType()},isFocusAtLastLine:function(){var e=window.getSelection(),t=o(e.focusNode),n=t&&t.querySelectorAll('[data-text="true"]');if(n&&n.length){var r=n[n.length-1];r.firstChild&&(r=r.firstChild);var a=document.createRange();a.selectNodeContents(r),a.collapse(),a=(0,d.default)(a);var s=e.getRangeAt(0);if(s.endContainer===a.startContainer&&s.endOffset===a.startOffset)return!0;if((s=s.cloneRange()).collapse(),(s=(0,d.default)(s)).startContainer===a.startContainer&&s.startOffset===a.startOffset)return!0}return!1},isFocusAtFirstLine:function(){var e=window.getSelection(),t=o(e.focusNode),n=t&&t.querySelectorAll('[data-text="true"]');if(n&&n.length){var r=n[0];r.firstChild&&(r=r.firstChild);var a=document.createRange();a.selectNodeContents(r),a.collapse(!0),a=(0,d.default)(a);var s=e.getRangeAt(0);if(s.startContainer===a.startContainer&&s.startOffset===a.startOffset)return!0;if((s=s.cloneRange()).collapse(!0),(s=(0,d.default)(s)).startContainer===a.startContainer&&s.startOffset===a.startOffset)return!0}return!1},isSelectionAtBlockStart:function(e){return 0===e.getSelection().getFocusOffset()},isSelectionAtBlockEnd:function(e){var t=e.getCurrentContent(),n=e.getSelection(),r=t.getBlockForKey(n.getFocusKey());return n.getFocusOffset()===("atomic"===r.getType()?0:r.getLength())},isSelectionAtFirstBlock:function(e){var t=e.getSelection(),n=e.getCurrentContent().getFirstBlock();return t.getFocusKey()===(n&&n.getKey())},isSelectionAtLastBlock:function(e){var t=e.getSelection(),n=e.getCurrentContent().getLastBlock();return t.getFocusKey()===(n&&n.getKey())},getLeafOffsetKeyAndOffset:function(e,t,n){var r="",a=0;return e.getBlockTree(t).some(function(e,o){var s=e.get("start"),i=e.get("end");return n<s||n<=i&&(e.get("leaves").some(function(e,s){var i=e.get("start"),l=e.get("end");return n<i||n<=l&&(r=c.default.encode(t,o,s),a=n-i,!0)}),!0)}),{offsetKey:r,offset:a}},getLeafBoundingClientRect:function(e,t,n){var r='[data-editor="'+e+'"][data-block="true"] span[data-offset-key="'+t+'"] > [data-text="true"]',a=document.querySelector(r),o=document.createRange();return o.setStart(a.firstChild,n),o.getBoundingClientRect()},getSelectedEntity:s,getSelectedEntityData:function(e){var t=s(e);return t&&e.getCurrentContent().getEntity(t).getData()||{}},addUserMention:function(e,t,n){var r=e.getCurrentContent().createEntity("MENTION","SEGMENTED",{userId:n.id}),a=r.getLastCreatedEntityKey(),o=e.getSelection(),s=o.merge({anchorOffset:o.getFocusOffset()-t.length-1});return r=u.Modifier.replaceText(r,s,"@"+n.name,null,a),u.EditorState.push(e,r,"apply-entity")},addLearnMention:function(e,t,n){var r=(0,f.GetItemIdByType)({id:n.id,type:n.type}),a=e.getCurrentContent().createEntity("MENTIONLEARN","SEGMENTED",{learnItemId:r}),o=a.getLastCreatedEntityKey(),s=e.getSelection(),i=s.merge({anchorOffset:s.getFocusOffset()-t.length-1});return a=u.Modifier.replaceText(a,i,n.title,null,o),u.EditorState.push(e,a,"apply-entity")},mergeAtomicEntityData:function(e,t,n){var r=e.getEntity(t),a=r.getType(),o=r.getMutability(),s=r.getData(),l=(e=e.createEntity(a,o,i({},s,n))).getLastCreatedEntityKey(),c=e.getBlockMap();return c.forEach(function(e,n){e.findEntityRanges(function(e){return e.getEntity()===t},function(t,n){for(var r=e.getCharacterList();t<n;)r=r.set(t,u.CharacterMetadata.applyEntity(r.get(t),l)),t++;e=e.set("characterList",r)}),c=c.set(n,e)}),e.merge({blockMap:c,selectionAfter:e.getSelectionAfter().merge({hasFocus:!0})})},normalizeValidAtomicBlocks:function(e){var t=e.getBlockMap();for(t.forEach(function(n,r){"atomic"===n.getType()&&n.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&-1!==m.indexOf(e.getEntity(n).getType())},function(a,o){var s=n.getEntityAt(a),l=e.getEntity(s),c=l.getType(),d=l.getData();if(-1!==h.indexOf(c)&&((d||{}).contentId||(t=t.delete(r))),-1!==g.indexOf(c)){for(var f=l.getMutability(),p=(d.contents||[]).filter(function(e){return e.contentId}),m=(e=e.createEntity(c,f,i({},d,{contents:p}))).getLastCreatedEntityKey(),v=n.getCharacterList();a<o;)v=v.set(a,u.CharacterMetadata.applyEntity(v.get(a),m)),a++;n=n.set("characterList",v),t=t.set(r,n)}})});t.last()&&"unstyled"===t.last().getType()&&0===t.last().getLength();)t=t.delete(t.last().getKey());var n=(0,u.genKey)(),r=new u.ContentBlock({key:n,text:"",type:"unstyled",characterList:(0,l.List)(),depth:0});return t=t.concat([[n,r]]).toOrderedMap(),e.merge({blockMap:t})},removeAllBlocks:function(e){for(var t=e.getCurrentContent(),n=t.getBlockMap();n.last();)n=n.delete(n.last().getKey());var r=(0,u.genKey)(),a=new u.ContentBlock({key:r,text:"",type:"unstyled",characterList:(0,l.List)(),depth:0}),o=new u.SelectionState({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,hasFocus:!0});return n=n.concat([[r,a]]).toOrderedMap(),u.EditorState.forceSelection(u.EditorState.set(e,{currentContent:t.merge({blockMap:n})}),o)},isEmptyContent:function(e){return!e.getCurrentContent().getPlainText()},normalizeRepostMentions:function(e){return e.getBlockMap().forEach(function(t,n){"unstyled"===t.getType()&&t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&"MENTION"===e.getEntity(n).getType()},function(r,a){var o=t.getEntityAt(r),s=(e.getEntity(o).getData()||{}).userId,i=new u.SelectionState({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:a,hasFocus:!0});e=u.Modifier.replaceText(e,i,"<@"+s+">",null,o)})}),e},normalizeEmbedLinks:function(e,t){return e.getBlockMap().forEach(function(n,r){if("unstyled"===n.getType())for(var a=n.getText(),o=0;o<t.length;o++){var s=t&&t[o];if(s){var i=a.indexOf(s);if(-1!==i){var l=i+s.length,c=new u.SelectionState({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:l}),d=(e=e.createEntity("LINK","MUTABLE",{url:s})).getLastCreatedEntityKey();e=u.Modifier.applyEntity(e,c,d)}}}}),e},markTextOverLength:function(e,t,n){for(var r=0,a=void 0,o=void 0,s=e.getBlocksAsArray(),i=0;i<s.length;i++,r++){var l=s[i],c=l.getLength();if((r+=c)>t){a=l.getKey(),o=c-(r-t);break}}if(a&&o){var d=e.getLastBlock(),f=d.getKey(),p=d.getLength(),g=new u.SelectionState({anchorKey:a,anchorOffset:o,focusKey:f,focusOffset:p});return u.Modifier.applyInlineStyle(e,g,n)}return e},$editorStateFromText:function(e){return(0,p.compute)(e,function(e){return a(e||"")})},$editorStateFromJSON:function(e){return(0,p.compute)(e,function(e){return e?u.EditorState.createWithContent((0,u.convertFromRaw)(JSON.parse(e))):u.EditorState.createEmpty()})}}},function(e,t,n){e.exports=n(8)(96)},function(e,t,n){"use strict";function r(e){var t=getComputedStyle(e),n=document.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var r=document.body;r||l(!1),r.appendChild(n);var a=n.getBoundingClientRect();return r.removeChild(n),a.height}function a(e,t){for(var n=1/0,r=1/0,a=-1/0,o=-1/0,s=0;s<e.length;s++){var i=e[s];n=Math.min(n,i.top),r=Math.min(r,i.bottom),a=Math.max(a,i.top),o=Math.max(o,i.bottom)}return a<=r&&a-n<t&&o-r<t}function o(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}var s=n(692),i=n(693),l=n(694);e.exports=function(e){e.collapsed||l(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=r(t),u=e.endContainer,c=e.endOffset;for(e.setStart(e.startContainer,0);a(i(e),n)&&(u=e.startContainer,c=e.startOffset,u.parentNode||l(!1),e.setStartBefore(u),1!==u.nodeType||"inline"===getComputedStyle(u).display););for(var d=u,f=c-1;;){for(var p=d.nodeValue,g=f;g>=0;g--)if(!(null!=p&&g>0&&s.isSurrogatePair(p,g-1))){if(e.setStart(d,g),!a(i(e),n))break;u=d,c=g}if(-1===g||0===d.childNodes.length)break;f=o(d=d.childNodes[g])}return e.setStart(u,c),e}},function(e,t,n){"use strict";function r(){var e=window.navigator.userAgent.toLowerCase();return!!/MicroMessenger/i.test(e)}function a(){var e=window.navigator.userAgent.toLowerCase();return!!/iP(hone|od|ad)/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isWeiXin=r,t.isKeyboardIOS=a,t.weiXinScrollIntoView=function(){if(r()&&a()){var e=document.getElementById("pageBody");e?setTimeout(function(){e.scrollIntoView(!1),e.parentNode.scrollBy(0,1),console.log("fix wechat browser end")},300):console.log("pageBody div not found")}}},function(e,t,n){e.exports=n.p+"../styles/i/two-factor-auth.07af3d696c7c0e9f5541ee18daa55e87.png"},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e).indent||a};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(477)),a="  "},function(e,t,n){e.exports=n(8)(876)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||(0,a.default)(e),(0,r.List)(e.split(t))};var r=n(56),a=function(e){return e&&e.__esModule?e:{default:e}}(n(128))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n=n||(0,a.default)(e);for(var r=0,s=0,i=0;s>=0&&s<t;)r++,i=s,s=e.indexOf(n,s+n.length);return new o({line:r-1,offset:t-i})};var r=n(56),a=function(e){return e&&e.__esModule?e:{default:e}}(n(128)),o=(0,r.Record)({line:Number(0),offset:Number(0)});o.prototype.getLine=function(){return this.get("line")},o.prototype.getOffset=function(){return this.get("offset")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(809)),o=r(n(810)),s=(0,a.default)();s.tlds(o.default),t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,l,u,c,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(1)),p=r(n(2)),g=r(n(3)),h=r(n(24)),m=r(n(4)),v=r(n(132)),_={strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},component:(i=(0,m.default)(v.default))((c=u=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,g.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.entityKey,n=e.contentState,r=e.children,a=n.getEntity(t).getData().url;return f.default.createElement(h.default,{text:a,position:"bottom",isSpan:!0,clickToHide:!1},f.default.createElement("a",{href:a,target:"_blank",rel:"nofollow"},r))}}]),t}(),u.propTypes={entityKey:p.default.string.isRequired,contentState:p.default.object.isRequired,children:p.default.any.isRequired},l=c))||l};t.default=_},function(e,t){e.exports={"mention-toolbar":"mention-toolbar_WvyL0eHF",show:"show_1L2eh6Ga",candidates:"candidates_101mU2jd",candidate:"candidate_KmLdA8G8",active:"active_3o5lVs5R",avatar:"avatar_2AVzspj7",name:"name_1sjtSRKu","mention-wrapper":"mention-wrapper_k3aRpA5r"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"WEBGLGALLERY"===n.getEntity(t).getType()},t)}function s(e){var t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),a=n.getEndKey();if(r===a){var s=!1;return o(t.getBlockForKey(a),function(){s=!0},t),s}return!1}function i(e,t){var n=e.getCurrentContent(),r=(0,c.getSelectedEntity)(e),o=n.getEntity(r).getData().contents,s=void 0===o?[]:o,i=[].concat(a(s));return-1!==t&&t<s.length?(i.splice(t,1),n=(0,c.mergeAtomicEntityData)(n,r,{contents:i}),c.EditorState.push(e,n,"apply-entity")):e}function l(e){var t=e.uploadIds,n=e.uploads,r=e.entityKey,o=e.editorKey,s=e.editorState,i=e.setEditorState,l=s.getCurrentContent(),u=l.getEntity(r).getData().contents,d=void 0===u?[]:u,f=[].concat(a(d));if(t.length>0){t.forEach(function(e){var t=e&&n[e];f.push({uploadId:t.id,contentId:t.contentId})});var p=(0,c.mergeAtomicEntityData)(l,r,{contents:f});i({editorKey:o,editorState:c.EditorState.push(s,p,"apply-entity")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findGalleryEntities=o,t.isGalleryBlockSelected=s,t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var r=f.default;e.decorator&&(r=e.decorator(r)),r=(0,u.default)(r,{editorKey:t,renderOnly:n});var a=l;return{handleKeyCommand:n?void 0:function(e,t,n){var r=n.getProps,a=n.setEditorState;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":case"delete-to-end-of-block":if(s(t)){var o=r().controller,l=o.getState("project.gallery.itemPos");a(i(t,l));var u=Math.max(0,l-1);return o.getSignal("project.setItemPos")({itemPos:u}),"handled"}}return"not-handled"},handleReturn:n?void 0:function(e,t,n){var r=n.setEditorState;return s(t)?(r((0,c.moveToNextBlock)(t)),"handled"):"not-handled"},keyBindingFn:n?void 0:function(e,t){var r=t.getEditorState,a=t.getProps;if(!e.shiftKey){var o=r();if(s(o)){var i=a().controller,l=i.getState("project.gallery.itemPos"),u=i.getSignal("project.setItemPos");if(37===e.keyCode)return u({itemPos:Math.max(0,l-1)}),"";if(39===e.keyCode){var d=(0,c.getSelectedEntityData)(o).contents,f=void 0===d?[]:d,p=!0===n?Math.max(0,f.length-1):f.length;return u({itemPos:Math.min(p,l+1)}),""}}}},decorators:[{strategy:o,component:r}],UploadVideoDialog:n?function(){return null}:(0,u.default)(d.default,{editorKey:t,onOK:a})}};var u=r(n(36)),c=n(10),d=r(n(65)),f=r(n(851))},function(e,t,n){"use strict";e.exports={comparatorByName:function(e,t){var n=(e||{}).name,r=(t||{}).name;if(!n)return-1;if(!r)return 1;var a=n.toLowerCase(),o=r.toLowerCase();return a<o?-1:a>o?1:0}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){var n=this;r(this,e),t=t||{},this._defaultOptions=this._extends({path:null,domain:null,expires:null,secure:!1},t),Object.defineProperty(this,"length",{get:function(){var e=n._parse(document.cookie);return Object.keys(e).length}})}return o(e,[{key:"clear",value:function(){var e=this,t=this._parse(document.cookie);Object.keys(t).forEach(function(t){return e.removeItem(t)})}},{key:"getItem",value:function(e){return this._parse(document.cookie)[e]}},{key:"key",value:function(e){var t=this._parse(document.cookie);return Object.keys(t).sort()[e]}},{key:"removeItem",value:function(e){var t=this._clone(this._defaultOptions);t.expires=new Date(0);var n=this._format(e,"",t);document.cookie=n}},{key:"setItem",value:function(e,t,n){n=n||{},n=this._extends(this._clone(this._defaultOptions),n);var r=this._format(e,t,n);document.cookie=r}},{key:"_clone",value:function(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}},{key:"_extends",value:function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}},{key:"_format",value:function(e,t,n){return[encodeURIComponent(e),"=",encodeURIComponent(t),this._formatOptions(n)].join("")}},{key:"_formatOptions",value:function(e){return[this._isDefined(e.path)?";path="+e.path:"",this._isDefined(e.domain)?";domain="+e.domain:"",this._isDefined(e.expires)?";expires="+e.expires.toUTCString():"",this._isDefined(e.secure)&&e.secure?";secure":""].join("")}},{key:"_isDefined",value:function(e){return void 0!==e&&null!==e}},{key:"_parse",value:function(e){if(!this._isDefined(e)||0===e.length)return{};var t={},n=new RegExp("\\s*;\\s*");return e.split(n).forEach(function(e){var n=e.split("="),r=a(n,2),o=r[0],s=r[1],i=decodeURIComponent(o),l=decodeURIComponent(s);t[i]=l}),t}}]),e}();t.default=s},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={article:120,game:420};t.default={getSocialButtonsStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"article",t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"fixed"===t?{position:"fixed",right:"auto",top:120,marginLeft:-60}:{top:r[e]+(n||0)}}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(r.ff||r.opera){var t=document.createElement("link");t.setAttribute("rel","icon"),t.setAttribute("href",e),a.appendChild(t);var n=o[o.length-1];n.parentNode&&n.parentNode.removeChild(n),o=[t]}else o.forEach(function(t){return t.setAttribute("href",e)})};var r={};r.ff="undefined"!=typeof InstallTrigger,r.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0;for(var a=document.getElementsByTagName("head")[0],o=[],s=a.getElementsByTagName("link"),i=0;i<s.length;i++)/(^|\s)icon(\s|$)/i.test(s[i].getAttribute("rel"))&&o.push(s[i]);o.length||(o.push(document.createElement("link")),o[0].setAttribute("rel","icon"),a.appendChild(o[0]))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n,r,a){var o="",s=(0,u.i18n)(e,l.default,"channel_name_comma",{}),i=(0,u.i18n)(e,l.default,"channel_name_and",{});if("direct"===t.type)o=r[t.recipientId].fullname;else if("private"!==t.type||t.proposalId)o=t.name;else{var c=Object.values(n).sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}),d=c.length;if(1===d)o=(0,u.i18n)(e,l.default,"channel_name_empty",{username:a.name});else if(2===d)o=o.concat(r[c[0].userId].fullname).concat(s).concat(r[c[1].userId].fullname);else if(d<=3)for(var f=0;f<c.length;f++){var p=c[f];o=f!==c.length-1?o.concat(r[p.userId].fullname).concat(s):o.concat(r[p.userId].fullname)}else{for(var g=0;g<3;g++){var h=c[g];o=2!==g?o.concat(r[h.userId].fullname).concat(s):o.concat(r[h.userId].fullname)}var m=d-3,v=(0,u.i18n)(e,l.default,"channel_name_people",{moreCount:m});o=o.concat(i).concat(v)}}return o}function o(e,t){if(e.isMute)return!1;var n=t[e.id];return!!n&&n.lastMessageId>n.ackMessageId}function s(e,t){return Object.values(e).filter(function(e){return e.workspaceId===t}).reduce(function(e,t){return e[t.id]=t,e},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkspaceChannels=t.getGroupChannelName=t.getChannelName=t.hasUnreadMessage=t.getDefaultChannelList=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){return e&&e.__esModule?e:{default:e}}(n(79)),u=n(6);t.getDefaultChannelList=function(e){var t=e.channels,n=e.readState,a=e.channelJobs,l=e.relationships,u=e.loginUser,c=e.workspaceId,d=void 0===c?"":c,f=[],p=[],g=[],h=void 0;h=d?s(t,d):t;var m=Object.values(h).filter(function(e){if("direct"===e.type){var t=l[e.recipientId];return!t||t.actionUserId!==u.id||"ignored"!==t.status}return"private"===e.type&&!e.proposalId||"lobby"===e.type}).map(function(e){return i({},e,{mentionCount:n[e.id].mentionCount,hasUnread:o(e,n)})}),v=Object.values(h).filter(function(e){return"public"===e.type});if(v&&v.length>0){var _=v.filter(function(e){return o(e,n)}).length>0,y=v.map(function(e){return n[e.id].mentionCount}).reduce(function(e,t){return e+t},0),b=v.reduce(function(e,t){return e.lastMessageId>t.lastMessageId?e:t});f.push({id:b.id,type:"public-list",name:"todo",hasUnread:_,mentionCount:y,stickTimestamp:""})}var S=Object.values(a).filter(function(e){return e.freelancerId!==u.id&&!!h[e.channelId]}).reduce(function(e,t){return t.id in e?e[t.id].channelIds.push(t.channelId):e[t.id]={id:t.id,title:t.title,channelIds:[t.channelId]},e},{});Object.values(S).forEach(function(e){var t=Object.values(h).filter(function(t){return-1!==e.channelIds.indexOf(t.id)});if(t&&t.length>0){var r=t.filter(function(e){return o(e,n)}).length>0,a=t.map(function(e){return n[e.id].mentionCount}).reduce(function(e,t){return e+t},0),s=t.reduce(function(e,t){return e.lastMessageId>t.lastMessageId?e:t});p.push({id:s.id,type:"recruit-list",name:e.title,jobId:e.id,hasUnread:r,mentionCount:a,candidateCount:e.channelIds.length,stickTimestamp:""})}});var w=Object.values(a).filter(function(e){return e.freelancerId===u.id&&!!h[e.channelId]}).map(function(e){return h[e.channelId]});if(w&&w.length>0){var E=w.filter(function(e){return o(e,n)}).length>0,O=w.map(function(e){return n[e.id].mentionCount}).reduce(function(e,t){return e+t},0),I=w.reduce(function(e,t){return e.lastMessageId>t.lastMessageId?e:t});g.push({id:I.id,type:"applied-list",hasUnread:E,mentionCount:O,stickTimestamp:""})}return[].concat(r(m),f,p,g)||[]},t.hasUnreadMessage=o,t.getChannelName=function(e){var t=e.context,n=e.users,r=e.channelMembers,o=e.channelJobs,s=e.loginUser,i=e.channel,c="";if(i){var d=i.type,f=i.recipientId,p=i.name;switch(d){case"direct":c=n[f].fullname;break;case"private":if(i.proposalId){var g=o[i.id],h=g.freelancerId;c=s.id===h?g.title:n[h].fullname}else{var m=r[i.id];c=p||a(t,i,m,n,s)}break;case"public":c=p;break;case"public-list":c=(0,u.i18n)(t,l.default,"projects",{});break;case"recruit-list":c=p;break;case"applied-list":c=(0,u.i18n)(t,l.default,"my_job",{});break;case"lobby":c=0===i.name.indexOf("lobby_default")||"workspace_default_lobby"===i.name?(0,u.i18n)(t,l.default,i.name,{}):i.name;break;case"ticket":c=p;break;default:return null}}return c},t.getGroupChannelName=a,t.getWorkspaceChannels=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&(e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1)}},,,,,,function(e,t,n){var r=n(1019);e.exports=function(e){return r(2,e)}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return K}),n.d(t,"b",function(){return Ce}),n.d(t,"c",function(){return Te}),n.d(t,"d",function(){return je}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return b});var r,a,o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__awaiter||function(e,t,n,r){function a(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):a(e.value).then(s,i)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,o=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,o,s,i,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i},l=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var o=arguments[t],s=0,i=o.length;s<i;s++,a++)r[a]=o[s];return r},u=0,c=!1,d=!1,f=window,p=document,g={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)}},h=function(){return!!p.documentElement.attachShadow}(),m=function(){var e=!1;try{p.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}(),v=function(){try{return new CSSStyleSheet,!0}catch(e){}return!1}(),_=new WeakMap,y=function(e){return _.get(e)},b=function(e,t){return _.set(t.$lazyInstance$=e,t)},S=function(e){var t={$flags$:0,$hostElement$:e,$instanceValues$:new Map};return t.$onReadyPromise$=new Promise(function(e){return t.$onReadyResolve$=e}),e["s-p"]=[],e["s-rc"]=[],_.set(e,t)},w=function(e,t){return t in e},E=function(e){return console.error(e)},O=new Map,I=function(e,t,r){var a=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleIds$,s=O.get(o);return s?s[a]:n(530)("./"+o+".entry.js").then(function(e){return O.set(o,e),e[a]},E)},k=new Map,C=[],T=[],j=[],M=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){E(e)}e.length=0},P=function(e,t){for(var n=0,r=0;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(e){E(e)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},x=function(){u++,M(C);var e=2==(6&g.$flags$)?performance.now()+10*Math.ceil(u*(1/22)):1/0;P(T,e),P(j,e),T.length>0&&(j.push.apply(j,T),T.length=0),(c=C.length+T.length+j.length>0)?g.raf(x):u=0},A=function(e){return Promise.resolve().then(e)},R=function(e,t){return function(n){e.push(n),c||(c=!0,t&&4&g.$flags$?A(x):g.raf(x))}}(T,!0),D={},N=function(e){return null!=e},L=function(e){return"object"===(e=typeof e)||"function"===e},F=function(e,t){return void 0===t&&(t=""),function(){}},U=function(e,t){return function(){}},K=function(){return f.CSS&&f.CSS.supports&&f.CSS.supports("color","var(--c)")?Promise.resolve():n.e(5).then(n.bind(null,1033)).then(function(){if(g.$cssShim$=f.__stencil_cssshim,g.$cssShim$)return g.$cssShim$.initShim()})},B=function(e,t){return null==e||L(e)?e:4&t?"false"!==e&&(""===e||!!e):1&t?String(e):e},z=new WeakMap,q=function(e,t,n){var r=k.get(e);v&&n?(r=r||new CSSStyleSheet).replace(t):r=t,k.set(e,r)},V=function(e,t,n,r){var a=W(t.$tagName$),o=k.get(a);if(e=11===e.nodeType?e:p,o)if("string"==typeof o){e=e.head||e;var s=z.get(e),i=void 0;if(s||z.set(e,s=new Set),!s.has(a)){if(g.$cssShim$){var u=(i=g.$cssShim$.createHostStyle(r,a,o,!!(10&t.$flags$)))["s-sc"];u&&(a=u,s=null)}else(i=p.createElement("style")).innerHTML=o;e.insertBefore(i,e.querySelector("link")),s&&s.add(a)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=l(e.adoptedStyleSheets,[o]));return a},H=function(e,t,n){var r=F(0,t.$tagName$),a=V(h&&e.shadowRoot?e.shadowRoot:e.getRootNode(),t,0,e);10&t.$flags$&&(e["s-sc"]=a,e.classList.add(a+"-h")),r()},W=function(e,t){return"sc-"+e},G=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=null,o=null,s=!1,i=!1,l=[],u=function(t){for(var n=0;n<t.length;n++)a=t[n],Array.isArray(a)?u(a):null!=a&&"boolean"!=typeof a&&((s="function"!=typeof e&&!L(a))&&(a=String(a)),s&&i?l[l.length-1].$text$+=a:l.push(s?$(null,a):a),i=s)};if(u(n),t){t.key&&(o=t.key);var c=t.className||t.class;c&&(t.class="object"!=typeof c?c:Object.keys(c).filter(function(e){return c[e]}).join(" "))}var d=$(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=o,d},$=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},Y={},J=function(e){return e&&e.$tag$===Y},Q=function(e,t,n,r,a,o){if(n!==r){var s=w(e,t),i=t.toLowerCase();if("class"===t){var l=e.classList,u=Z(n),c=Z(r);l.remove.apply(l,u.filter(function(e){return e&&!c.includes(e)})),l.add.apply(l,c.filter(function(e){return e&&!u.includes(e)}))}else if("style"===t){for(var d in n)r&&null!=r[d]||(d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var d in r)n&&r[d]===n[d]||(d.includes("-")?e.style.setProperty(d,r[d]):e.style[d]=r[d])}else if("key"===t);else if("ref"===t)r&&r(e);else if(s||"o"!==t[0]||"n"!==t[1]){var p=L(r);if((s||p&&null!==r)&&!a)try{if(e.tagName.includes("-"))e[t]=r;else{var h=null==r?"":r;"list"===t?s=!1:null!=n&&e[t]==h||(e[t]=h)}}catch(e){}null==r||!1===r?e.removeAttribute(t):(!s||4&o||a)&&!p&&(r=!0===r?"":r,e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):w(f,i)?i.slice(2):i[2]+t.slice(3),n&&g.rel(e,t,n,!1),r&&g.ael(e,t,r,!1)}},X=/\s/,Z=function(e){return e?e.split(X):[]},ee=function(e,t,n,r){var a=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||D,s=t.$attrs$||D;for(r in o)r in s||Q(a,r,o[r],void 0,n,t.$flags$);for(r in s)Q(a,r,o[r],s[r],n,t.$flags$)},te=function(e,t,n,a){var o,s,i=t.$children$[n],l=0;if(null!==i.$text$)o=i.$elm$=p.createTextNode(i.$text$);else{if(d||(d="svg"===i.$tag$),o=i.$elm$=p.createElementNS(d?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",i.$tag$),d&&"foreignObject"===i.$tag$&&(d=!1),ee(null,i,d),N(r)&&o["s-si"]!==r&&o.classList.add(o["s-si"]=r),i.$children$)for(l=0;l<i.$children$.length;++l)(s=te(e,i,l))&&o.appendChild(s);"svg"===i.$tag$?d=!1:"foreignObject"===o.tagName&&(d=!0)}return o},ne=function(e,t,n,r,o,s){var i,l=e;for(l.shadowRoot&&l.tagName===a&&(l=l.shadowRoot);o<=s;++o)r[o]&&(i=te(null,n,o))&&(r[o].$elm$=i,l.insertBefore(i,t))},re=function(e,t,n,r,a){for(;t<=n;++t)(r=e[t])&&(a=r.$elm$,ie(r),a.remove())},ae=function(e,t,n,r){for(var a,o,s=0,i=0,l=0,u=0,c=t.length-1,d=t[0],f=t[c],p=r.length-1,g=r[0],h=r[p];s<=c&&i<=p;)if(null==d)d=t[++s];else if(null==f)f=t[--c];else if(null==g)g=r[++i];else if(null==h)h=r[--p];else if(oe(d,g))se(d,g),d=t[++s],g=r[++i];else if(oe(f,h))se(f,h),f=t[--c],h=r[--p];else if(oe(d,h))se(d,h),e.insertBefore(d.$elm$,f.$elm$.nextSibling),d=t[++s],h=r[--p];else if(oe(f,g))se(f,g),e.insertBefore(f.$elm$,d.$elm$),f=t[--c],g=r[++i];else{for(l=-1,u=s;u<=c;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===g.$key$){l=u;break}l>=0?((o=t[l]).$tag$!==g.$tag$?a=te(t&&t[i],n,l):(se(o,g),t[l]=void 0,a=o.$elm$),g=r[++i]):(a=te(t&&t[i],n,i),g=r[++i]),a&&d.$elm$.parentNode.insertBefore(a,d.$elm$)}s>c?ne(e,null==r[p+1]?null:r[p+1].$elm$,n,r,i,p):i>p&&re(t,s,c)},oe=function(e,t){return e.$tag$===t.$tag$&&e.$key$===t.$key$},se=function(e,t){var n=t.$elm$=e.$elm$,r=e.$children$,a=t.$children$;d=n&&n.parentNode&&void 0!==n.ownerSVGElement,d="svg"===t.$tag$||"foreignObject"!==t.$tag$&&d,null===t.$text$?(ee(e,t,d),null!==r&&null!==a?ae(n,r,t,a):null!==a?(null!==e.$text$&&(n.textContent=""),ne(n,null,t,a,0,a.length-1)):null!==r&&re(r,0,r.length-1)):e.$text$!==t.$text$&&(n.data=t.$text$),d&&"svg"===t.$tag$&&(d=!1)},ie=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.forEach(ie)},le=function(e,t,n,o){a=e.tagName;var s=t.$vnode$||$(null,null),i=J(o)?o:G(null,null,o);i.$tag$=null,i.$flags$|=4,t.$vnode$=i,i.$elm$=s.$elm$=e.shadowRoot||e,r=e["s-sc"],se(s,i)},ue=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"].push(new Promise(function(t){return e.$onRenderResolve$=t}))},ce=function(e,t,n,r){t.$flags$|=16;{if(!(4&t.$flags$)){var a=F(0,n.$tagName$),o=t.$ancestorComponent$,s=t.$lazyInstance$,i=function(){return de(e,t,n,s,r)};ue(t,o);var l;return r?(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.forEach(function(e){var t=e[0],n=e[1];return he(s,t,n)}),t.$queuedListeners$=null),l=he(s,"componentWillLoad")):l=he(s,"componentWillUpdate"),a(),me(l,function(){return R(i)})}t.$flags$|=512}},de=function(e,t,n,r,a){var o=F(0,n.$tagName$),s=e["s-rc"];a&&H(e,n,t.$modeName$);var i=F(0,n.$tagName$);try{le(e,t,0,r.render())}catch(e){E(e)}g.$cssShim$&&g.$cssShim$.updateHost(e),t.$flags$&=-17,t.$flags$|=2,s&&(s.forEach(function(e){return e()}),e["s-rc"]=void 0),i(),o();var l=e["s-p"],u=function(){return fe(e,t,n)};0===l.length?u():(Promise.all(l).then(u),t.$flags$|=4,l.length=0)},fe=function(e,t,n){var r=F(0,n.$tagName$),a=t.$ancestorComponent$;64&t.$flags$?r():(t.$flags$|=64,e.classList.add("hydrated"),r(),t.$onReadyResolve$(e),a||ge()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&A(function(){return ce(e,t,n,!1)}),t.$flags$&=-517},pe=function(e,t){var n=y(e);2==(18&n.$flags$)&&ce(e,n,t,!1)},ge=function(e){p.documentElement.classList.add("hydrated"),g.$flags$|=2},he=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(e){E(e)}},me=function(e,t){return e&&e.then?e.then(t):t()},ve=function(e,t){return y(e).$instanceValues$.get(t)},_e=function(e,t,n,r){var a=y(e),o=a.$hostElement$,s=a.$instanceValues$.get(t),i=a.$flags$,l=a.$lazyInstance$;if(!((n=B(n,r.$members$[t][0]))===s||8&i&&void 0!==s)&&(a.$instanceValues$.set(t,n),l)){if(r.$watchers$&&128&i){var u=r.$watchers$[t];u&&u.forEach(function(e){try{l[e](n,s,t)}catch(e){E(e)}})}2==(18&i)&&ce(o,a,r,!1)}},ye=function(e,t,n){if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);var r=Object.entries(t.$members$),a=e.prototype;if(r.forEach(function(e){var r=e[0],o=e[1][0];(31&o||2&n&&32&o)&&Object.defineProperty(a,r,{get:function(){return ve(this,r)},set:function(e){_e(this,r,e,t)},configurable:!0,enumerable:!0})}),1&n){var o=new Map;a.attributeChangedCallback=function(e,t,n){var r=this;g.jmp(function(){var t=o.get(e);r[t]=(null!==n||"boolean"!=typeof r[t])&&n})},e.observedAttributes=r.filter(function(e){e[0];return 15&e[1][0]}).map(function(e){var t=e[0],n=e[1][1]||t;return o.set(n,t),n})}}return e},be=function(e,t,n){t.$queuedListeners$=t.$queuedListeners$||[];var r=n.map(function(n){var r=n[0],a=n[1],o=n[2],s=we(e,r),i=Se(t,o),l=Ee(r);return g.ael(s,a,i,l),function(){return g.rel(s,a,i,l)}});return function(){return r.forEach(function(e){return e()})}},Se=function(e,t){return function(n){256&e.$flags$?e.$lazyInstance$[t](n):e.$queuedListeners$.push([t,n])}},we=function(e,t){return 8&t?f:e},Ee=function(e){return m?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e)},Oe=function(e,t,r,a,o){return s(void 0,void 0,void 0,function(){var a,s,l,u,c,d,f;return i(this,function(i){switch(i.label){case 0:return 0!=(32&t.$flags$)?[3,5]:(t.$flags$|=32,(o=I(r)).then?(a=U(),[4,o]):[3,2]);case 1:o=i.sent(),a(),i.label=2;case 2:o.isProxied||(r.$watchers$=o.watchers,ye(o,r,2),o.isProxied=!0),s=F(0,r.$tagName$),t.$flags$|=8;try{new o(t)}catch(e){E(e)}return t.$flags$&=-9,t.$flags$|=128,s(),l=W(r.$tagName$),k.has(l)||!o.style?[3,5]:(u=F(0,r.$tagName$),c=o.style,8&r.$flags$?[4,n.e(2).then(n.bind(null,1035)).then(function(e){return e.scopeCss(c,l,!1)})]:[3,4]);case 3:c=i.sent(),i.label=4;case 4:q(l,c,!!(1&r.$flags$)),u(),i.label=5;case 5:return d=t.$ancestorComponent$,f=function(){return ce(e,t,r,!0)},d&&d["s-rc"]?d["s-rc"].push(f):f(),[2]}})})},Ie=function(e,t){if(0==(1&g.$flags$)){var n=F(0,t.$tagName$),r=y(e);if(t.$listeners$&&(r.$rmListeners$=be(e,r,t.$listeners$)),!(1&r.$flags$)){r.$flags$|=1;for(var a=e;a=a.parentNode||a.host;)if(a["s-p"]){ue(r,r.$ancestorComponent$=a);break}t.$members$&&Object.entries(t.$members$).forEach(function(t){var n=t[0];if(31&t[1][0]&&e.hasOwnProperty(n)){var r=e[n];delete e[n],e[n]=r}}),A(function(){return Oe(e,r,t)})}n()}},ke=function(e){if(0==(1&g.$flags$)){var t=y(e);t.$rmListeners$&&(t.$rmListeners$(),t.$rmListeners$=void 0),g.$cssShim$&&g.$cssShim$.removeHost(e)}},Ce=function(e,t){void 0===t&&(t={});var n,r=F(),a=[],s=t.exclude||[],i=p.head,l=f.customElements,u=i.querySelector("meta[charset]"),c=p.createElement("style"),d=[],m=!0;Object.assign(g,t),g.$resourcesUrl$=new URL(t.resourcesUrl||"./",p.baseURI).href,t.syncQueue&&(g.$flags$|=4),e.forEach(function(e){return e[1].forEach(function(t){var r={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};r.$members$=t[2],r.$listeners$=t[3],r.$watchers$={},!h&&1&r.$flags$&&(r.$flags$|=8);var i=r.$tagName$,u=function(e){function t(t){var n=e.call(this,t)||this;return t=n,S(t),1&r.$flags$&&(h?t.attachShadow({mode:"open"}):"shadowRoot"in t||(t.shadowRoot=t)),n}return o(t,e),t.prototype.connectedCallback=function(){var e=this;n&&(clearTimeout(n),n=null),m?d.push(this):g.jmp(function(){return Ie(e,r)})},t.prototype.disconnectedCallback=function(){var e=this;g.jmp(function(){return ke(e)})},t.prototype["s-hmr"]=function(e){},t.prototype.forceUpdate=function(){pe(this,r)},t.prototype.componentOnReady=function(){return y(this).$onReadyPromise$},t}(HTMLElement);r.$lazyBundleIds$=e[0],s.includes(i)||l.get(i)||(a.push(i),l.define(i,ye(u,r,1)))})}),c.innerHTML=a+"{visibility:hidden}.hydrated{visibility:inherit}",c.setAttribute("data-styles",""),i.insertBefore(c,u?u.nextSibling:i.firstChild),m=!1,d.length>0?d.forEach(function(e){return e.connectedCallback()}):g.jmp(function(){return n=setTimeout(ge,30,"timeout")}),r()},Te=function(e,t,n){var r=je(e);return{emit:function(e){return r.dispatchEvent(new CustomEvent(t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e}))}}},je=function(e){return y(e).$hostElement$}},,,,,,function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectReporter=function(e){return"function"==typeof fetch?"fetch":"function"==typeof XMLHttpRequest?"xhr":"object"==typeof window?"jsonp":"node"},t.errors={unauthorized:new Error("airbrake: unauthorized: project id or key are wrong"),ipRateLimited:new Error("airbrake: IP is rate limited")}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)n[r]=a(e[r],t);return n}function a(e,t){return new i(t).truncate(e)}function o(e,t){try{return e[t]}catch(e){return}}function s(e){return Object.prototype.toString.apply(e).slice("[object ".length,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t=64e3);for(var n="",a=0;a<8;a++)if(e.context=r(e.context,a),e.params=r(e.params,a),e.environment=r(e.environment,a),e.session=r(e.session,a),(n=JSON.stringify(e)).length<t)return n;var o=new Error("airbrake-js: cannot jsonify notice (length="+n.length+" maxLength="+t+")");throw o.params={json:n.slice(0,Math.floor(t/2))+"..."},o};var i=function(){function e(e){void 0===e&&(e=0),this.maxStringLength=1024,this.maxObjectLength=128,this.maxArrayLength=32,this.maxDepth=8,this.keys=[],this.seen=[],this.maxStringLength=this.maxStringLength>>e||1,this.maxObjectLength=this.maxObjectLength>>e||1,this.maxArrayLength=this.maxArrayLength>>e||1,this.maxDepth=this.maxDepth>>e||1}return e.prototype.truncate=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=0),null===e||void 0===e)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return String(e)}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return e.toString();if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var r=s(e);if(++n>this.maxDepth)return"[Truncated "+r+"]";switch(this.keys.push(t),this.seen.push(e),r){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var a=this.maxDepth;this.maxDepth=0;var o=this.truncateObject(e,n);return o.__type=r,this.maxDepth=a,o}},e.prototype.getPath=function(e){for(var t=this.seen.indexOf(e),n=[this.keys[t]],r=t;r>=0;r--){var a=this.seen[r];a&&o(a,n[0])===e&&(e=a,n.unshift(this.keys[r]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){var n=0,r=[];for(var a in e){var o=e[a];if(++n>=this.maxArrayLength)break;r.push(this.truncate(o,a,t))}return r},e.prototype.truncateObject=function(e,t){var n=0,r={};for(var a in e){var s=o(e,a);if(void 0!==s&&"function"!=typeof s){if(++n>=this.maxObjectLength)break;r[a]=this.truncate(s,a,t)}}return r},e}();t.truncate=a},function(e,t,n){n(3),e.exports=n(4)},function(e,t){Object.assign||(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++)!function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})}(a[r]);return e})},function(e,t,n){"use strict";var r=n(5),a=n(6),o=n(9),s=n(10),i=n(11),l=n(12),u=n(13),c=n(14),d=n(0),f=n(15),p=n(16),g=n(17),h=n(18),m=n(19),v=function(){function e(e){void 0===e&&(e={});var t=this;this.opts={},this.reporters=[],this.filters=[],this.offline=!1,this.errors=[],this.opts=e,this.opts.host=this.opts.host||"https://api.airbrake.io",this.opts.timeout=this.opts.timeout||1e4,this.processor=e.processor||a.default,this.addReporter(e.reporter||d.detectReporter(e)),this.addFilter(o.default),this.addFilter(s.default()),this.addFilter(i.default),this.addFilter(l.default),"object"==typeof window?(this.addFilter(u.default),"function"==typeof window.addEventListener&&(window.addEventListener("online",this.onOnline.bind(this)),window.addEventListener("offline",function(){return t.offline=!0}))):this.addFilter(c.default),m.historian.registerNotifier(this)}return e.prototype.setProject=function(e,t){this.opts.projectId=e,this.opts.projectKey=t},e.prototype.setHost=function(e){this.opts.host=e},e.prototype.addReporter=function(e){var t;switch(e){case"fetch":t=f.default;break;case"node":t=p.default;break;case"xhr":t=g.default;break;case"jsonp":t=h.default;break;default:t=e}this.reporters.push(t)},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this;"object"==typeof e&&void 0!==e.error||(e={error:e});var n=e.promise||new r.default;if(!e.error){a=new Error("airbrake-js: got err="+JSON.stringify(e.error)+", wanted an Error");return n.reject(a),n}if(this.opts.ignoreWindowError&&e.context&&e.context.windowError){var a=new Error("airbrake-js: window error is ignored");return n.reject(a),n}if(this.offline)return e.promise=n,this.errors.push(e),this.errors.length>100&&this.errors.slice(-100),n;var o={id:"",errors:[],context:Object.assign({language:"JavaScript",severity:"error",notifier:{name:"airbrake-js",version:"0.9.8",url:"https://github.com/airbrake/airbrake-js"}},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},s=m.getHistory();return s.length>0&&(o.context.history=s),this.processor(e.error,function(e,r){o.errors.push(r);for(var a=0,s=t.filters;a<s.length;a++){var i=(0,s[a])(o);if(null===i)return void n.reject(new Error("airbrake-js: error is filtered"));o=i}for(var l=0,u=t.reporters;l<u.length;l++)(0,u[l])(o,t.opts,n)}),n},e.prototype.wrap=function(e){if(e._airbrake)return e;var t=this,n=function(){var n=Array.prototype.slice.call(arguments),r=t.wrapArguments(n);try{return e.apply(this,r)}catch(e){throw t.notify({error:e,params:{arguments:n}}),m.historian.ignoreNextWindowError(),e}};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n._airbrake=!0,n.inner=e,n},e.prototype.wrapArguments=function(e){for(var t in e){var n=e[t];"function"==typeof n&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.wrap(e).apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){m.historian.onerror.apply(m.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=0,t=this.errors;e<t.length;e++){var n=t[e];this.notify(n)}this.errors=[]},e}();e.exports=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.onResolved=[],this.onRejected=[],e&&e(this.resolve.bind(this),this.reject.bind(this))}return e.prototype.then=function(e,t){return e&&(this.resolvedWith?e(this.resolvedWith):this.onResolved.push(e)),t&&(this.rejectedWith?t(this.rejectedWith):this.onRejected.push(t)),this},e.prototype.catch=function(e){return this.rejectedWith?e(this.rejectedWith):this.onRejected.push(e),this},e.prototype.resolve=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.resolvedWith=e;for(var t=0,n=this.onResolved;t<n.length;t++)(0,n[t])(e);return this},e.prototype.reject=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.rejectedWith=e;for(var t=0,n=this.onRejected;t<n.length;t++)(0,n[t])(e);return this},e}();t.default=r},function(e,t,n){"use strict";function r(e){try{return a.parse(e)}catch(t){o&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o="object"==typeof console&&console.warn;t.default=function(e,t){var n=[];if(!e.noStack){var a=r(e);if(0===a.length)try{throw new Error("fake")}catch(e){(a=r(e)).shift(),a.shift()}for(var o=0,s=a;o<s.length;o++){var i=s[o];n.push({function:i.functionName||"",file:i.fileName||"<unknown>",line:i.lineNumber||0,column:i.columnNumber||0})}}t("stacktracejs",{type:e.name?e.name:"",message:e.message?String(e.message):String(e),backtrace:n})}},function(e,t,n){!function(t,r){"use strict";e.exports=r(n(8))}(0,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),a=n.join(" ")||void 0,o=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:a,fileName:o,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=t.split("@"),r=this.extractLocation(n.pop()),a=n.join("@")||void 0;return new e({functionName:a,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),a=[],o=2,s=r.length;o<s;o+=2){var i=n.exec(r[o]);i&&a.push(new e({fileName:i[2],lineNumber:i[1],source:r[o]}))}return a},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),a=[],o=0,s=r.length;o<s;o+=2){var i=n.exec(r[o]);i&&a.push(new e({functionName:i[3]||void 0,fileName:i[2],lineNumber:i[1],source:r[o]}))}return a},parseOpera11:function(n){return n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),a=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var i=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:s,args:i,fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:t})},this)}}})},function(e,t,n){!function(t,n){"use strict";e.exports=n()}(0,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=0;n<l.length;n++)e.hasOwnProperty(l[n])&&void 0!==e[l[n]]&&this["set"+t(l[n])](e[l[n]])}var a=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],s=["fileName","functionName","source"],i=["args"],l=a.concat(o,s,i);r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}};for(var u=0;u<a.length;u++)r.prototype["get"+t(a[u])]=n(a[u]),r.prototype["set"+t(a[u])]=function(e){return function(t){this[e]=Boolean(t)}}(a[u]);for(var c=0;c<o.length;c++)r.prototype["get"+t(o[c])]=n(o[c]),r.prototype["set"+t(o[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[c]);for(var d=0;d<s.length;d++)r.prototype["get"+t(s[d])]=n(s[d]),r.prototype["set"+t(s[d])]=function(e){return function(t){this[e]=String(t)}}(s[d]);return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Script error","Script error.","InvalidAccessError"];t.default=function(e){var t=e.errors[0];return""===t.type&&-1!==r.indexOf(t.message)?null:t.backtrace&&t.backtrace.length>0&&"<anonymous>"===t.backtrace[0].file?null:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t;return function(n){var r=JSON.stringify(n.errors);return r===e?null:(t&&clearTimeout(t),e=r,t=setTimeout(function(){e=""},1e3),n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t.default=function(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t.default=function(e){var t=e.errors[0];if(""!==t.type&&"Error"!==t.type)return e;var n=t.message.match(r);return null!==n&&(t.type=n[1],t.message=n[2]),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}},function(module,exports,__webpack_require__){"use strict";function filter(e){os&&(e.context.os=os.type()+"/"+os.release(),e.context.architecture=os.arch(),e.context.hostname=os.hostname()),e.context.platform=myProcess.platform,e.context.rootDirectory||(e.context.rootDirectory=myProcess.cwd()),myProcess.env.NODE_ENV&&(e.context.environment=myProcess.env.NODE_ENV),e.params.process={pid:myProcess.pid,cwd:myProcess.cwd(),execPath:myProcess.execPath,argv:myProcess.argv};for(var t in["uptime","cpuUsage","memoryUsage"])myProcess[t]&&(e.params.process[t]=myProcess[t]());return os&&(e.params.os={homedir:os.homedir(),uptime:os.uptime(),freemem:os.freemem(),totalmem:os.totalmem(),loadavg:os.loadavg()}),e}Object.defineProperty(exports,"__esModule",{value:!0});var myProcess,os;try{myProcess=eval("process"),os=eval("require")("os")}catch(e){}exports.default=filter},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),o=0;t.default=function(e,t,n){if(Date.now()/1e3<o)n.reject(a.errors.ipRateLimited);else{var s=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,i={method:"POST",body:r.default(e)};fetch(s,i).then(function(t){if(401!==t.status)if(429!==t.status)t.status>=200&&t.status<500?t.json().then(function(t){if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var r=new Error(t.error);n.reject(r)}}):t.text().then(function(e){var r=new Error("airbrake: fetch: unexpected response: code="+t.status+" body='"+e+"'");n.reject(r)});else{n.reject(a.errors.ipRateLimited);var r=t.headers.get("X-RateLimit-Delay");if(!r)return;var s=parseInt(r,10);s>0&&(o=Date.now()/1e3+s)}else n.reject(a.errors.unauthorized)}).catch(function(e){n.reject(e)})}}},function(module,exports,__webpack_require__){"use strict";function report(e,t,n){if(Date.now()/1e3<rateLimitReset)n.reject(reporter_1.errors.ipRateLimited);else{var r=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,a=jsonify_notice_1.default(e);request({url:r,method:"POST",body:a,headers:{"content-type":"application/json"},timeout:t.timeout},function(t,r,a){if(t)n.reject(t);else if(r.statusCode)if(401!==r.statusCode)if(429!==r.statusCode){if(r.statusCode>=200&&r.statusCode<500){var o=JSON.parse(a);if(o.id)return e.id=o.id,void n.resolve(e);if(o.error){var s=new Error(o.error);return void n.reject(s)}}a=a.trim();var i=new Error("airbrake: node: unexpected response: code="+r.statusCode+" body='"+a+"'");n.reject(i)}else{n.reject(reporter_1.errors.ipRateLimited);var l=r.headers["x-ratelimit-delay"];if(!l)return;var u=void 0;if("string"==typeof l)u=l;else{if(!(l instanceof Array))return;u=l[0]}var c=parseInt(u,10);c>0&&(rateLimitReset=Date.now()/1e3+c)}else n.reject(reporter_1.errors.unauthorized);else n.reject(new Error("airbrake: node: statusCode is undefined"))})}}Object.defineProperty(exports,"__esModule",{value:!0});var jsonify_notice_1=__webpack_require__(1),reporter_1=__webpack_require__(0),request;try{request=eval("require")("request")}catch(e){}var rateLimitReset=0;exports.default=report},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0),o=0;t.default=function(e,t,n){if(Date.now()/1e3<o)n.reject(a.errors.ipRateLimited);else{var s=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,i=r.default(e),l=new XMLHttpRequest;l.open("POST",s,!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(4===l.readyState)if(401!==l.status)if(429!==l.status){if(l.status>=200&&l.status<500){var t=JSON.parse(l.responseText);if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var r=new Error(t.error);return void n.reject(r)}}var s=l.responseText.trim(),i=new Error("airbrake: xhr: unexpected response: code="+l.status+" body='"+s+"'");n.reject(i)}else{n.reject(a.errors.ipRateLimited);var u=l.getResponseHeader("X-RateLimit-Delay");if(!u)return;var c=parseInt(u,10);c>0&&(o=Date.now()/1e3+c)}else n.reject(a.errors.unauthorized)},l.send(i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=0;t.default=function(e,t,n){a++;var o="airbrakeCb"+String(a);window[o]=function(t){try{delete window[o]}catch(e){window[o]=void 0}if(t.id)return e.id=t.id,void n.resolve(e);if(t.error){var r=new Error(t.error);n.reject(r)}else{var a=new Error(t);n.reject(a)}};var s=encodeURIComponent(r.default(e)),i=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey+"&callback="+o+"&body="+s,l=window.document,u=l.getElementsByTagName("head")[0],c=l.createElement("script");c.src=i,c.onload=function(){return u.removeChild(c)},c.onerror=function(){u.removeChild(c);var e=new Error("airbrake: JSONP script error");n.reject(e)},u.appendChild(c)}},function(module,exports,__webpack_require__){"use strict";function getHistory(){return exports.historian.getHistory()}Object.defineProperty(exports,"__esModule",{value:!0});var dom_1=__webpack_require__(20),Historian=function(){function Historian(){var _this=this;if(this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0,"object"==typeof window){var self_1=this,oldHandler_1=window.onerror;window.onerror=function(){oldHandler_1&&oldHandler_1.apply(this,arguments),self_1.onerror.apply(self_1,arguments)}}else{var p=eval("process");p.on("uncaughtException",function(e){throw _this.notify(e),e}),p.on("unhandledRejection",function(e,t){_this.notify(e)})}"object"==typeof document&&this.dom(),"object"==typeof console&&this.console(),"function"==typeof fetch&&this.fetch(),"undefined"!=typeof XMLHttpRequest&&this.xhr(),"object"==typeof history&&this.location()}return Historian.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var r=n[t];this.notifyNotifiers(r)}this.errors=[]},Historian.prototype.notify=function(e){this.notifiers.length>0?this.notifyNotifiers(e):(this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen)))},Historian.prototype.notifyNotifiers=function(e){for(var t=0,n=this.notifiers;t<n.length;t++)n[t].notify(e)},Historian.prototype.onerror=function(e,t,n,r,a){this.ignoreWindowError>0||(a?this.notify({error:a,context:{windowError:!0}}):t&&n&&this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},context:{windowError:!0}}))},Historian.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},Historian.prototype.getHistory=function(){return this.history},Historian.prototype.pushHistory=function(e){this.isDupState(e)?this.lastState.num?this.lastState.num++:this.lastState.num=2:(e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen)))},Historian.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e)if("date"!==t&&e[t]!==this.lastState[t])return!1;return!0},Historian.prototype.dom=function(){var e=dom_1.makeEventHandler(this);document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),document.addEventListener("click",e),document.addEventListener("keypress",e),window.addEventListener("error",function(t){"error"in t||e(t)},!0)},Historian.prototype.console=function(){for(var e=this,t=0,n=["debug","log","info","warn","error"];t<n.length;t++)!function(t){if(!(t in console))return"continue";var n=console[t],r=function(){n.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};r.inner=n,console[t]=r}(n[t])},Historian.prototype.fetch=function(){var e=this,t=fetch;window.fetch=function(n,r){var a={type:"xhr",date:new Date};a.url="string"==typeof n?n:n.url,r&&r.method?a.method=r.method:a.method="GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--});var o=t.apply(this,arguments);return o.then(function(t){a.statusCode=t.status,a.duration=(new Date).getTime()-a.date.getTime(),e.pushHistory(a)}),o}},Historian.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r,a,o,s){0===e.ignoreNextXHR&&(this.__state={type:"xhr",method:n,url:r}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){var r=this.onreadystatechange;return this.onreadystatechange=function(t){if(4===this.readyState&&this.__state&&e.recordReq(this),r)return r.apply(this,arguments)},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},Historian.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},Historian.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(n){if(e.recordLocation(document.location.pathname),t)return t.apply(this,arguments)};var n=history.pushState;history.pushState=function(t,r,a){a&&e.recordLocation(a.toString()),n.apply(this,arguments)}},Historian.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?e=(t=(e=e.slice(t+3)).indexOf("/"))>=0?e.slice(t):"/":"/"!==e.charAt(0)&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},Historian}();exports.default=Historian,exports.historian=new Historian,exports.getHistory=getHistory},function(e,t,n){"use strict";function r(e){if(!e)return"";var t=[];if(e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join("."))),e.getAttribute)for(var n=0,r=o;n<r.length;n++){var a=r[n],s=e.getAttribute(a);s&&t.push("["+a+'="'+s+'"]')}return t.join("")}function a(e){for(var t=[],n=e;n;){var a=r(n);if(""!==a&&(t.push(a),t.length>10))break;n=n.parentNode}return 0===t.length?String(e):t.reverse().join(" > ")}Object.defineProperty(t,"__esModule",{value:!0});var o=["type","name","src"];t.makeEventHandler=function(e){return function(t){var n;try{n=t.target}catch(e){return}if(n){var r={type:t.type};try{r.target=a(n)}catch(e){r.target="<"+e.toString()+">"}e.pushHistory(r)}}}}])})},function(e,t,n){e.exports=n(8)(584)},function(e,t,n){e.exports=n(8)(489)},function(e,t,n){e.exports=n(8)(980)},,function(e,t,n){e.exports=n(8)(904)},function(e,t,n){e.exports=n(8)(467)},function(e,t,n){e.exports=n(8)(22)},function(e,t,n){e.exports=n(8)(890)},function(e,t,n){e.exports=n(8)(1321)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=e.controller;return e.controller=new Proxy(t,{get:function(e,t){if("getSignal"===t){var n=e[t];return function(e){var t=n.apply(this,[e]);return function(e){setTimeout(function(){t(e)},0)}}}return e[t]}}),e}}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){return e&&e.__esModule?e:{default:e}}(n(521)),u=function(e){function t(e){var n=e.initialDataSignals,s=void 0===n?{}:n,i=r(e,["initialDataSignals"]);a(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return l.initialDataSignals=s,l}return s(t,l.default),i(t,[{key:"runInitialData",value:function(){var e=this,t=[];return Object.keys(this.initialDataSignals).forEach(function(n){var r=e.initialDataSignals[n];t.push(e.run(n+"__INITIAL_DATA",r))}),Promise.all(t)}}]),t}();t.default=u},function(e,t,n){e.exports=n(8)(840)},function(e,t,n){e.exports=n(8)(342)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if("inProgress"===n[e.name])throw new Error("cyclic dependencies found");"done"!==n[e.name]&&(n[e.name]="inProgress",e.depends&&e.depends.length&&e.depends.forEach(function(e){a(e,t,n)}),t.push(e),n[e.name]="done")}function o(e){if(e.displayName)return e.displayName;var t=e.toString();return t=t.substr("function ".length),t=t.substr(0,t.indexOf("("))}function s(e){var t=e.name,n=t.lastIndexOf("/")+1,r=t.lastIndexOf(".");return r<0&&(r=t.length),t.substr(n,r-n)}function i(e,t){return t.forEach(function(t){if((0,l.default)(t))t.displayNamePrcessed||(t.displayNamePrcessed=!0,t.displayName=e+o(t));else if((0,u.default)(t))i(e,t);else{if(!(0,c.default)(t))throw Error("unknown action: "+t);i(e,(0,d.default)(t))}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.composeSignals=function(e){var t=[],n={};return e.forEach(function(e){a(e,t,n)}),t.reduce(function(e,t){var n=s(t)+"/",r=t.signals||{};return Object.keys(r).reduce(function(e,t){return e[t]=(e[t]||[]).concat(i(n,r[t]||[])),e},e)},{})},t.composeInitialDataSignal=function(e){var t=[];return e.forEach(function(e){var n=s(e)+"/",r=e.signals&&e.signals.INITIAL_DATA;r&&(i(n,r),t.push([r]))}),t},t.composeServices=function(e,t){return e.reduce(function(e,n){var r=n.getServices&&n.getServices(t)||{};return Object.keys(r).reduce(function(e,t){if(void 0!==e[t])throw new Error("conflict key: "+t+" in services");return e[t]=r[t],e},e)},{})},t.composeState=function(e,t){return e.reduce(function(e,n){var r=n.getState&&n.getState(t||{})||{};return Object.keys(r).reduce(function(e,t){if(void 0!==e[t])throw new Error("conflict key: "+t+" in state");return e[t]=r[t],e},e)},{})};var l=r(n(524)),u=r(n(525)),c=r(n(438)),d=r(n(526))},function(e,t,n){e.exports=n(8)(144)},function(e,t,n){e.exports=n(8)(214)},function(e,t,n){e.exports=n(8)(969)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(528);n.d(t,"applyPolyfills",function(){return r.a});var a=n(529);n.d(t,"defineCustomElements",function(){return a.a}),function(){if(void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}()},function(e,t,n){"use strict";t.a=function(){var e=window,t=[];return e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove)||t.push(n.e(1).then(n.bind(null,1030))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(0).then(n.bind(null,1031))),Promise.all(t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(503),a=function(e,t){return Object(r.a)().then(function(){Object(r.b)([["drop-down_4",[[1,"unity-account-switcher",{config:[1],_config:[32],_user:[32],_otherUsers:[32],_showDropdown:[32],_loginDialog:[32],_accountsLoading:[32],_height:[32],_windowHeight:[32]},[[8,"click","handleClick"]]],[1,"drop-down",{users:[16],menuItems:[16],loading:[4],logoutRedirectURL:[1,"logout-redirect-u-r-l"],currentUser:[16],userProfileURL:[1,"user-profile-u-r-l"],clientID:[1,"client-i-d"],switchAccountRidirectURL:[1,"switch-account-ridirect-u-r-l"],_editModeAccountID:[32],_showAllAccounts:[32]}],[1,"login-dialog",{loginRedirectURL:[1,"login-redirect-u-r-l"],dialogData:[16],clientID:[1,"client-i-d"],_loading:[32]}],[1,"user-avatar",{user:[16],size:[1]}]]]],t)})}},function(e,t,n){function r(e){var t=a[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var a={"./drop-down_4.entry.js":[1032,3]};r.keys=function(){return Object.keys(a)},r.id=530,e.exports=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["header","tooltips"];t.default={name:e,depends:[],signals:{tooltipShow:[function(e){var t=e.props;e.state.set([].concat(n,[t.id]),t)}],tooltipHide:[function(e){var t=e.props;e.state.unset([].concat(n,[t.id]))}]},getState:function(){return{tooltips:{}}}}}).call(t,"views/modules/common/header/TooltipStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.props,n=e.state,r=n.get(i),a=r[t.id];if(a){var l=!1;o.default.forEach(r,function(e){return e.dependsOn!==t.id||(l=!0,!1)}),l||(s.default.remove(a.popoutElementId),n.unset([].concat(i,[t.id])))}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(22)),s=r(n(147)),i=["header","popouts"];t.default={name:e,depends:[],signals:{popoutOpen:[function(e){var t=e.props,n=e.state,r=n.get(i);o.default.forEach(r,function(e){t.dependsOn&&e.id!==t.id||a({input:e,state:n})}),n.set([].concat(i,[t.id]),t)}],popoutClose:[a],popoutUpdate:[function(e){e.state.set(["header","popoutsTicks"],Date.now())}]},getState:function(){return{popouts:{},popoutsTicks:0}}}}).call(t,"views/modules/common/header/PopoutStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return e.length===h}function s(e,t){return function(n){var r=n.props,a=n.state,o=r.id,s=a.get(p).map(function(n){return n.id===o?i({},n,{show:e,toRemove:t}):n});a.set(p,s)}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=r(n(116)),u=r(n(117)),c=r(n(118)),d=n(6),f=r(n(50)),p=["header","inPageNotification"],g=n(51),h=1;t.default={name:e,depends:[],signals:{inPageNotificationNotice:[function(e){var t=e.props,r=e.state,s=n(39).get("DesktopNotificationNotice.dismissed");if(!l.default.hasPermission()||s){var i=r.get(p),h=r.get(),m=t.currentHost,v=t.type,_=t.data,y=_.role,b=(0,c.default)(v,y,_),S=(0,d.i18n)(h,u.default,v+"_"+y+"_text",_);v.startsWith("ods")&&(b=(0,f.default)(b,m));var w={tag:"notifications",onClick:function(){window.focus();var e=b;e+=(e.indexOf("?")>-1?"&":"?")+"_nid="+t.id,window.location.href=e}};o(i)&&(i=i.slice(0,i.length-1)),r.set(p,[].concat(a(i),[{id:t.id,icon:g,title:"Unity Connect",body:S,options:w,show:!1,toRemove:!1,type:v,data:_}]))}}],requestInPageNotificationShow:[s(!0,!1)],requestInPageNotificationHide:[s(!1,!1)],requestInPageNotificationToRemove:[s(!1,!0)],requestInPageNotificationRemove:[function(e){var t=e.props,n=e.state,r=t.id,a=n.get(p);n.set(p,a.filter(function(e){return e.id!==r}))}]},getState:function(){return{inPageNotification:[]}}}}).call(t,"views/modules/common/header/InPageNotificationStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"moment",n=void 0;if(Array.isArray(e))for(var r=0;r<e.length&&!(n="moment"===t?u.default.MOMENT_LOCALE[e[r]]:u.default.NUMBRO_LOCALE[e[r]]);r++);else n="moment"===t?u.default.MOMENT_LOCALE[e]:u.default.NUMBRO_LOCALE[e];return n}function o(e){return{number:function(e,t,n){return i.default.culture(a(t,"numbro")||"en-US"),(0,i.default)(e).format(n)},unNumber:function(e,t){return i.default.culture(a(t,"numbro")||"en-US"),(0,i.default)().unformat(e)},date:function(t,n,r){var o=(0,l.default)(t);e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),o.format(r||"ll")},time:function(t,n,r){var o=(0,l.default)(t);e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),o.format(r||"LT")},datetime:function(t,n,r){var o=(0,l.default)(t);e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),o.format(r||"lll")},fromNow:function(t,n,r){var o=(0,l.default)(t);e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),o.fromNow(r&&!0)},fromNowShort:function(t,n){var r=(0,l.default)(t);e&&r.utcOffset(parseInt(e,10));var o=a(n);return o&&r.locale(o),r.fromNow(!0)},toNow:function(t,n,r){var o=(0,l.default)(t);e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),o.toNow(r&&!0)},calendar:function(t,n){var r=(0,l.default)(t);e&&r.utcOffset(parseInt(e,10));var o=a(n);return o&&r.locale(o),r.calendar()},timeMonthYear:function(t,n,r){var o=(0,l.default)(t);if(o.year()>=5e3)return"Present";e&&o.utcOffset(parseInt(e,10));var s=a(n);return s&&o.locale(s),"zh-cn"===s?o.format(r||"YYYY  MMM"):o.format(r||"MMM  YYYY")}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=t+":"+n,a=c[r];a||(a=c[r]=new s.default(t,null,o(n)));var i=d[t];i||(i=d[t]={});var l=i[e];return l||(l=i[e]=a.compile(e)),{format:l}};var s=r(n(535)),i=r(n(148)),l=r(n(42)),u=r(n(14)),c={},d={}},function(e,t,n){e.exports=n(8)(976)},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["loginUser.expandKey"],["loginUser.expandKey"]),o=r(["key"],["key"]),s=n(9),i=n(0),l=["header","setting"];t.default={name:e,depends:[],signals:{nop:[function(){}],setHeaderPosition:[function(e){var t=e.props,n=e.state,r=t.headerTop,a=t.scrollTop;n.merge(l,{headerTop:r,scrollTop:a})}],setCurrHeaderTop:[function(e){var t=e.props,n=e.state,r=t.currHeaderTop;n.merge(l,{currHeaderTop:r})}],messagesOpen:[function(e){var t=e.state;t.get([].concat(l,["messagesOpen"]))||t.set([].concat(l,["messagesOpen"]),!0)}],messagesClose:[function(e){var t=e.state;t.get([].concat(l,["messagesOpen"]))&&t.set([].concat(l,["messagesOpen"]),!1)}],setWindowSize:[function(e){var t=e.state;if(window||document){var n=window&&window.innerWidth||document&&(document.documentElement.clientWidth||document.body.clientWidth),r=window&&window.innerHeight||document&&(document.documentElement.clientHeight||document.body.clientHeight),a=t.get(l),o=a.windowWidth,s=a.windowHeight;n===o&&r===s||t.merge(l,{windowWidth:n,windowHeight:r})}}],sideMenuOpen:[function(e){var t=e.state;t.get([].concat(l,["sideMenuOpen"]))||t.set([].concat(l,["sideMenuOpen"]),!0)}],sideMenuClose:[function(e){var t=e.state;t.get([].concat(l,["sideMenuOpen"]))&&t.set([].concat(l,["sideMenuOpen"]),!1)}],appSwitcherOpen:[function(e){var t=e.state;t.get([].concat(l,["appSwitcherOpen"]))||t.set([].concat(l,["appSwitcherOpen"]),!0)}],appSwitcherClose:[function(e){var t=e.state;t.get([].concat(l,["appSwitcherOpen"]))&&t.set([].concat(l,["appSwitcherOpen"]),!1)}],setExpandKey:[(0,s.set)((0,i.state)(a),(0,i.props)(o))]},getServices:function(e){window.addEventListener("resize",function(){e.getSignal("header.setWindowSize")()})},getState:function(){return{setting:{headerHeight:72,sunsetHeight:91,headerTop:0,scrollTop:0,currHeaderTop:0,windowWidth:0,windowHeight:0,sideMenuOpen:!1,messagesOpen:!1,appSwitcherOpen:!1}}}}}).call(t,"views/modules/common/header/HeaderSettingStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["header","popupMessages"];t.default={name:e,depends:[],signals:{showMessage:[function(e){var t=e.props,r=e.state,a=t||{},o=a.message,s=a.type,i=a.params,l=void 0===i?{}:i,u={message:o,type:s,duration:2,lastClicking:Date.now(),params:l};r.set(n,u)}],hideMessage:[function(e){e.state.set([].concat(n,["duration"]),0)}]},getServices:function(){return{}},getState:function(){return{popupMessages:{}}}}}).call(t,"views/modules/common/header/PopupMessageStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.props,n=e.state,r=e.controller;if("/jobs/0/new"===n.get("currentPath"))r.getSignal("job.closeRecruit")();else{var a=t.query,o=t.source,s=a?"/jobs/0/new?"+a:"/jobs/0/new";if("home"===o){var i={postType:"job"};r.getSignal("header.sendCDPRequest")({type:"post",data:i,redirectUrl:s})}else if("header"===o){var u={menuType:"jobs",subtype:"post_jobs"};r.getSignal("header.sendCDPRequest")({type:"menu",data:u,redirectUrl:s})}else(0,l.default)(s)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(52)),s=r(n(53)),i=r(n(31)),l=r(n(19));t.default={name:e,depends:[],signals:{postJob:i.default.LoginRequired(s.default.EmailRequired(o.default.TfaNotified(a,"header.postJobInternal"))),postJobInternal:[a]},getServices:function(){},getState:function(){return{}}}}).call(t,"views/modules/common/header/PostJobStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t=e.props,n=e.state,r=t.teamId,a=t.challengeId;r&&n.set([].concat(m,["teamId"]),r),a&&n.set([].concat(m,["challengeId"]),a),n.set([].concat(m,["open"]),!0)}function s(e){var t=e.props,n=e.state,r=e.controller,a=t.type,o=t.skipPopup,s=void 0!==o&&o,i=t.groupId,l=void 0===i?"":i,u=t.source,c=n.get([].concat(m)),p=c.teamId,g=c.challengeId,h="/p/0/new?type="+a,v=t.teamId||p,_=t.challengeId||g;if(v&&(h+="&teamId="+v),_&&(h+="&challengeId="+_),l&&(h+="&groupId="+l),!0===s)if("home"===u){var y={postType:a};r.getSignal("header.sendCDPRequest")({type:"post",data:y,redirectUrl:h})}else(0,f.default)(h);else{if("home"===u){var b={postType:a};r.getSignal("header.sendCDPRequest")({type:"post",data:b,redirectUrl:h})}else(0,d.default)(h);n.merge(m,{noAnimation:!0,open:!1})}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(["header.postProject.teamId"],["header.postProject.teamId"]),l=a(["header.postProject.challengeId"],["header.postProject.challengeId"]),u=n(9),c=n(0),d=r(n(44)),f=r(n(19)),p=r(n(52)),g=r(n(53)),h=r(n(31)),m=["header","postProject"];t.default={name:e,depends:[],signals:{openCreateDialog:h.default.LoginRequired(g.default.EmailRequired(o)),openCreateDialogInternal:[o],closeCreateDialog:[function(e){e.state.set(m,{open:!1})},(0,u.set)((0,c.state)(i),""),(0,u.set)((0,c.state)(l),"")],createProjectByType:g.default.EmailRequired(p.default.TfaNotified(s,"header.createProjectByTypeInternal")),createProjectByTypeInternal:[s],toggleSelectGame:[function(e){var t=e.state,n=t.get("header.postProject.isSelectGameMode");t.set("header.postProject.isSelectGameMode",!n)}]},getState:function(){return{postProject:{open:!1,isSelectGameMode:!1,teamId:"",challengeId:""}}}}}).call(t,"views/modules/common/header/PostProjectStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.props;if("/s/0/new"!==e.state.get("currentPath")){var n=t.query,r=n?"/s/0/new?"+n:"/s/0/new";(0,l.default)(r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(52)),s=r(n(53)),i=r(n(31)),l=r(n(19));t.default={name:e,depends:[],signals:{postSchool:i.default.LoginRequired(s.default.EmailRequired(o.default.TfaNotified(a,"header.postSchoolInternal"))),postSchoolInternal:[a]},getServices:function(){},getState:function(){return{}}}}).call(t,"views/modules/common/header/PostSchoolStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.state,n=e.http,r=e.path;return t.get("currentUserId")?n.get("/api/user/current").then(r.success).catch(r.error):r.dummy()},{success:[function(e){var t=e.props,n=e.state,r=t.result;200===t.status&&r&&(n.set("loginUser",r),r.emailRequired&&n.set("header.setting.headerHeight",100))}],dummy:[]}]},getServices:function(){},getState:function(){return{}}}}).call(t,"views/modules/common/header/LoginUserStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.browserConfirmDialog.open"],["header.browserConfirmDialog.open"]),a=n(9),o=n(0);t.default={name:e,depends:[],signals:{openBrowserConfirmDialog:[(0,a.set)((0,o.state)(r),!0)],closeBrowserConfirmDialog:[(0,a.set)((0,o.state)(r),!1)]},getState:function(){return{browserConfirmDialog:{open:!1}}}}}).call(t,"views/modules/common/header/BrowserCheckStore.js")},function(e,t,n){"use strict";(function(e){function n(e){if(e&&wx){var t=e.title,n=e.link,r=e.imgUrl;wx.onMenuShareTimeline({title:t,link:n,imgUrl:r})}}function r(e){if(e&&wx){var t=e.title,n=e.desc,r=e.link,a=e.imgUrl;wx.onMenuShareAppMessage({title:t,desc:n,link:r,imgUrl:a})}}function a(e){if(e&&wx){var t=e.title,n=e.desc,r=e.link,a=e.imgUrl;wx.onMenuShareQQ({title:t,desc:n,link:r,imgUrl:a})}}function o(e){if(e&&wx){var t=e.title,n=e.desc,r=e.link,a=e.imgUrl;wx.onMenuShareWeibo({title:t,desc:n,link:r,imgUrl:a})}}function s(e){if(e&&wx){var t=e.title,n=e.desc,r=e.link,a=e.imgUrl;wx.onMenuShareQZone({title:t,desc:n,link:r,imgUrl:a})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{weixinConfig:[function(e){var t=e.state.get("weixinConfig");if(t&&wx){var i=t.appId,l=t.timestamp,u=t.nonceStr,c=t.signature,d=t.debug;wx.config({appId:i,timestamp:l,nonceStr:u,signature:c,debug:d,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"]}),wx.ready(function(){n(t),r(t),a(t),o(t),s(t)}),wx.error(function(e){return console.log(e)})}}]},getState:function(){return{}}}}).call(t,"views/modules/common/header/WeixinConfigStore.js")},function(e,t,n){"use strict";(function(e){function n(e,t){return function(n){var r=n.props;n.state.set(a,{open:!0,signalPath:e,actionProps:r,type:t})}}function r(e){e.state.set(a,{open:!1,signalPath:"",actionProps:{},type:"default",loadingStatus:""})}Object.defineProperty(t,"__esModule",{value:!0});var a="header.deleteConfirmDialog";t.default={name:e,depends:[],signals:{openDeleteConfirm:[n],closeDeleteConfirm:[r],doConfirmDelete:[function(e){var t=e.state,n=e.controller,r=t.get(a),o=r.signalPath,s=r.actionProps,i=n.getSignal(o);i&&i(s)},r]},getServices:function(){},getState:function(){return{deleteConfirmDialog:{open:!1,type:"default",signalPath:"",actionProps:{}}}},DeleteConfirmed:function(e){return[n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default")]}}}).call(t,"views/modules/common/header/DeleteConfirmStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["header.getRecentSearchStatus"],["header.getRecentSearchStatus"]),o=r(["header.deleteSearchLogStatus"],["header.deleteSearchLogStatus"]),s=n(9),i=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(7));t.default={name:e,depends:[],signals:{getRecentSearch:[(0,s.set)((0,i.state)(a),l.default.inProgress),function(e){var t=e.http,n=e.path;return t.get("/api/search/recentSearch").then(n.success).catch(n.error)},{success:[(0,s.set)((0,i.state)(a),l.default.succeeded),function(e){var t=e.state,n=e.props.result;n&&t.set("header.recentSearch",n.keywords||[])}],error:[(0,s.set)((0,i.state)(a),l.default.failed)]}],deleteSearchLog:[(0,s.set)((0,i.state)(o),l.default.inProgress),function(e){var t=e.state,n=e.props,r=n.keyword,a=n.deleteAll;if(void 0!==a&&a)t.set("header.recentSearch",[]);else{var o=t.get("header.recentSearch").findIndex(function(e){var t=e.keyword;return r===t});o>=0&&t.splice("header.recentSearch",o,1)}},[function(e){var t=e.props,n=e.http,r=e.path,a=t.keyword,o=t.deleteAll,s=void 0!==o&&o;return n.post("/api/search/deleteSearchLog",{keyword:a,deleteAll:s}).then(r.success).catch(r.error)},{success:[(0,s.set)((0,i.state)(o),l.default.succeeded)],error:[(0,s.set)((0,i.state)(o),l.default.failed)]}]],initSearchData:[function(e){var t=e.controller;t.getSignal("header.getRecentSearch")(),t.getSignal("header.getPopularSearch")()}]},getState:function(){return{recentSearch:[]}}}}).call(t,"views/modules/common/header/RecentSearchStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.getPopularSearchStatus"],["header.getPopularSearchStatus"]),a=n(9),o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(n(7));t.default={name:e,depends:[],signals:{getPopularSearch:[(0,a.set)((0,o.state)(r),s.default.inProgress),function(e){var t=e.http,n=e.path;return t.get("/api/search/popularSearch").then(n.success).catch(n.error)},{success:[(0,a.set)((0,o.state)(r),s.default.succeeded),function(e){var t=e.state,n=e.props.result;n&&t.set("header.popularSearch",n)}],error:[(0,a.set)((0,o.state)(r),s.default.failed)]}]},getState:function(){return{popularSearch:[]}}}}).call(t,"views/modules/common/header/PopularSearchStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return[function(t){var n=t.props;return{field:[].concat(o(S),[e]),value:n.value,touched:!0}}].concat(o(p.chains.fieldChanged))}function i(e){var t=e||{},n=t.id,r=t.avatar,a=t.name,o=t.categoryIds,s=t.description,i=t.privacy,l=t.preferredLanguages,u=t.tags,c=t.unityLicense,d=l&&l.length>0&&l[0]||"";return(0,p.Form)({id:{value:n},avatar:{value:r,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},name:{value:a,validations:["isValue","maxLength:60"],errorMessages:["error_isRequired","error_maxLength60"],isRequired:!0},category:{value:o&&o.length>0&&o[0]||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:s,validations:["isValue","maxLength:1000"],errorMessages:["error_isRequired","error_maxLength1000"],isRequired:!0},privacy:{value:i,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},language:{value:d},tags:{value:u||[]},unityLicense:{value:c}})}Object.defineProperty(t,"__esModule",{value:!0});var l=a(["header.groupBaseDataStatus"],["header.groupBaseDataStatus"]),u=a(["",".updateStatus"],["",".updateStatus"]),c=a(["",".show"],["",".show"]),d=n(9),f=n(0),p=n(21),g=n(7),h=r(g),m=n(11),v=r(n(19)),_=r(n(44)),y=r(n(77)),b=["header","createGroupDialog"],S=[].concat(b,["form"]),w=10;t.default={name:e,depends:[],signals:{getGroupBaseData:[(0,d.set)((0,f.state)(l),h.default.inProgress),function(e){var t=e.http,n=e.path;return t.get("/api/group/0/getGroupOptions",{isCreate:!0}).then(n.success).catch(n.error)},{success:[function(e){var t=e.state,n=e.props.result,r=n.categoryOptions,a=n.languageOptions;t.set("header.groupCategory",r),t.set("header.languageOptions",a)},(0,d.set)((0,f.state)(l),h.default.succeeded)],error:[(0,d.set)((0,f.state)(l),h.default.failed)]}],changeGroupAvatar:s("avatar"),changeGroupName:s("name"),changeGroupCategory:s("category"),changeDescription:s("description"),changePrivacyField:s("privacy"),changeLanguage:s("language"),changeLicense:s("unityLicense"),changePrivacy:[function(e){var t=e.props,n=e.controller,r=t.value;n.getSignal("header.changePrivacyField")({value:r}),n.getSignal("header.changeLicense")({value:""})}],changeTags:s("tags"),addTag:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.value,s=a.id,i=n.get([].concat(o(S),["tags"])).value;if(i.findIndex(function(e){return e===s})<0)if(i.length>=w)r.getSignal("header.showMessage")({message:"project_tags_limit"});else{var l=[].concat(o(i));l.unshift(s),r.getSignal("header.changeTags")({value:l}),n.set([].concat(b,["skillMap",s]),a)}}],deleteTag:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.value,s=n.get([].concat(o(S),["tags"])).value,i=s.findIndex(function(e){return e===a});if(i>=0){var l=[].concat(o(s));l.splice(i,1),r.getSignal("header.changeTags")({value:l})}}],createGroup:[function(e){return e.props.formPath?{}:{formPath:[].concat(o(S))}}].concat(o(p.chains.formValidated),[function(e){var t=e.state,n=e.path,r=t.get(S);return(0,p.isValidForm)(r)?n.yes():n.no()},{yes:[(0,d.set)((0,f.state)(u,b.join(".")),h.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=t.get(S);if((0,p.isValidForm)(a)){var o={id:a.id.value,avatar:a.avatar.value,name:a.name.value,category:a.category.value,description:a.description.value,privacy:a.privacy.value,language:a.language.value,tags:a.tags.value,unityLicense:a.unityLicense.value},s=y.default.getRequestHeaderOption(t);return n.post("/api/group/0/create",o,s).then(r.success).catch(r.error)}return r.dummy()},{success:[(0,d.set)((0,f.state)(u,b.join(".")),h.default.succeeded),function(e){var t=e.state,n=e.props,r=e.controller,a=n.isEdit,o=void 0!==a&&a,s=n.result,i=s.group,l=s.skillMap,u=s.languageMap;if(o)t.set(["group","group"],i),t.merge(["group","skillMap"],l||{}),t.merge(["group","languageMap"],u||{}),r.getSignal("header.closeCreateGroupDialog")();else{var c=i.id,d=i.slug;(0,v.default)("/g/"+(d||c)+"?setup=true")}}],error:[(0,d.set)((0,f.state)(u,b.join(".")),h.default.failed),function(e){var t=e.props,n=e.controller,r=(t.result||{}).errorCode;"DuplicateParameter"===r?n.getSignal("header.showMessage")({message:"group_name_duplicate"}):y.default.recaptchaError(r,n)||(0,m.onError)("group")({props:t,controller:n})}],dummy:[]}]],no:[]}]),openCreateGroupDialog:[function(e){var t=e.state,n=e.props,r=n.group,a=n.skillMap;r&&t.set([].concat(b,["isEdit"]),!0),a&&t.set([].concat(b,["skillMap"]),a),t.set(S,i(r))},function(e){var t=e.state,n=e.controller,r=t.get("header.groupCategory")||[],a=t.get("header.groupBaseDataStatus");0!==r.length||(0,g.isLoadingOrSucceeded)(a)||n.getSignal("header.getGroupBaseData")()},(0,d.set)((0,f.state)(c,b.join(".")),!0),(0,d.set)((0,f.state)(u,b.join(".")),h.default.initial)],closeCreateGroupDialog:[(0,d.set)((0,f.state)(c,b.join(".")),!1)],closePaymentResultDialog:[function(e){var t=e.state,n=e.props.refresh;t.set("header.paymentResultDialog.show",!1),n&&window.location.reload()}],buyLicense:[function(e){var t=e.state;(0,_.default)("https://store.unity.com/","_blank"),t.set("header.paymentResultDialog.show",!0)}]},getState:function(){return{createGroupDialog:{show:!1,isEdit:!1,form:i()},groupCategory:[],languageOptions:[],paymentResultDialog:{show:!1}}}}}).call(t,"views/modules/common/header/CreateGroupStore.js")},function(e,t,n){"use strict";var r=n(120);e.exports=function(e){return(e=e||{}).rules&&Object.keys(e.rules).forEach(function(t){r[t]=e.rules[t]}),function(e,t){e.alias("cerebral-module-forms"),e.addSignals({fieldAdded:n(439),fieldRemoved:n(442),fieldChanged:{chain:n(443),immediate:!0},formAdded:n(556),formRemoved:n(558),formValidated:n(447),reset:n(448)})}}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){var t=e.props,n=e.state,a=r(t.fieldPath);n.unset(a)}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){var t=e.props,n=e.state,a=r(t.field).concat("isTouched"),o=n.get(a);n.set(a,t.touched||o||!1)}},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){var t=e.props,n=e.state,a=r(t.field);n.set(a.concat("value"),t.value)}},function(e,t,n){"use strict";var r=n(441),a=n(38);e.exports=function(e){var t=e.props,n=e.state,o=a(t.field),s=o.slice(),i=s.pop(),l=n.get(s),u=l[i];n.set(o.concat("hasValue"),r(l,u.value,u.isValue))}},function(e,t,n){"use strict";var r=n(444),a=n(38);e.exports=function(e){var t=e.props,n=e.state,o=a(t.field).slice(),s=n.get(o);n.merge(o,{isValid:t.preventValidation?s.isValid:!r(s),errorMessage:null})}},function(e,t,n){"use strict";function r(e){var t=e.state.get(e.props.field);return!e.props.preventValidation&&t.validations&&t.hasValue?e.path.yes():e.path.no()}r.outputs=["yes","no"],e.exports=r},function(e,t,n){"use strict";e.exports=function(){for(var e="."===arguments[1][0]||".."===arguments[1][0]?0:1,t=arguments[e].slice(),n=e+1;n<arguments.length;n++)t=arguments[n].reduce(function(e,t){return"."===t?e:".."===t?e.slice(0,-1):e.concat(t)},t);return t}},function(e,t,n){"use strict";e.exports=[n(557)]},function(e,t,n){"use strict";var r=n(446),a=n(38);e.exports=function(e){var t=e.props,n=e.state,o=a(t.formPath).slice(),s=n.get(o);Array.isArray(s)?n.push(o,r(t.formDetails)):n.set(o,r(t.formDetails))}},function(e,t,n){"use strict";e.exports=[n(559)]},function(e,t,n){"use strict";var r=n(38);e.exports=function(e){var t=e.props,n=e.state,a=r(t.formPath).slice(),o=n.get(a),s=a.pop();Array.isArray(o)?n.splice(a,s,1):n.unset(a.concat(s))}},function(e,t,n){"use strict";var r=n(444),a=n(152),o=n(38);e.exports=function(e){var t=e.props,n=e.state,s=o(t.formPath).slice(),i=n.get(s),l=function e(t,n){Object.keys(n).forEach(function(r){Array.isArray(n[r])?u(t.concat(r),n[r]):"value"in n[r]?c(t.concat(r),n,r):e(t.concat(r),n[r])})},u=function(e,t){t.forEach(function(t,n){l(e.concat(n),t)})},c=function(e,t,o){var s=t[o],i=a(t,s.value,s.validations),l=i.isValid&&!r(s);n.merge(e,{isValid:l,errorMessage:l?null:s.errorMessages[i.failedRuleIndex],isTouched:!0})};l(s,i)}},function(e,t,n){"use strict";var r=n(151),a=n(38);e.exports=function(e){var t=e.props,n=e.state,o=a(t.formPath).slice(),s=n.get(o),i=function e(t){return Object.keys(t).reduce(function(n,a){if(Array.isArray(t[a]))n[a]=l(t[a]);else if("value"in t[a]){var o=Object.keys(t[a]).reduce(function(e,n){return e[n]=t[a][n],e},{});o.value=o.defaultValue,n[a]=r(t,o)}else n[a]=e(t[a]);return n},{})},l=function(e){return e.reduce(function(e,t,n){return e[n]=i(t),e},[])};n.set(o,i(s))}},function(e,t,n){"use strict";var r=n(449),a=n(563);e.exports=function(e){return r(e,a)}},function(e,t,n){"use strict";e.exports=function(e){return e.isValid&&(!e.isRequired||e.isRequired&&e.hasValue)}},function(e,t,n){"use strict";var r=n(449),a=n(565);e.exports=function(e){return r(e,a)}},function(e,t,n){"use strict";e.exports=function(e){return e.isValidating}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":r(e))||null===e||"object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var s=a.bind(t),i=0;i<n.length;i++)if(!s(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t=e.state.get("header.matching.question").id;(0,f.default)("/client/question/?questionId="+t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(["header.matching.editRequestFormStatus"],["header.matching.editRequestFormStatus"]),i=a(["header.matching.widgetShow"],["header.matching.widgetShow"]),l=a(["header.matching.closeQuestionStatus"],["header.matching.closeQuestionStatus"]),u=n(9),c=n(0),d=r(n(42)),f=r(n(54)),p=r(n(7)),g=void 0;t.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.state,n=e.http,r=e.path;return t.get("currentUserId")?n.get("/api/livehelp/client/getCurrentMatchingData").then(r.success).catch(r.error):r.dummy()},{success:[function(e){var t=e.state,n=e.props.result,r=n.question,a=n.users,o=n.acceptedUser,s=n.totalWithoutBudget,i=n.waitingFinished;if(r){var l=r.matchingStartTime,u=r.status,c=r.type,f=parseInt((0,d.default)().diff((0,d.default)(l))/1e3,10),p=t.get("currentPath");t.set("header.matching.question",r),t.set("header.matching.users",a||[]),t.set("header.matching.acceptedUser",o),t.set("header.matching.seconds",f),t.set("header.matching.totalWithoutBudget",s),t.set("header.matching.waitingFinished",i),-1!==p.indexOf("/matching")||-1!==p.indexOf("/workspace")||"realtime"!==c||"matching"!==u&&"matching_finished"!==u&&"accepted"!==u||t.set("header.matching.widgetShow",!0)}}],dummy:[]}],matchingResultReceived:[function(e){var t=e.state,n=e.props,r=n.users,a=n.total;t.set("header.matching.users",r||[]),t.set("header.matching.question.requests",a)}],matchingFinishedResultReceived:[function(e){var t=e.state,n=e.props,r=n.users,a=n.total,o=n.totalWithoutBudget;t.set("header.matching.users",r||[]),t.set("header.matching.totalWithoutBudget",o),t.set("header.matching.question.status","matching_finished"),t.set("header.matching.question.requests",a)}],matchingWaitingFinishedResultReceived:[function(e){var t=e.state,n=e.props.totalWithoutBudget;t.set("header.matching.totalWithoutBudget",n),t.set("header.matching.waitingFinished",!0)}],requestAccepted:[function(e){var t=e.state,n=e.props.acceptedUser,r=(t.get("header.matching.question")||{}).id;if(r){var a=t.get("currentPath");t.merge("header.matching.question",{acceptedUserId:n.id,status:"accepted"}),t.set("header.matching.acceptedUser",n),-1!==a.indexOf("/matching")&&(0,f.default)("/workspace/"+r)}}],requestDeclined:[function(e){var t=e.state,n=e.props,r=n.requests,a=n.declinedRequests,o=n.status;t.merge("header.matching.question",{requests:r,declinedRequests:a,status:o})}],startMatchingTimer:[function(e){var t=e.controller;g=setInterval(function(){return t.getSignal("header.increaseSeconds")()},1e3)}],increaseSeconds:[function(e){var t=e.state,n=t.get("header.matching.seconds");t.set("header.matching.seconds",n+1)}],endTimer:[function(){g&&clearInterval(g)}],onEditRequestForm:[(0,u.set)((0,c.state)(s),p.default.inProgress),function(e){var t=e.http,n=e.path;return t.post("/api/livehelp/editResponse",{source:"waiting_screen"}).then(n.success).catch(n.error)},{success:[o],error:[o]}],closeMatchingWidget:[(0,u.set)((0,c.state)(i),!1)],continueWaiting:[function(e){var t=e.state,n=e.http,r=e.path,a=t.get("header.matching.question").id;return n.post("/api/livehelp/client/continueWaiting",{questionId:a}).then(r.success).catch(r.error)},{success:[function(e){e.state.set("header.matching.waitingFinished",!1)}]}],closeQuestion:[(0,u.set)((0,c.state)(l),p.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=(t.get("header.matching").question||{}).id;return n.post("/api/livehelp/client/closeQuestion",{id:a}).then(r.success).catch(r.error)},{success:[(0,u.set)((0,c.state)(l),p.default.succeeded),function(e){e.controller.getSignal("header.closeMatchingWidget")()}],error:[(0,u.set)((0,c.state)(l),p.default.failed)],dummy:[]}]]},getServices:function(){},getState:function(){return{matching:{users:[],totalWithoutBudget:0,seconds:0,widgetShow:!1}}}}}).call(t,"views/ods/modules/header/MatchingStore.js")},function(e,t,n){"use strict";(function(e){function r(e){var t=e.state,n=72,r=t.get("header.ongoingSession.show"),a=t.get("header.unpaidSession.show"),o=t.get("header.desktopNotification.show");r&&(n+=46),a&&(n+=46),o&&(n+=46),t.set("header.setting.headerHeight",n)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.ongoingSession.show"],["header.ongoingSession.show"]),o=n(9),s=n(0);t.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.state,n=e.http,r=e.path;return t.get("currentUserId")?n.get("/api/livehelp/client/getOnGoingQuestion").then(r.success).catch(r.error):r.dummy()},{success:[function(e){var t=e.state,n=e.props.result,r=n.question,a=n.user;r&&(t.set("header.ongoingSession.question",r),t.set("header.ongoingSession.user",a),t.set("header.ongoingSession.show",!0))},r],dummy:[]}],closeOngoingSessionWidget:[(0,o.set)((0,s.state)(a),!1),r]},getServices:function(){},getState:function(){return{ongoingSession:{show:!1}}},updateHeaderHeight:r}}).call(t,"views/ods/modules/header/OngoingSessionStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.props,n=e.controller,r=t.redirectUrl,a=t.loginRequired,i=t.popup,l=void 0!==i&&i;r&&(a?n.getSignal("header.loginTo")({url:r}):!0===l?(0,s.default)(r):(0,o.default)(r))}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(19)),s=r(n(44));t.default={name:e,depends:[],signals:{sendCDPRequest:[function(e){var t=e.props,n=e.http,r=e.path,a=t.type,o=t.eventType,s=t.data;return n.post("/api/cdp",{type:a,eventType:o,data:s}).then(r.success).catch(r.error)},{success:[a],error:[a]}]},getState:function(){}}}).call(t,"views/modules/common/header/CDPStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["header.clipboardTip.show"],["header.clipboardTip.show"]),o=r(["header.clipboardTip.copied"],["header.clipboardTip.copied"]),s=n(9),i=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(571));t.default={name:e,depends:[],signals:{copyLink:[(0,s.set)((0,i.state)(a),!0),(0,s.set)((0,i.state)(o),!0),function(e){var t=e.state,n=e.props.content;(0,l.default)(n),setTimeout(function(){t.set("header.clipboardTip.copied",!1),setTimeout(function(){t.set("header.clipboardTip.show",!1)},500)},2e3)}]},getServices:function(){},getState:function(){return{clipboardTip:{show:!1,copied:!1}}}}}).call(t,"views/ods/modules/header/ClipboardTipStore.js")},function(e,t,n){e.exports=n(8)(486)},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["footer.height"],["footer.height"]),o=r(["height"],["height"]),s=n(9),i=n(0);t.default={name:e,depends:[],signals:{setHeight:[(0,s.set)((0,i.state)(a),(0,i.props)(o))]},getState:function(){return{height:0}}}}).call(t,"views/v2/modules/footer/FooterStore.js")},function(e,t,n){"use strict";(function(e){function n(){var e=window&&window.location&&window.location.href;r.test(e)?window.location.href=e.replace(r,""):window.location.reload()}Object.defineProperty(t,"__esModule",{value:!0});var r=/language=[a-zA-Z]{2,}/i;t.default={name:e,depends:[],signals:{languageChange:[[function(e){var t=e.props,n=e.state,a=e.path,o=e.http,s=t.locale;if(s===n.get("locale")){var i=window&&window.location&&window.location.href;if(!r.test(i))return a.dummy()}return o.post("/api/changeLanguage",{locale:s}).then(a.success).catch(a.error)},{success:[n],error:[],dummy:[]}]],regionChange:[[function(e){var t=e.props,n=e.path,r=e.http,a=t.regionRefId;return r.post("/api/changePreferredRegion",{regionRefId:a}).then(n.success).catch(n.error)},{success:[n],error:[]}]],switchLangStatus:[function(e){var t=e.state,n=e.props;t.set("footer.langStatus",n.open)}],switchRegionStatus:[function(e){var t=e.state,n=e.props;t.set("footer.regionStatus",n.open)}]},getState:function(){return{langStatus:!1,regionStatus:!1}}}}).call(t,"views/v2/modules/footer/LanguageChooseStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages"],r=[].concat(n,["currentTab"]);t.default={name:e,depends:[],signals:{switchTab:[function(e){var t=e.props,n=e.state,a=t.tab;n.set(r,a)}]},getState:function(){return{currentTab:"conversations"}}}}).call(t,"views/v2/modules/messages/TabStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=a(["messages.showContent"],["messages.showContent"]),s=a(["messages.displayMobileMore"],["messages.displayMobileMore"]),i=a(["value"],["value"]),l=a(["messages.showSideBar"],["messages.showSideBar"]),u=r(n(33)),c=r(n(80)),d=n(26),f=n(9),p=n(0);t.default={name:e,depends:[u.default],signals:{channelSelect:[function(e){var t=e.props,n=e.state,r=t.channelId;c.default.isConnected(n)&&r&&(0,d.isTouch)()&&n.set("messages.showContent",!0)}],hideContent:[(0,f.set)((0,p.state)(o),!1)],openExplore:[(0,f.set)((0,p.state)(o),!0)],toggleMobileMore:[(0,f.set)((0,p.state)(s),(0,p.props)(i))],stopExplore:[(0,f.set)((0,p.state)(o),!1)],toggleSideBar:[(0,f.set)((0,p.state)(l),(0,p.props)(i))],syncFromLocation:[(0,f.set)((0,p.state)(l),!0)]},getState:function(){return{contentType:"friends-list",displayAddMember:!1,isNewAddMember:!1,showContent:!1,displayMobileMore:!1,showSideBar:!0}},getContentType:function(e){return e.get(contentTypeKey)}}}).call(t,"views/v2/modules/messages/ContentStore.js")},function(e,t,n){e.exports=n(8)(870)},function(e,t,n){e.exports=n(8)(850)},function(e,t,n){e.exports=n(8)(849)},function(e,t,n){e.exports=n(8)(848)},function(e,t,n){e.exports=n(8)(847)},function(e,t,n){e.exports=n(8)(846)},function(e,t,n){e.exports=n(8)(845)},function(e,t,n){e.exports=n(8)(844)},function(e,t,n){e.exports=n(8)(843)},function(e,t,n){e.exports=n(8)(842)},function(e,t,n){e.exports=n(8)(841)},function(e,t,n){e.exports=n(8)(825)},function(e,t,n){e.exports=n(8)(824)},function(e,t,n){e.exports=n(8)(823)},function(e,t,n){e.exports=n(8)(822)},function(e,t,n){e.exports=n(8)(821)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["loginUser"],["loginUser"]),h=i(["messages.users"],["messages.users"]),m=i(["messages.channels"],["messages.channels"]),v=i(["messages.channelMembers"],["messages.channelMembers"]),_=i(["project.mentionUsers"],["project.mentionUsers"]),y=i(["messages.showUserCard"],["messages.showUserCard"]),b=r(n(2)),S=r(n(1)),w=r(n(12)),E=r(n(3)),O=n(5),I=n(0),k=r(n(4)),C=r(n(594)),T=(l=(0,O.decorator)({loginUser:(0,I.state)(g),users:(0,I.state)(h),channels:(0,I.state)(m),allChannelMembers:(0,I.state)(v),messageUsers:(0,I.state)(h),projectUsers:(0,I.state)(_),showUserCard:(0,I.signal)(y)}),u=(0,k.default)(C.default),l(c=u((f=d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),p(t,[{key:"onMsgMentionClick",value:function(e){e.stopPropagation();var t=w.default.findDOMNode(this.refs.mention).getBoundingClientRect(),n=t.left,r=t.top,a=t.width,o=t.height,s=this.props;(0,s.showUserCard)({user:s.users[s.userId],src:"mention",pos:{left:n,top:r,height:o,width:a}})}},{key:"renderMessageMention",value:function(){var e=this,t=this.props,n=t.userId,r=t.channels,a=t.allChannelMembers,o=t.mentioned,s=t.children,i=t.messageUsers,l=t.channelId,u=t.loginUser,c=t.authorIsAdmin,d=u.id,f=i[n],p=a[l],g=r[l];if(!g||"direct"===g.type)return S.default.createElement("span",null,s);if(!("@everyone"===n||f&&p))return S.default.createElement("span",null,s);if("@everyone"===n&&"lobby"===g.type&&!c)return S.default.createElement("span",null,s);var h=void 0;if(f&&f.id){var m=d===n;h=S.default.createElement("span",{ref:"mention",className:this.ss("highlight",o&&"mentioned",m&&"mentionSelf"),onClick:function(t){return e.onMsgMentionClick(t)}},f?"@"+f.fullname:s)}else h=S.default.createElement("span",{className:this.ss("highlight",o&&"mentioned","mentionSelf")},f?"@"+f.fullname:s);return h}},{key:"renderProjectMention",value:function(){var e=this.props,t=e.projectUsers,n=e.mentioned,r=e.children,a=t[e.userId],o=void 0;if(a&&a.id){var s="/u/"+a.id;o=S.default.createElement("a",{href:s,target:"_blank"},a?"@"+a.fullname:r)}else o=S.default.createElement("a",null,a?"@"+a.fullname:r);return S.default.createElement("span",{className:this.ss("highlight",n&&"mentioned")},o)}},{key:"renderFeedProjectMention",value:function(){var e=this.props,t=e.mentionUser,n=e.mentioned,r=e.children,a=void 0;if(t&&t.id){var o="/u/"+t.id;a=S.default.createElement("a",{href:o,target:"_blank"},t?"@"+t.fullname:r)}else a=S.default.createElement("a",null,t?"@"+t.fullname:r);return S.default.createElement("span",{className:this.ss("highlight",n&&"mentioned")},a)}},{key:"render",value:function(){var e=this.props.mentionType;return"message"===e?this.renderMessageMention():"project"===e||"post"===e?this.renderProjectMention():this.renderFeedProjectMention()}}]),t}(),d.propTypes={userId:b.default.string.isRequired,channelId:b.default.string,messageId:b.default.string,authorIsAdmin:b.default.bool,users:b.default.object,channels:b.default.object,loginUser:b.default.object,allChannelMembers:b.default.object,messageUsers:b.default.object,projectUsers:b.default.object,mentioned:b.default.bool.isRequired,children:b.default.any,mentionType:b.default.string.isRequired,mentionUser:b.default.object,currentUserId:b.default.string,showUserCard:b.default.func},c=f))||c)||c);t.default=T},function(e,t,n){"use strict";function r(e){return function(t){return e[t]}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(22));e.exports=function(e){return function(){for(var t=[],n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];for(var l=0;l<s.length;l++){var u=s[l];u&&"string"==typeof u?t.push(u):u&&"object"===(void 0===u?"undefined":a(u))&&(t=t.concat(Object.keys(u).filter(r(u))))}return o.default.map(t.join(" ").split(" "),function(t){return e[t]||t}).join(" ")||void 0}}},function(e,t){e.exports={highlight:"highlight_21JavRta",mentioned:"mentioned_2u67lrWI",mentionSelf:"mentionSelf_2WnojLFz"}},function(e,t){},function(e,t,n){e.exports=n(8)(975)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(598)),c=r(n(45)),d=r(n(115)),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{logger:c.default.create("MessageQueue")}));return n.maxSize=e,n}return i(t,u.default),l(t,[{key:"isFull",value:function(){return this.queue.length>=this.maxSize}},{key:"drain",value:function(e,t){var n=e.type,r=e.message;switch(n){case"send":this.handleSend(r,t);break;case"edit":this.handleEdit(r,t);break;case"delete":this.handleDelete(r,t);break;default:t()}}},{key:"handleResponse",value:function(e){return function(t){e(null,t)}}},{key:"handleSend",value:function(e,t){var n=e.channelId,r=a(e,["channelId"]);d.default.post("/api/channels/"+n+"/messages",r).then(this.handleResponse(t)).catch(this.handleResponse(t))}},{key:"handleEdit",value:function(e,t){var n=e.messageId,r=e.content;d.default.post("/api/messages/"+n,{content:r}).then(this.handleResponse(t)).catch(this.handleResponse(t))}},{key:"handleDelete",value:function(e,t){var n=e.messageId;e.deleteAsAdmin?d.default.post("/api/messages/"+n+"/adminDelete",{}).then(this.handleResponse(t)).catch(this.handleResponse(t)):d.default.post("/api/messages/"+n+"/delete",{}).then(this.handleResponse(t)).catch(this.handleResponse(t))}}]),t}();t.default=new f},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(601)),u=r(n(45)).default.create("Queue"),c=function(){function t(e){var n=e.defaultRetryAfter,r=void 0===n?100:n,a=e.logger,s=void 0===a?u:a;o(this,t),this.queue=new l.default,this.timeout=null,this.draining=!1,this.defaultRetryAfter=r,this.logger=s}return i(t,[{key:"enqueue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.queue.push({message:e,completed:t,progress:n,started:r}),this._drainIfNecessary()}},{key:"_drainIfNecessary",value:function(){var t=this;if(null===this.timeout&&0!==this.queue.length&&!0!==this.draining){this.draining=!0;var n=this.queue.shift(),r=n.message,o=a(n,["message"]);this.drain(r,function(n,a){if(t.draining=!1,n){var i=n.retryAfter||t.defaultRetryAfter;t.logger.info("Rate limited. Delaying draining of queue for "+i+" ms."),t.timeout=setTimeout(function(){t.queue.unshift(s({message:r},o)),t.timeout=null,t._drainIfNecessary()},i)}else{e(function(){return t._drainIfNecessary()});try{o.completed(a)}catch(e){console.error(e)}}},o.progress)}}},{key:"drain",value:function(e,t,n){throw Error("Not Implemented")}}]),t}();t.default=c}).call(t,n(599).setImmediate)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(600),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){e.exports=n(8)(543)},function(e,t,n){e.exports=n(8)(490)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(69),c=r(n(453)),d=r(n(45)),f=r(n(115)),p=d.default.create("GatewaySocket"),g=function(t){function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(this,n);var s=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return s.discoveryEndpoint=e,s.candidateURLs=[],s.gatewayURL=null,s.ws=null,s.backoff=new c.default(1e3,6e4),s.properties=t,s.heartBeatDataCallback=r,s._closed(),s}return s(n,u.EventEmitter),l(n,[{key:"connect",value:function(){var e=this;if(3===this.readyState){this.readyState=0,this.backoff.pending&&!this.resumable&&this.emit("reconnecting"),this.backoff.cancel();var t=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e._closed(t),(e.backoff.fail(function(){return e.connect()})/1e3).toFixed(2)};this._selectGateway(function(n){if(null!==n)e.ws=e._createWebSocket(n,function(){return e.readyState=1,!e._resume()},function(){return e.backoff.succeed()},function(n,r,a,o){if(e.ws===n){e.ws=null,n.close();var s=!e.resumable||e.backoff.fails>0,i=t(s);return p.warn("Connection failed ("+r+", "+a+", "+o+") retrying in "+i+" seconds."),s}return!1});else{var r=t();p.warn("Gateway discovery failed retrying in "+r+" seconds.");var a=e.backoff.pending&&e.backoff.current;e.emit("disconnect",{wasClean:!1,code:0,reason:"Gateway discovery failed",retryInMilliSeconds:a})}})}}},{key:"close",value:function(){var t=this,n=this.ws;if(null!==n){e.nextTick(function(){return t.emit("disconnect",{wasClean:!0,code:1e3})}),n.close(),this._closed()}this.ws=null}},{key:"reconnect",value:function(){this.backoff.pending&&this.connect()}},{key:"send",value:function(e,t){var n={op:e,d:t},r=JSON.stringify(n);if(this.connected)try{this.ws.send(r)}catch(e){p.info("failed to send "+e)}else p.info("Add to sendQueue: "+r),this.sendQueue.push(r)}},{key:"_selectGateway",value:function(e){var t=this;if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&null!==this.gatewayURL&&this.backoff.fails<3)return p.info("Sticking to gateway "+this.gatewayURL),void e(this.gatewayURL);if(this.candidateURLs.length){var n=this.candidateURLs.shift();return this.gatewayURL=n+"/v2",p.info("Discovered gateway "+this.gatewayURL),void e(this.gatewayURL)}f.default.get(this.discoveryEndpoint,null,{timeout:2e3}).then(function(n){var r=n.result,a=r.url,o=r.urls;t.candidateURLs=o||[a],t._selectGateway(e,!1)},function(){e(null)})}},{key:"_createWebSocket",value:function(e,t,n,r){var a=this,o=null,s=0,l=new WebSocket(e);return l.onopen=function(){t(l)&&a.emit("connect"),o=setInterval(function(){var e=Date.now();if(e-s>=17e3)l.onerror(new Error("not any dispatch msg for too long"));else{var t=a.heartBeatDataCallback?a.heartBeatDataCallback():{};a.send(9,i({ts:e},t))}},15e3),s=Date.now()},l.onmessage=function(e){var t=JSON.parse(e.data),r=t.op,o=t.s,i=t.t,u=t.d;if(null!==o&&o>0&&(a.seq=o),0===r){if(s=Date.now(),"READY"===i||"RESUMED"===i){switch(i){case"READY":a.sessionId=u.sessionId;break;case"RESUMED":p.info("Connection resumed.")}for(var c=a.sendQueue.shift();c;)p.info("send from sendQueue: "+c),l.send(c),c=a.sendQueue.shift();n(l)}a.emit("dispatch",i,u)}},l.onerror=function(e){l.onclose({wasClean:!1,code:0,reason:e.message})},l.onclose=function(e){var t=e.wasClean,n=e.code,s=e.reason,i=void 0===s?"":s;if(o&&(clearInterval(o),o=null),r(l,t,n,i)){var u=a.backoff.pending&&a.backoff.current;a.emit("disconnect",{wasClean:t,code:n,reason:i,retryInMilliSeconds:u})}},l}},{key:"_resume",value:function(){return!!this.resumable&&(this.send(2,{sessionId:this.sessionId,seq:this.seq}),!0)}},{key:"_closed",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.readyState=3,this.sendQueue=[],e&&(this.sessionId=null,this.seq=0)}},{key:"identify",value:function(e,t,n){this.send(1,{ls:e,commitId:t,clientType:n,properties:this.properties})}},{key:"statusUpdate",value:function(e){this.send(3,{idleSince:e})}},{key:"resumable",get:function(){return this.seq>0}},{key:"connected",get:function(){return 1===this.readyState}}]),n}();t.default=g}).call(t,n(452))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","messagePop"];t.default={name:e,depends:[],signals:{changeMessagePopStatusToTrue:[function(e){e.state.set(n,!0)}],changeMessagePopStatusToFalse:[function(e){e.state.set(n,!1)}],popMessage:[function(e){var t=e.state;!1===t.get(n)&&t.set(n,!0)}]},getState:function(){return{messagePop:!1}},getMessagePopStatus:function(e){return e.get(n)}}}).call(t,"views/v2/modules/messages/MessagePopStore.js")},function(e,t,n){"use strict";(function(e){function n(e){return function(t){var n=t.state,r=t.props.value;n.set(e,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=["messages","filter"],a=[].concat(r,["conversations"]),o=[].concat(r,["projects"]),s=[].concat(r,["jobs"]),i=[].concat(r,["addMember"]),l=[].concat(r,["conversationsFilterFocus"]),u=[].concat(r,["mouseDownFlag"]);t.default={name:e,depends:[],signals:{onConversationsFilterFocus:[function(e){e.state.set(l,!0)}],onConversationsFilterBlur:[function(e){var t=e.state;t.get(u)||t.set(l,!1)}],onConversationsFilterChanged:[n(a)],onProjectsFilterChanged:[n(o)],onJobsFilterChanged:[n(s)],onAddMemberFilterChanged:[n(i)],setMouseDownFlagToTrue:[function(e){e.state.set(u,!0)}],setMouseDownFlagToFalse:[function(e){e.state.set(u,!1)}]},getState:function(){return{filter:{conversationsFilterFocus:!1,mouseDownFlag:!1,conversations:"",projects:"",jobs:"",addMember:""}}}}}).call(t,"views/v2/modules/messages/MessagesFilterStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){e.state.set(["messages","call","notSupportedTip"],!0)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=r(n(25)),c=r(n(456)),d=n(155),f={CALL_INFO:4,VOICE_STATE_START:5,VOICE_STATE_END:6,RINGING_STOP:7,VOICE_SERVER_CHECK:8},p=(0,u.default)({RINGING:null,IN_CALL:null}),g=["messages","call"],h=[].concat(g,["ringing"]),m=[].concat(g,["callInfo"]),v=[].concat(g,["voiceServerInfoAPI"]);t.default={name:e,depends:[c.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.ringings,o=t.voiceServerInfoAPI;r.set(v,o),a.forEach(function(e){return n.getSignal("messages.onRingingStart")(e)})}],channelSelect:[function(e){var t=e.props,n=e.state,r=e.messages,a=t.channelId,o=r.socket,s=n.get(["messages","channels"])[a];if(s){var i=s.type;"direct"!==i&&"private"!==i||o.send(f.CALL_INFO,{channelId:a})}}],createCall:[function(e){var t=e.path,n=!0;return void 0===(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)&&(n=!1),void 0===(window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription)&&(n=!1),n?t.yes():t.no()},{yes:[function(e){var t=e.props,n=e.state,r=e.controller,a=e.http,o=e.path,s=t.channelId,i=n.get(v);return r.getSignal("messages.onVoiceStateStart")({sessionId:n.get("messages.sessionId"),userId:n.get("loginUser.id"),channelId:s,fakeSig:!0}),a.get(i).then(o.success).catch(o.error)},{success:[function(e){var t=e.props,n=e.messages,r=e.state,a=n.socket,o=t.result.serverId,s=t.channelId,i=c.default.selfMute(r);a.send(f.VOICE_STATE_START,{channelId:s,selfMute:i,voiceServerId:o})}],error:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channelId;r.getSignal("messages.onVoiceStateEnd")({sessionId:n.get("messages.sessionId"),userId:n.get("loginUser.id"),channelId:a,fakeSig:!0})}]}],no:[i]}],showNotSupportedTip:[i],hideNotSupportedTip:[function(e){e.state.set(["messages","call","notSupportedTip"],!1)}],updateCall:[function(e){var t=e.props,n=e.messages,r=t.channelId,a=t.isSpeaking,o=t.selfMute;n.socket.send(f.VOICE_STATE_START,{channelId:r,updateOnly:!0,isSpeaking:a,selfMute:o})}],quitCall:[function(e){var t=e.props,n=e.state,r=e.messages,a=e.controller,o=t.channelId,s=r.socket;a.getSignal("messages.onVoiceStateEnd")({sessionId:n.get("messages.sessionId"),userId:n.get("loginUser.id"),channelId:o,fakeSig:!0}),s.send(f.VOICE_STATE_END,{channelId:o})}],declineCall:[function(e){var t=e.props,n=e.messages,r=t.channelId;n.socket.send(f.RINGING_STOP,{channelId:r})}],onCallInfo:[function(e){var t=e.props,n=e.controller,r=t.ringings;t.voiceStates.forEach(function(e){return n.getSignal("messages.onVoiceStateStart")(e)}),r.forEach(function(e){return n.getSignal("messages.onRingingStart")(e)})}],onRingingStart:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.userId;if(n.get(["loginUser","id"])===a){var i=n.get(h);i.find(function(e){return e.channelId===r})||n.set(h,[].concat(s(i),[t]))}var u=n.get([].concat(s(m),[r]))||{};u[a]||n.set([].concat(s(m),[r]),l({},u,o({},a,{status:p.RINGING})))}],onRingingStop:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.userId;if(n.get(["loginUser","id"])===a){var o=n.get(h),i=o.find(function(e){return e.channelId===r});if(i){var u=[].concat(s(o));u.splice(u.indexOf(i),1),n.set(h,u)}}var c=n.get([].concat(s(m),[r]));if(c&&c[a]&&c[a].status===p.RINGING){var d=l({},c);delete d[a],n.set([].concat(s(m),[r]),d)}}],onVoiceStateStart:[function(e){var t=e.props,n=e.state,r=t.channelId,i=t.userId,u=t.updateOnly,c=a(t,["channelId","userId","updateOnly"]),f=n.get([].concat(s(m),[r]));if(u){if(!f||!f[i]||f[i].status!==p.IN_CALL)return}else f&&f[i]&&f[i].status===p.IN_CALL||i!==n.get(["loginUser","id"])&&n.get("messages.window.isMaster")&&(0,d.playSound)("User_Join",.4);n.set([].concat(s(m),[r]),l({},f,o({},i,l({},f&&f[i],c,{status:p.IN_CALL}))))}],onVoiceStateEnd:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.userId,o=n.get([].concat(s(m),[r]));if(o&&o[a]){var i=l({},o);delete i[a],n.set([].concat(s(m),[r]),i),a!==n.get(["loginUser","id"])&&n.get("messages.window.isMaster")&&(0,d.playSound)("User_Leave",.4)}}],onVoiceConnState:[function(e){var t=e.props,n=e.messages.socket;"VOICE_DISCONNECTED"===t.state&&(0,d.playSound)("Voice_Disconnected",.4),"DISCONNECTED"===t.state&&t.payload&&t.payload.willReconnect&&n.send(f.VOICE_SERVER_CHECK,{})}]},getState:function(){return{call:{ringing:[],callInfo:{},voiceServerInfoAPI:"",notSupportedTip:!1}}}}}).call(t,"views/v2/modules/messages/CallStore.js")},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./Incoming_Ring.mp3":156,"./Message.mp3":607,"./Mute.mp3":608,"./Outgoing_Ring.mp3":157,"./Unmute.mp3":609,"./User_Join.mp3":610,"./User_Leave.mp3":611,"./Voice_Disconnected.mp3":612};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=606},function(e,t,n){e.exports=n.p+"../styles/sound/Message.e85a9218a4cb32862969882888550546.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/Mute.e158dcdd686665a230616d98c0438583.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/Unmute.6b260aea3a1cd0ed9f0c79c7234b74d3.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/User_Join.05c7c9c4dce52b8a2dea07ed0290a4df.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/User_Leave.bf99d24febc0eae6d1d33ece76e775ad.mp3"},function(e,t,n){e.exports=n.p+"../styles/sound/Voice_Disconnected.811d5bc4f2caa4014a53e4aae6d468a1.mp3"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=-1/0;e.getFloatFrequencyData(t);for(var r=4;r<t.length;r++)t[r]>n&&t[r]<0&&(n=t[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-40,o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;r(this,e);var l=t.createAnalyser();l.fftSize=512,l.smoothingTimeConstant=s;var u=t.createMediaStreamSource(n);u.connect(l);for(var c=[],d=0;d<i;d++)c.push(!1);var f=t.createScriptProcessor(1024,0,1);f.onaudioprocess=function(){o._update(),o.onProcess&&o.onProcess(o.speaking,o.currentVolume)},f.connect(t.destination),this.threshold=a,this.analyser=l,this.processor=f,this.fftBins=new Float32Array(l.fftSize),this.source=u,this.currentVolume=0,this.speakingHistory=c,this.speakingHistoryIndex=0,this.speakingCounter=0,this.silenceThreshold=4*this.speakingHistory.length,this.silentFrames=this.silenceThreshold,this.onProcess=null}return o(e,[{key:"_update",value:function(){this.currentVolume=a(this.analyser,this.fftBins),this.speakingHistory[this.speakingHistoryIndex]&&this.speakingCounter--;var e=this.currentVolume>this.threshold;this.speakingHistory[this.speakingHistoryIndex]=e,e&&this.speakingCounter++,++this.speakingHistoryIndex===this.speakingHistory.length&&(this.speakingHistoryIndex=0),this.speakingCounter>0?this.silentFrames=0:this.silentFrames++}},{key:"stop",value:function(){this.source.disconnect(),this.processor.disconnect(),this.speakingCounter=0}},{key:"speaking",get:function(){return this.speakingCounter>0||this.silentFrames<this.silenceThreshold}}]),e}();t.default=s},function(e,t,n){"use strict";(function(e){function r(e){var t=e.get(a);s.set(o,t)}Object.defineProperty(t,"__esModule",{value:!0});var a=["messages","inProgressText"],o="InProgressText",s=n(39);t.default={name:e,depends:[],signals:{inProgressTextChange:[function(e){var t=e.props,n=e.state,o=t.channelId,s=t.textSoFar;n.set([].concat(a,[o]),s),r(n)}],connectionOpen:[function(e){var t=e.state,n=s.get(o)||{};t.set(a,n)}]},getState:function(){return{inProgressText:{}}}}}).call(t,"views/v2/modules/messages/InProgressTextStore.js")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(69),u=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=window.location.pathname.startsWith("/messages")?"P0_":"P1_";e.id=n+Date.now()+"_"+Math.random().toString().slice(2),e.isMaster=!1,e.others={},window.addEventListener("storage",e,!1),window.addEventListener("unload",e,!1),e.broadcast("hello");e.checkTimeout=setTimeout(function t(){e.check(),e.checkTimeout=setTimeout(t,2e3)},500);return e.pingTimeout=setTimeout(function t(){e.sendPing(),e.pingTimeout=setTimeout(t,5e3)},5e3),e}return o(t,l.EventEmitter),i(t,[{key:"destroy",value:function(){clearTimeout(this.pingTimeout),clearTimeout(this.checkTimeout),window.removeEventListener("storage",this,!1),window.removeEventListener("unload",this,!1),this.broadcast("bye")}},{key:"handleEvent",value:function(e){if("unload"===e.type)this.destroy();else if("__cross_tab_broadcast__"===e.key)try{var t=JSON.parse(e.newValue);t.id!==this.id&&this[t.type](t)}catch(t){console.error("error get __cross_tab_broadcast__",e,t)}}},{key:"sendPing",value:function(){this.broadcast("ping")}},{key:"hello",value:function(e){this.ping(e),e.id<this.id?this.check():this.sendPing()}},{key:"ping",value:function(e){this.others[e.id]=Date.now()}},{key:"bye",value:function(e){delete this.others[e.id],this.check()}},{key:"check",value:function(){var e=this,t=Date.now(),n=!0;Object.keys(this.others).forEach(function(r){e.others[r]+7e3<t?delete e.others[r]:r<e.id&&(n=!1)}),this.isMaster!==n&&(this.isMaster=n,this.emit("change",{isMaster:this.isMaster}))}},{key:"broadcast",value:function(e,t){var n=s({id:this.id,type:e},t);try{localStorage.setItem("__cross_tab_broadcast__",JSON.stringify(n))}catch(e){console.error("error set __cross_tab_broadcast__",n,e)}}}]),t}();t.default=u},function(e,t,n){e.exports=n(8)(1001)},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e.fullname<t.fullname?-1:e.fullname>t.fullname?1:0}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;t=t&&t.toLowerCase()||"";var a=new RegExp("^"+c.default.escape(t),"i"),s=[],i=[],l=f.default.getUsers(e),p=h.default.getMembers(e,n),m=g.default.getChannel(e,n);return(0,u.default)(p).values().takeWhile(function(e){var n=e.userId,o=l[n];if(!o)return!0;var u=p[o.id];if(!u)return!0;if("live"===m.type&&"owner"!==u.role&&"admin"!==u.role&&"moderator"!==u.role)return!0;var c=o.fullname.toLowerCase();return a.test(c)?s.push({fullname:c,user:o}):(0,d.default)(t,c)&&i.push({fullname:c,user:o}),s.length<r}).value(),s.sort(o),i.sort(o),s.concat(i.slice(0,Math.max(0,r-s.length))).map(function(e){return e.user})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(n(22)),c=r(n(159)),d=r(n(160)),f=r(n(27)),p=r(n(35)),g=r(n(32)),h=r(n(41)),m=["messages","textAreaAutocomplete"],v=["messages","mentionUserIds"],_=["jobs","freelancers","assets"],y="@",b=new RegExp(y+"|:|^/"),S=new RegExp("^/("+_.join("|")+")\\s(.+)","i"),w=/\t|\s/g,E=10;t.default={name:e,depends:[f.default,p.default,h.default],signals:{maybeShowAutocomplete:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.textAreaKey,o=t.textAreaType,i=t.value,u=t.selectionStart,d=t.selectionEnd,p=t.channelId,v=t.isDefaultWorkspace,_=[].concat(m,[a]),O=n.get(_),I=i.match(S);if(I){var k=I[1],C=I[2];if(O&&O.integration===k&&O.query===C)return;return n.set(_,{textAreaKey:a,textAreaType:o,type:"integration",integration:k,query:C,prefix:"",results:[],loading:!1,selectedIndex:0,selectionStart:0,selectionEnd:i.length}),void r.getSignal("messages.integrationSearch")({textAreaKey:a})}for(var T=u;T>=0;T--)if(b.test(i[T])){var j=function(){var e=i.slice(T,d);if(O&&O.prefix===e)return{v:void 0};var t=new RegExp("^"+c.default.escape(e.slice(1)),"i"),l=function(e){return t.test(e)},u=void 0,m=void 0;if(e[0]===y){u="mention";var b=g.default.getChannel(n,p);if("lobby"===b.type&&v){var S=e.slice(1);if(O&&O.query===S)return{v:void 0};if(" "===S||(S.match(w)||[]).length>1)return"break";var I=s(n,e.slice(1),p),k=f.default.getCurrentUserId(n),C=h.default.getMember(n,b.id,k);return C&&("owner"===C.role||"admin"===C.role)&&l("everyone")&&I.push({content:"everyone"}),n.set(_,{textAreaKey:a,textAreaType:o,type:u,integration:"",query:S,prefix:e,results:I,loading:!1,selectedIndex:0,selectionStart:T,selectionEnd:d}),!b.groupId&&I.length<E&&r.getSignal("messages.mentionSearch")({textAreaKey:a,matchedActiveUsers:I}),{v:void 0}}if("direct"!==b.type)return m=s(n,e.slice(1),p),"live"!==b.type&&m.length<E&&l("everyone")&&m.push({content:"everyone"}),n.set(_,{textAreaKey:a,textAreaType:o,type:u,integration:"",query:"",prefix:e,results:m,loading:!1,selectedIndex:0,selectionStart:T,selectionEnd:d}),{v:void 0}}}();switch(j){case"break":break;default:if("object"===(void 0===j?"undefined":l(j)))return j.v}}O&&n.unset(_)}],textAreaAutocompleteUnset:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,a=[].concat(m,[r]);n.get(a)&&n.unset(a)}],textAreaAutocompleteSelectPrev:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=[].concat(m,[r]),s=n.get(o);if(s){var i=s.results,l=s.loading;if(i&&i.length&&!l){var u=s.selectedIndex;--u<0&&(u=i.length-1),n.set([].concat(a(o),["selectedIndex"]),u)}}}],textAreaAutocompleteSelectNext:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=[].concat(m,[r]),s=n.get(o);if(s){var i=s.results,l=s.loading;if(i&&i.length&&!l){var u=s.selectedIndex;++u>=i.length&&(u=0),n.set([].concat(a(o),["selectedIndex"]),u)}}}],textAreaAutocompleteSelectIndex:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=t.selectedIndex,s=[].concat(m,[r]),i=n.get(s);if(i){var l=i.results,u=i.loading;l&&l.length&&!u&&o>=0&&o<l.length&&n.set([].concat(a(s),["selectedIndex"]),o)}}],integrationSearch:[function(e){var t=e.props,n=e.state,r=e.services,o=t.textAreaKey,s=[].concat(m,[o]),i=n.get(s);if(i){var l=i.integration,u=i.query;n.set([].concat(a(s),["loading"]),!0),r.http.post("/api/integrations/"+l+"/search",{q:u}).then(function(e){r.messages.getSignals().integrationSearchSuccess({textAreaKey:o,results:e.result})}).catch(function(){r.messages.getSignals().integrationSearchFailed({textAreaKey:o})})}}],integrationSearchSuccess:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=t.results,s=[].concat(m,[r]);n.set([].concat(a(s),["loading"]),!1),n.set([].concat(a(s),["results"]),o)}],integrationSearchFailed:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=[].concat(m,[r]);n.set([].concat(a(o),["loading"]),!1)}],addMentionUser:[function(e){var t=e.props,n=e.state,r=t.user;-1===n.get(v).indexOf(r.id)&&n.push(v,r.id)}],unsetMentionUserIds:[function(e){e.state.set(v,[])}],mentionSearch:[[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.textAreaKey,s=[].concat(m,[o]),l=n.get(s);if(!l)return a.dummy();var u=l.query,c=[];return c.push("q:"+u),r.get("/api/u",{k:JSON.stringify(c)}).then(function(e){return a.success(i({},t,e,{query:u}))}).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=t.matchedActiveUsers,s=t.query,i=t.result.items,l=[].concat(m,[r]);if(n.get([].concat(a(l),["query"]))===s){var u=[].concat(a(o)),c=(i||[]).map(function(e){return{id:e.id,avatar:e.avatar,fullname:e.fullName,title:e.title}});E>u.length&&c.slice(0,E-u.length).forEach(function(e){u.find(function(t){return t.id===e.id})||u.unshift(e)}),n.set([].concat(a(l),["results"]),u)}}],error:[function(e){var t=e.props,n=e.state,r=t.textAreaKey,o=[].concat(m,[r]);n.set([].concat(a(o),["loading"]),!1)}],dummy:[]}]]},getState:function(){return{textAreaAutocomplete:{},mentionUserIds:[]}},getTextAreaAutocomplete:function(e,t){return e.get(m,t)}}}).call(t,"views/v2/modules/messages/TextAreaAutocompleteStore.js")},function(e,t,n){"use strict";(function(e){function r(e){l||(l=setTimeout(function(){l=void 0,e.getSignal("messages.typingCheckStop")()},.25*o))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(22)),o=1e4,s=["messages","typingUsers"],i=["messages","typingTimestamps"],l=void 0;t.default={name:e,depends:[],signals:{connectionOpen:[function(e){e.state.set(s,{})}],messageCreate:[function(e){var t=e.props,n=e.state,r=t.author.id,a=t.channelId,o=t.state,l=[].concat(s,[a]),u=n.get(l);u&&u.length!==(u=u.filter(function(e){return e.userId!==r})).length&&n.set(l,u),"SENDING"===o&&n.unset([].concat(i,[a]))}],typingStart:[function(e){var t=e.props,n=e.state,o=e.controller,i=t.userId,l=t.channelId,u=[].concat(s,[l]),c=n.get(u)||[];c=c.filter(function(e){return e.userId!==i});var d=a.default.sortedIndexBy(c,t,function(e){return e.timestamp});c.splice(d,0,t),n.set(u,c),r(o)}],typingCheckStop:[function(e){var t=e.state,n=e.controller,i=Date.now()-o,l=t.get(s),u=!1;Object.keys(l).forEach(function(e){var t=l[e];if(t.length){for(var n=a.default.sortedIndexBy(t,{timestamp:i},function(e){return e.timestamp});n<t.length&&t[n].timestamp<=i;)n++;n&&(u||(u=!0,l=a.default.clone(l)),l[e]=t.slice(n))}}),u&&t.set(s,l),Object.keys(l).forEach(function(e){l[e].length&&r(n)})}],typing:[function(e){var t=e.props,n=e.state,r=e.http,a=t.channelId,s=[].concat(i,[a]),l=n.get(s);(!l||Date.now()-l>=o/2)&&(n.set(s,Date.now()),r.post("/api/channels/"+a+"/typing"))}]},getState:function(){return{typingUsers:{},typingTimestamps:{}}}}}).call(t,"views/v2/modules/messages/TypingStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","jobFilter"],r=[].concat(n,["title"]),a=[].concat(n,["role"]);t.default={name:e,depends:[],signals:{changeJobsFilter:[function(e){var t=e.props,n=e.state,a=t.value;n.set(r,a)}],changeRole:[function(e){var t=e.props,n=e.state,r=t.role;n.set(a,r)}]},getState:function(){return{jobFilter:{role:"recruits",title:"all"}}}}}).call(t,"views/v2/modules/messages/JobFilterStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{id:e.id,fullname:e.fullname,avatar:e.avatar,presenceStatus:e.presenceStatus,isBot:e.isBot,selected:t,inChannel:n}}function s(e,t){var n=c.default.getChannelId(t),r=g.default.getWorkspaceId(t),a=p.default.getWorkspace(t,r),s={},i={};if(!a||!a.organizationId){var u=h.default.getRelationships(t);Object.values(u).forEach(function(e){"accepted"===e.status&&(i[e.otherUserId]=o(v.default.getUser(t,e.otherUserId)))})}else{var b=f.default.getMembers(t,r),S=v.default.getCurrentUserId(t);Object.values(b).forEach(function(e){e.userId!==S&&(i[e.userId]=o(v.default.getUser(t,e.userId)))})}if(e)s=l({},i);else if(n){var w=m.default.getChannel(t,n);if("direct"===w.type){s=l({},i);var E=w.recipientId;s[E]=o(v.default.getUser(t,E),!0,!0)}else if("private"===w.type&&w.proposalId){var O=_.default.getChannelJob(t,w.id);if(O.freelancerId!==v.default.getCurrentUserId(t)){var I=y.default.getJobTeamMembers(t,O.id),k=d.default.getMembers(t,n);Object.values(I).forEach(function(e){s[e.id]=o(e,!1,!1)}),Object.values(k).forEach(function(e){s[e.userId]=o(v.default.getUser(t,e.userId),!0,!0)})}}else{s=l({},i);var C=d.default.getMembers(t,n);Object.values(C).forEach(function(e){s[e.userId]=o(v.default.getUser(t,e.userId),!0,!0)})}}return s}function i(e){var t=e.state;t.set(E,!1),t.set(I,{})}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["messages.addMember.submitStatus"],["messages.addMember.submitStatus"]),c=r(n(35)),d=r(n(41)),f=r(n(455)),p=r(n(81)),g=r(n(55)),h=r(n(461)),m=r(n(32)),v=r(n(27)),_=r(n(122)),y=r(n(458)),b=n(9),S=n(0),w=["messages","addMember"],E=[].concat(w,["displayAddMember"]),O=[].concat(w,["popoutPos"]),I=[].concat(w,["addUserList"]);t.default={name:e,depends:[],signals:{showAddMember:[function(e){var t=e.props,n=e.state,r=t.isNew,a=t.pos,o=s(r,n);n.set(O,a),n.set(I,o),n.set(E,!0)}],hideAddMember:[i],addChannelPopoutSubmit:[(0,b.set)((0,S.state)(u),"inProgress"),[function(e){var t=e.state,n=e.controller,r=e.path,a=g.default.getWorkspaceId(t),o=t.get(I),s=Object.values(o).filter(function(e){return!0===e.selected&&!1===e.inChannel}).map(function(e){return e.id}),i=Object.values(o).filter(function(e){return!0===e.inChannel}).map(function(e){return e.id}),l=0===i.length,u=c.default.getChannelId(t),d=null,f=!1;if(u&&(d=m.default.getChannel(t,u))&&"direct"===d.type&&(f=!0),0===s.length&&0===i.length)return n.getSignal("messages.createGroupChannel")({selectedUserIds:s,workspaceId:a}),r.success();if(!l&&f&&-1===s.indexOf(d.recipientId)&&(s.push(d.recipientId),1===s.length))return r.success();if(l&&1===s.length){var p=m.default.getWorkspaceChannels(t,a),h=Object.values(p).find(function(e){return e.recipientId===s[0]});h?n.getSignal("messages.channelSelect")({channelId:h.id,workspaceId:h.workspaceId}):n.getSignal("messages.createDirectChannel")({recipientId:s[0],workspaceId:a})}else(l||f)&&s?n.getSignal("messages.createGroupChannel")({selectedUserIds:s,workspaceId:a}):n.getSignal("messages.addChannelMembers")({selectedChannelId:u,userIds:s,role:"member"});return r.success()},{success:[i,(0,b.set)((0,S.state)(u),"succeeded")],error:[(0,b.set)((0,S.state)(u),"failed")]}]],toggleSelectUser:[function(e){var t=e.props,n=e.state,r=t.inChannel,o=t.userId;if(!r){var s=n.get(I);if(s&&s[o]){var i=l({},s[o]);i.selected=!s[o].selected,n.merge(I,a({},i.id,i))}}}]},getState:function(){return{addMember:{addUserList:{},popoutPos:{},displayAddMember:!1}}}}}).call(t,"views/v2/modules/messages/AddUserListStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(32)),o=r(n(35)),s=n(26),i=["messages"],l=[].concat(i,["showInfoType"]);t.default={name:e,depends:[],signals:{channelReady:[function(e){var t=e.props,n=e.state,r=t.normalChannels;r&&r.find(function(e){return"live"===e.type})&&n.set(l,"liveChat")}],toggleInfo:[function(e){var t=e.props,n=e.state,r=e.controller,i=o.default.getChannelId(n);if(i){var u=a.default.getChannel(n,i),c=t.type,d=t.messageId;c&&("userInfo"===c?(0,s.isTouch)()?window.open("/u/"+u.recipientId,"_blank"):r.getSignal("messages.fetchUserInfo")({userId:u.recipientId}):"projectInfo"===c?(r.getSignal("messages.fetchProjectInfo")({projectId:u.projectId,channelId:u.id}),r.getSignal("messages.fetchChannelMember")({channelId:u.id})):"mention"===c?r.getSignal("messages.fetchMentionInfo")({channelId:u.id,firstLoad:!0}):"star"===c?r.getSignal("messages.fetchStarInfo")({channelId:u.id,firstLoad:!0}):"reply"===c?(r.getSignal("messages.clearShowInfo")(),r.getSignal("messages.fetchReplyInfo")({channelId:u.id,messageId:d,firstLoad:!0})):"report"===c?r.getSignal("messages.fetchReportInfo")({channelId:u.id,firstLoad:!0}):"search"===c||"liveChat"===c?n.set(l,c):"lobbyInfo"===c||"groupInfo"===c?n.set(l,c):"ticketInfo"===c&&r.getSignal("messages.fetchTicketInfo")({ticketId:u.ticketId}))}else r.getSignal("messages.clearShowInfo")()}],clearShowInfo:[function(e){e.state.set(l,"")}],toggleMobileOps:[function(e){var t=e.props,n=e.state,r=t.value;n.set("messages.showMobileOps",r)}],channelSelect:[function(e){var t=e.props,n=e.controller,r=e.state,o=t.channelId,i=a.default.getChannel(r,o),u=r.get("isSupport");i&&"public"===i.type&&!(0,s.isTouch)()?n.getSignal("messages.toggleInfo")({type:"projectInfo"}):i&&i.liveChannelId&&!(0,s.isTouch)()?n.getSignal("messages.toggleInfo")({type:"liveChat"}):i&&"ticket"===i.type&&u?n.getSignal("messages.toggleInfo")({type:"ticketInfo"}):(r.set(l,""),n.getSignal("messages.clearShowInfo")())}],setCombinedOptionKey:[function(e){var t=e.props,n=e.state,r=t.messageId;n.set("messages.combinedOptionKey",r)}],setShowMoreOperationKey:[function(e){var t=e.props,n=e.state,r=t.channelId;n.set("messages.showMoreOperationKey",r)}],setShowCardOptionKey:[function(e){var t=e.props,n=e.state,r=t.channelId;n.set("messages.showCardOptionKey",r)}],setShowTermsKey:[function(e){var t=e.props,n=e.state,r=t.channelId;n.set("messages.showTermsKey",r)}]},getState:function(){return{showInfoType:"",showMobileOps:!1,fetchInfoStatus:{},combinedOptionKey:"",showMoreOperationKey:"",cardShowOptionKey:"",showTermsKey:""}},getInfoType:function(e){return e.get(l)}}}).call(t,"views/v2/modules/messages/InfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["messages.fetchInfoStatus.projectInfo"],["messages.fetchInfoStatus.projectInfo"]),o=r(["messages.fetchMemberStatus.",""],["messages.fetchMemberStatus.",""]),s=r(["channelId"],["channelId"]),i=r(["messages.showInfoType"],["messages.showInfoType"]),l=n(9),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),d=["messages"],f=[].concat(d,["projectInfo"]);t.default={name:e,depends:[],signals:{fetchProjectInfo:[(0,l.set)((0,u.state)(a),c.default.inProgress),(0,l.set)((0,u.state)(o,(0,u.props)(s)),c.default.inProgress),(0,l.set)((0,u.state)(i),"projectInfo"),[function(e){var t=e.props,n=e.path,r=e.http,a=t.projectId;return r.get("/api/p/"+a).then(n.success).catch(n.error)},{success:[function(e){var t=e.controller,n=e.props;t.getSignal("messages.syncProjectInfo")(n)},(0,l.set)((0,u.state)(a),c.default.succeeded)],error:[(0,l.set)((0,u.state)(a),c.default.failed)]}]],syncProjectInfo:[function(e){var t=e.props,n=e.state,r=t.result;200===t.status&&r&&r.project&&n.set(f,r.project)}]},getState:function(){return{projectInfo:{}}}}}).call(t,"views/v2/modules/messages/ProjectInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["messages.fetchInfoStatus.ticketInfo"],["messages.fetchInfoStatus.ticketInfo"]),o=r(["messages.showInfoType"],["messages.showInfoType"]),s=n(9),i=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),u=["messages"],c=[].concat(u,["ticketInfo"]);t.default={name:e,depends:[],signals:{fetchTicketInfo:[(0,s.set)((0,i.state)(a),l.default.inProgress),(0,s.set)((0,i.state)(o),"ticketInfo"),[function(e){var t=e.props,n=e.path,r=e.http,a=t.ticketId;return r.get("/api/supportTickets/"+a).then(n.success).catch(n.error)},{success:[function(e){var t=e.controller,n=e.props;t.getSignal("messages.syncTicketInfo")(n)},(0,s.set)((0,i.state)(a),l.default.succeeded)],error:[(0,s.set)((0,i.state)(a),l.default.failed)]}]],syncTicketInfo:[function(e){var t=e.props,n=e.state,r=t.result;if(200===t.status&&r){var a=r.data,o=r.tags||{},s=r.unityVersions||{},i=a.tagIds,l=a.platformIds,u={title:a.title,description:a.description,area:"Crash",tags:i.map(function(e){return o[e].name}),platform:l.length>0?o[l[0]].name:"",unityVersion:(s[a.unityVersion]||{}).nameNormalized};r.data.assignee&&(u.assignee=r.data.assignee),n.set(c,u)}}]},getState:function(){return{ticketInfo:{}}}}}).call(t,"views/v2/modules/messages/TicketInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){var t=e.props,n=e.path,r=e.http,a=t.userId;return r.get("/api/profile/"+a).then(n.success).catch(n.error)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(["messages.fetchInfoStatus.userInfo"],["messages.fetchInfoStatus.userInfo"]),s=r(["messages.showInfoType"],["messages.showInfoType"]),i=n(9),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),c=["messages"],d=[].concat(c,["userInfo","info"]),f=[].concat(c,["userInfo","tab"]);a.async=!0,t.default={name:e,depends:[],signals:{fetchUserInfo:[(0,i.set)((0,l.state)(o),u.default.inProgress),(0,i.set)((0,l.state)(s),"userInfo"),[a,{success:[function(e){var t=e.controller,n=e.props;t.getSignal("messages.syncUserInfo")(n)},(0,i.set)((0,l.state)(o),u.default.succeeded)],error:[(0,i.set)((0,l.state)(o),u.default.failed)]}]],syncUserInfo:[function(e){var t=e.props,n=e.state,r=t.result;200===t.status&&r&&n.set(d,r)}],switchUserInfoTab:[function(e){var t=e.props,n=e.state,r=t.tab;n.set(f,r)}]},getState:function(){return{userInfo:{tab:"projects",info:{}}}}}}).call(t,"views/v2/modules/messages/UserInfoStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.props,n=e.http,r=e.path,a=t.type,o=t.followeeId;return n.post("/api/follow",{type:a,followeeId:o}).then(r.success).catch(r.error)}function o(e){var t=e.props,n=e.http,r=e.path,a=t.followeeId;return n.post("/api/unfollow",{followeeId:a}).then(r.success).catch(r.error)}function s(e){return function(t){var n=t.props,r=t.state,a=n.followeeId;r.get("messages.followUpdateStatus.follow"+a)===l.default.succeeded&&r.set("messages.userInfo.info.followMap."+a,e)}}function i(e){return function(t){var n=t.props,r=t.state,a=n.followeeId;r.set("messages.followUpdateStatus.follow"+a,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){return e&&e.__esModule?e:{default:e}}(n(7));a.async=!0,o.async=!0,t.default={name:e,depends:[],signals:{follow:[i(l.default.inProgress),[a,{success:[i(l.default.succeeded)],error:[i(l.default.failed)]}],s(!0)],unFollow:[i(l.default.inProgress),[o,{success:[i(l.default.succeeded)],error:[i(l.default.failed)]}],s(!1)],mouseOver:[function(e){var t=e.props,n=e.state,a=t.followeeId;n.set("messages.followMouseOver",r({},a,!0))}],mouseOut:[function(e){var t=e.props,n=e.state,r=t.followeeId;n.set("messages.followMouseOver."+r,!1)}]},getState:function(){return{mouseOver:{},followUpdateStatus:{}}}}}).call(t,"views/v2/modules/messages/FollowStore.js")},function(e,t,n){"use strict";(function(e){function n(e){var t=e.channelTeam;return t?{id:t.id,name:t.name,avatar:t.avatar}:null}Object.defineProperty(t,"__esModule",{value:!0});var r=["messages","channelTeams"];t.default={name:e,depends:[],signals:{connectionOpen:[function(e){var t=e.props,a=e.state,o={};t.privateChannels.forEach(function(e){if(e.proposalId){var t=n(e);t&&(o[e.id]=t)}}),a.set(r,o)}],channelCreate:[function(e){var t=e.props,a=e.state;"private"===t.type&&t.proposalId&&t.channelTeam&&a.set([].concat(r,[t.id]),n(t))}],channelDelete:[function(e){var t=e.props,n=e.state;"private"===t.type&&t.proposalId&&n.unset([].concat(r,[t.id]))}]},getState:function(){return{channelTeams:{}}},getChannelTeam:function(e,t){return e.get([].concat(r,[t]))}}}).call(t,"views/v2/modules/messages/ChannelTeamStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){return{id:c.default.createNonce(),channelId:t,parentMessageId:a||null,author:d.default.getCurrentUser(e),filename:n.file.name,fileSize:n.file.size,contentType:n.file.type,width:n.width,height:n.height,dataUrl:n.dataUrl,file:n.file,voice:n.voice,duration:n.duration,content:r,loaded:0,speed:0}}function o(e,t){var n=t.get([].concat(v,["uploadToChannels",e]));return n?u.default.find(t.get([].concat(v,["channelUploads",n])),function(t){return t.id===e}):null}function s(e,t){t.set([].concat(v,["uploadToChannels",e.id]),e.channelId),t.get([].concat(v,["channelUploads",e.channelId]))||t.set([].concat(v,["channelUploads",e.channelId]),[]),t.push([].concat(v,["channelUploads",e.channelId]),e)}function i(e,t){var n=t.get([].concat(v,["uploadToChannels",e.id]));if(n){var r=u.default.slice(t.get([].concat(v,["channelUploads",n]))),a=u.default.findIndex(r,function(t){return t.id===e.id});r[a]=u.default.assign({},r[a],e),t.set([].concat(v,["channelUploads",n]),r)}}function l(e,t){var n=t.get([].concat(v,["uploadToChannels",e]));if(n){t.unset([].concat(v,["uploadToChannels",e]));var r=t.get([].concat(v,["channelUploads",n]));r&&(r=u.default.slice(r),u.default.remove(r,function(t){return t.id===e}),t.set([].concat(v,["channelUploads",n]),r)),delete _[e]}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(22)),c=r(n(34)),d=r(n(27)),f=r(n(80)),p=r(n(121)),g=r(n(35)),h=r(n(41)),m=r(n(14)),v=["messages","uploads"],_={};t.default={name:e,depends:[f.default,d.default,p.default,h.default,g.default],signals:{uploadAttachment:[function(e){var t=e.props,n=e.state,r=e.messages,o=t.channelId,i=t.content,l=t.parentMessageId,u=a(n,o,t.upload,i,l);s(u,n),r.httpUpload(u)}],retryUploadAttachment:[function(e){var t=e.props,n=e.state,r=e.messages,a=o(t.id,n),i=u.default.clone(a);i.loaded=0,i.speed=0,i.id=c.default.createNonce(),delete i.err,s(i,n),l(t.id,n),r.httpUpload(i)}],cancelUploadAttachment:[function(e){var t=e.props,n=e.state,r=t.id;_[r]&&_[r].abort(),i({id:r,cancelled:!0},n)}],uploadStart:[function(e){i(e.props,e.state)}],uploadCreate:[function(e){s(e.props,e.state)}],uploadComplete:[function(e){var t=e.props,n=e.state;l(t.id,n)}],uploadProgress:[function(e){var t=e.props,n=e.state,r=o(t.id,n);if(r){var a=0;if(r.progressTime){var s=t.progressTime-r.progressTime.getTime();s<=0&&(s=1),a=1e3*(t.loaded-r.loaded)/s}t.speed=a,i(t,n)}}],uploadFail:[function(e){var t=e.props,n=e.state;o(t.id,n)&&i({id:t.id,err:t.err},n)}],uploadAbort:[function(e){var t=e.props,n=e.state;l(t.id,n)}],openAttachment:[function(e){var t=e.props;e.state.set([].concat(v,["activeAttachment"]),t.url)}],closeAttachment:[function(e){e.state.unset([].concat(v,["activeAttachment"]))}]},getServices:function(e){return{httpUpload:function(t){var n=t.channelId,r=t.file,a=t.content,o=t.id,s=t.parentMessageId,i=t.voice,l=new XMLHttpRequest,u=void 0;u=i?"voice":"attachments",l.open("POST",m.default.REQUEST_BASE_URL+"/api/channels/"+n+"/messages/"+u,!0),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.timeout=0,l.upload.addEventListener("progress",function(n){return e.getSignal("messages.uploadProgress")({id:t.id,loaded:n.loaded,processTime:(new Date).getTime()})}),l.addEventListener("timeout",function(){return e.getSignal("messages.uploadFail")({id:t.id})}),l.addEventListener("error",function(){e.getSignal("messages.uploadFail")({id:t.id,err:"network_error"})}),l.addEventListener("abort",function(){return e.getSignal("messages.uploadAbort")({id:t.id})}),l.addEventListener("readystatechange",function(){l&&4===l.readyState&&(l.status>=200&&l.status<300?(e.getSignal("messages.uploadComplete")({id:t.id}),e.getSignal("messages.messageCreate")(JSON.parse(l.responseText))):l.status>0&&e.getSignal("messages.uploadFail")({id:t.id,err:JSON.parse(l.responseText)}))});var c=new FormData;c.append("channel",n),c.append("nonce",o),c.append("content",a),c.append("parentMessageId",s||""),c.append("size",r.size),c.append("file",r),_[t.id]=l,l.send(c),e.getSignal("messages.uploadStart")({id:t.id})}}},getState:function(){return{uploads:{channelUploads:{},uploadToChannels:{},activeAttachment:""}}},getUploads:function(e,t){return u.default.map(e.get([].concat(v,["channelUploads",t])),function(t){return e.get([].concat(v,["uploadToChannels",t]))})}}}).call(t,"views/v2/modules/messages/UploadStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(32)),o=r(n(122)),s=r(n(460)),i=r(n(463)),l=r(n(55)),u=r(n(81)),c=r(n(35)),d="last-visit-channel-id";t.default={name:e,depends:[a.default,i.default,o.default,s.default],signals:{workspaceRouted:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.workspaceId,o=t.channelId;n.getSignal("messages.workspaceSelect")({workspaceId:a}),o?n.getSignal("messages.channelSelect")({workspaceId:a,channelId:o}):r.get("isSupport")?n.getSignal("messages.openSupportTickets")({workspaceId:a}):n.getSignal("messages.openExplore")({workspaceId:a})}],connectionOpen:[function(e){var t=e.router;t&&t.goTo(t.getPath())}],channelRouted:[function(e){var t=e.props,n=e.controller,r=e.state,o=t.channelId,s=t.workspaceId,i=a.default.getChannel(r,o),d=c.default.getChannelId(r,s),f=u.default.getWorkspace(r,s),p=l.default.getWorkspaceId(r);i&&d!==o&&n.getSignal("messages.channelSelect")({channelId:o,workspaceId:s}),f&&p!==s&&n.getSignal("messages.workspaceSelect")({workspaceId:s})}],channelSelect:[function(e){var t=e.state,n=e.props.channelId,r=a.default.getChannel(t,n),o=localStorage.getItem(d);!r||o&&o===r.id||localStorage.setItem(d,r.id)}],exploreRouted:[function(e){e.controller.getSignal("messages.openExplore")()}],rootRouted:[function(e){var t=e.state,n=e.controller;if(!t.get("appVersion")){var r=localStorage.getItem(d);if(r){var o=a.default.getChannel(t,r);if(o)return void n.getSignal("messages.channelSelect")({channelId:o.id,workspaceId:o.workspaceId});localStorage.removeItem(d)}}var s=u.default.getWorkspaces(t),i=Object.values(s).find(function(e){return""===e.organizationId});i&&n.getSignal("messages.openExplore")({workspaceId:i.id})}]},getState:function(){return{}}}}).call(t,"views/v2/modules/messages/LocationStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(80)),a=["messages","voiceConn"],o=null;t.default={name:e,depends:[r.default],signals:{onVoiceStateStart:[function(e){var t=e.props,s=e.messages,i=e.controller,l=e.state,u=r.default.getSessionId(l);if(t.sessionId===u&&!t.fakeSig){if(o&&(o.sessionId===t.sessionId&&o.channelId===t.channelId||(o.destroy(),s.voiceConn.currentConn=o=null)),!o){var c=n(630).default;s.voiceConn.currentConn=o=new c({sessionId:t.sessionId,channelId:t.channelId}),o.on("state",function(e,t){i.getSignal("messages.onVoiceConnState")({channelId:o.channelId,state:e,payload:t})}),o.on("ping",function(){i.getSignal("messages.onVoiceConnPing")({pings:o.getPings(),averagePing:o.getAveragePing(),lastPing:o.getLastPing(),quality:o.getQuality()})})}l.merge(a,{disabled:!1,channelId:o.channelId,state:o.state})}}],onVoiceStateEnd:[function(e){var t=e.props,n=e.messages,s=e.state,i=r.default.getSessionId(s);t.sessionId===i&&o&&o.sessionId===t.sessionId&&o.channelId===t.channelId&&(o.destroy(),n.voiceConn.currentConn=o=null,t.isConflicting?(s.set([].concat(a,["disabled"]),!0),s.set([].concat(a,["lastChannelId"]),t.channelId),s.set([].concat(a,["state"]),"DISCONNECTED"),s.set([].concat(a,["quality"]),"UNKNOWN")):(s.set([].concat(a,["state"]),"DISCONNECTED"),s.unset([].concat(a,["channelId"])),s.set([].concat(a,["quality"]),"UNKNOWN")))}],onVoiceServerUpdate:[function(e){var t=e.props,n=e.messages;if(o&&o.channelId===t.channelId){o.connect(t);var r=n.audioInput.currentInput;r.stream&&o.setStream(r.stream)}}],onVoiceConnState:[function(e){var t=e.props,n=e.state,r=n.get(a);r.channelId===t.channelId&&r.state!==t.state&&n.merge(a,{state:t.state})}],onVoiceConnPing:[function(e){var t=e.props,n=e.state;o&&n.merge(a,t)}],connectionClosed:[function(e){var t=e.controller;o&&t.getSignal("messages.onVoiceStateEnd")({sessionId:o.sessionId,channelId:o.channelId})}],refreshConnDisabled:[function(e){var t=e.state;t.set([].concat(a,["disabled"]),!1),t.set([].concat(a,["lastChannelId"]),"")}]},getServices:function(){return{voiceConn:{currentConn:null}}},getState:function(){return{voiceConn:{disabled:!1,lastChannelId:"",state:"DISCONNECTED"}}}}}).call(t,"views/v2/modules/messages/VoiceConnectionStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(69),u=r(n(45)),c=r(n(453)),d=r(n(631)),f=n(632),p=r(n(633)),g=n(465),h=r(n(636)),m=function(e){function t(e){var n=e.sessionId,r=e.channelId;a(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.sessionId=n,s.channelId=r,s.endpoint=null,s.token=null,s.state=f.VoiceConnectionStates.NEW,s._backoff=new c.default(1e3,1e4),s._socket=null,s._peerConn=null,s._stream=null,s._audioOutputs={},s._pings=[],s._destroyed=!1,s.pingInterval=null,s.logger=u.default.create("VoiceConnection("+n+","+r+")"),s}return s(t,l.EventEmitter),i(t,[{key:"_cleanupSocket",value:function(){this._socket&&(this._socket.removeAllListeners(),this._socket.close(),this._socket=null,this._handleDisconnect(!0,1e3,""))}},{key:"reconnect",value:function(){this._socket&&(this._socket.close(),this._socket.connect())}},{key:"destroy",value:function(){this._backoff.cancel(),this._cleanupSocket(),this.removeAllListeners(),this._stream=null,this._pings=[],this._destroyed=!0}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.logger.info("State: "+e),this.state=e,this.emit("state",e,n),e===f.VoiceConnectionStates.VOICE_CONNECTED)this._backoff.succeed(),this.pingInterval||(this.pingInterval=setInterval(function(){return t._socket.ping()},5e3)),this._socket.ping();else if(e===f.VoiceConnectionStates.VOICE_FAILED){var r=this._backoff.fail(function(){return t.reconnect()});r=(r/1e3).toFixed(2),this.logger.warn("Voice failed! Reconnecting in "+r+" seconds...")}else(e===f.VoiceConnectionStates.VOICE_DISCONNECTED||f.VoiceConnectionStates.VOICE_CLOSED)&&this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}},{key:"setStream",value:function(e){this._stream=e,this._peerConn&&this._peerConn.setStream(e)}},{key:"connect",value:function(e){var t=this,n=e.endpoint,r=e.token;if(this._destroyed)throw new Error("VoiceConnection is already destroyed");this._backoff.cancel();var a=this.endpoint;if(this.endpoint=n,this.token=r,a!==this.endpoint&&this._cleanupSocket(),!this._socket){var o=this._socket=new d.default(this.endpoint);o.on("connecting",function(){t.logger.info("Connecting to voice server "+t.endpoint+"."),t.setState(f.VoiceConnectionStates.CONNECTING)}),o.on("connect",function(){t.logger.info("Connected to voice server."),t.setState(f.VoiceConnectionStates.AUTHENTICATING),t._socket.identify({sessionId:t.sessionId,channelId:t.channelId,token:t.token})}),o.on("disconnect",function(e,n,r){return t._handleDisconnect(e,n,r)}),o.on("sdpOffer",function(e){t.logger.info("Received sdpOffer from voice server."),t.setState(f.VoiceConnectionStates.CONNECTED),t._createPeerConn(e)}),o.on("ssrcsUpdate",function(e){t.logger.info("Received ssrcsUpdate from voice server."),t._ssrcsUpdate(e)}),o.on("ping",function(e){for(t._pings.push(e);t._pings.length>=20;)t._pings.shift();t.emit("ping")}),o.on("token",function(e){t.logger.info("voice server token updated."),t.token=e.token})}this._socket.connect()}},{key:"_handleDisconnect",value:function(e,t,n){var r=this;this.logger.info("Disconnected from voice server.",{wasClean:e,code:t,reason:n}),this._closePeerConn();var a=1e3!==t;if(this.setState(f.VoiceConnectionStates.DISCONNECTED,{willReconnect:a}),a){this._backoff.cancel();var o=this._backoff.fail(function(){return r._socket.connect()});o=(o/1e3).toFixed(2),this.logger.warn("Disconnect was not clean! Reconnecting in "+o+" seconds...")}}},{key:"_ssrcsUpdate",value:function(e){if(!this._peerConn)throw new Error("this._peerConn not created yet");var t={};e.audioSsrcs&&Object.keys(e.audioSsrcs).forEach(function(n){var r=e.audioSsrcs[n];r.ssrc?t[n]=r.parameters:t[n]=null}),this._peerConn.ssrcsUpdate({audioSsrcs:t})}},{key:"_createPeerConn",value:function(e){var t=this;if(this._peerConn)throw new Error("this._peerConn already exists");var n=this._peerConn=new p.default;n.on("connected",function(){return t.setState(f.VoiceConnectionStates.VOICE_CONNECTED)}),n.on("checking",function(){return t.setState(f.VoiceConnectionStates.VOICE_ICE_CHECKING)}),n.on("failed",function(){return t.setState(f.VoiceConnectionStates.VOICE_FAILED)}),n.on("disconnected",function(){return t.setState(f.VoiceConnectionStates.VOICE_DISCONNECTED)}),n.on("closed",function(){return t.setState(f.VoiceConnectionStates.VOICE_CLOSED)}),n.on("addStream",function(e){return t._addStream(e)}),n.on("removeStream",function(e){return t._removeStream(e)}),n.on("ssrcsUpdate",function(e){if(n===t._peerConn){var r={};e.audioSsrcs&&Object.keys(e.audioSsrcs).forEach(function(n){n=Number(n);var a=e.audioSsrcs[n];r[n]=a?{ssrc:n,sessionId:t.sessionId,parameters:a}:{sessionId:t.sessionId}}),t._socket.ssrcsUpdate({channelId:t.channelId,audioSsrcs:r})}}),this._stream&&n.setStream(this._stream);var r=(0,g.fromJitsiSdp)(e.sdpOffer);n.connect(r,function(e){n===t._peerConn&&t._socket.sdpAnswer({channelId:t.channelId,sdpAnswer:(0,g.toJitsiSdp)(e)})}),this.setState(f.VoiceConnectionStates.VOICE_CONNECTING)}},{key:"_closePeerConn",value:function(){var e=this;this._peerConn&&(this._peerConn.removeAllListeners(),this._peerConn.close(),this._peerConn=null,this.setState(f.VoiceConnectionStates.VOICE_CLOSED)),Object.keys(this._audioOutputs).forEach(function(t){e._audioOutputs[t].destroy(),delete e._audioOutputs[t]})}},{key:"_addStream",value:function(e){this._audioOutputs[e.id]&&(this._audioOutputs[e.id].destroy(),delete this._audioOutputs[e.id]),this._audioOutputs[e.id]=new h.default(e.id,e)}},{key:"_removeStream",value:function(e){this._audioOutputs[e.id]&&(this._audioOutputs[e.id].destroy(),delete this._audioOutputs[e.id])}},{key:"getPings",value:function(){return this._pings.slice(0)}},{key:"getAveragePing",value:function(){var e=this._pings;if(e.length)return e.reduce(function(e,t){return e+t},0)/e.length}},{key:"getLastPing",value:function(){var e=this._pings;if(e.length)return e[e.length-1]}},{key:"getQuality",value:function(){var e=this.getLastPing();return this.state!==f.VoiceConnectionStates.VOICE_CONNECTED||void 0===e?f.VoiceConnectionQuality.UNKNOWN:e>500?f.VoiceConnectionQuality.BAD:e>250?f.VoiceConnectionQuality.AVERAGE:f.VoiceConnectionQuality.FINE}}]),t}();t.default=m},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(69),l=function(e){return e&&e.__esModule?e:{default:e}}(n(45)),u=function(t){function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.url=e,t.ws=null,t.logger=l.default.create("VoiceControlSocket("+e+")"),t}return o(n,i.EventEmitter),s(n,[{key:"connect",value:function(){var t=this;if(!this.ws){var n=!1,r=this.ws=new WebSocket(this.url);r.onopen=function(){n=!0,t.emit("connect")},r.onmessage=function(e){var n=JSON.parse(e.data);switch(n.op){case 1:t.emit("sdpOffer",n.d);break;case 3:t.emit("ssrcsUpdate",n.d);break;case 4:t.emit("ping",Date.now()-n.d.ts);break;case 5:t.emit("token",n.d);break;default:t.logger.warn("unknown payload.op ",n.op)}},r.onerror=function(e){r.onclose({wasClean:!1,code:0,reason:e.message})},r.onclose=function(e){var n=e.wasClean,a=e.code,o=e.reason;t.ws===r&&(t.ws=null,t.emit("disconnect",n,a,o))},e.nextTick(function(){n||t.emit("connecting")})}}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=JSON.stringify({op:e,d:t});if(this.ws&&1===this.ws.readyState)try{this.ws.send(n)}catch(e){this.logger.warn("failed to send payload ",e)}else this.logger.warn("ws not opened yet. ignore sending: ",n)}},{key:"close",value:function(){if(this.ws){var e=this.ws;e.onclose({wasClean:!0,code:1e3,reason:""}),e.close(),this.ws=null}}},{key:"identify",value:function(e){var t=e.sessionId,n=e.channelId,r=e.token;this.send(0,{sessionId:t,channelId:n,token:r})}},{key:"ping",value:function(){this.send(4,{ts:Date.now()})}},{key:"sdpAnswer",value:function(e){var t=e.channelId,n=e.sdpAnswer;this.send(2,{channelId:t,sdpAnswer:n})}},{key:"ssrcsUpdate",value:function(e){var t=e.channelId,n=e.audioSsrcs;this.send(3,{channelId:t,audioSsrcs:n})}},{key:"connected",get:function(){return this.ws&&1===this.ws.readyState}}]),n}();t.default=u}).call(t,n(452))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceConnectionQuality=t.VoiceConnectionStates=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(25));t.VoiceConnectionStates=(0,r.default)({NEW:null,CONNECTING:null,AUTHENTICATING:null,CONNECTED:null,DISCONNECTED:null,VOICE_CONNECTING:null,VOICE_ICE_CHECKING:null,VOICE_CONNECTED:null,VOICE_FAILED:null,VOICE_DISCONNECTED:null,VOICE_CLOSED:null}),t.VoiceConnectionQuality=(0,r.default)({UNKNOWN:null,BAD:null,AVERAGE:null,FINE:null})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){this.pc=new RTCPeerConnection(e,t),this.interop=new p.Interop}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(69),c=r(n(45)),d=r(n(464)),f=n(465),p=n(635),g=r(n(22)),h=c.default.create("PeerConnection");window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,window.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription;var m=void 0;m="Firefox"===d.default.name?{offerToReceiveAudio:!0,offerToReceiveVideo:!1}:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},i.prototype.setLocalDescription=function(e,t,n){"Firefox"===d.default.name&&(e=this.interop.toUnifiedPlan(e)),this.pc.setLocalDescription(e,t,n)},i.prototype.setRemoteDescription=function(e,t,n){"Firefox"===d.default.name&&(e=this.interop.toUnifiedPlan(e)),this.pc.setRemoteDescription(e,t,n)},i.prototype.createAnswer=function(e,t,n){var r=this;this.pc.createAnswer(function(t){"Firefox"===d.default.name&&(t=r.interop.toPlanB(t)),e(t)},t,n)},i.prototype.createOffer=function(e,t,n){this.pc.createOffer(function(t){"Firefox"===d.default.name&&(t=self.interop.toPlanB(t)),e(t)},t,n)};var v=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._pcAdapter=null,e._remoteSdp=null,e._stream=null,e._safeExecuting=!1,e._safeQueue=[],e}return s(t,u.EventEmitter),l(t,[{key:"connect",value:function(e,t){var n=this;if(!e)throw new Error("remoteSdp is null");if(this._pcAdapter)throw new Error("PeerConnection is already connected");var r={iceServers:[]};if("Chrome"===d.default.name){var a=(d.default.version||"").split(".")||[];a.length>0&&parseInt(a[0],10)>=72&&(r.sdpSemantics="plan-b")}var o=this._pcAdapter=new i(r);o.pc.onnegotiationneeded=function(){h.info("negotiationNeeded"),n._safeExecute(function(){n._updateRemoteDescription(function(){var e=(0,f.parseSdp)(n._pcAdapter.pc.localDescription.sdp);n._createLocalAnswer(function(t){return n.diffSdp(e,t)})})})},o.pc.oniceconnectionstatechange=function(){var e=n._pcAdapter.pc.iceConnectionState;h.info("iceConnectionState =>",e),"completed"===e&&(e="connected"),n.emit(e)},o.pc.onsignalingstatechange=function(){if(h.info("signalingState =>",n._pcAdapter.pc.signalingState),"stable"===n._pcAdapter.pc.signalingState){n._safeExecuting=!1;var e=n._safeQueue.shift();e&&(h.info("safeExecute: running queued function"),n._safeExecute(e))}},"ontrack"in o.pc?o.pc.ontrack=function(e){return n.emit("addStream",e.streams[0])}:o.pc.onaddstream=function(e){return n.emit("addStream",e.stream)},o.pc.onremovestream=function(e){return n.emit("removeStream",e.stream)},this._remoteSdp=e,this._stream&&o.pc.addStream(this._stream),this._safeExecute(function(){n._updateRemoteDescription(function(){n._createLocalAnswer(t)})})}},{key:"ssrcsUpdate",value:function(e){var t=this,n=e.audioSsrcs;if(!this._pcAdapter)throw new Error("PeerConnection is not connected");var r=!1;if(n){var a=this._remoteSdp.media.find(function(e){return"audio"===e.mid});a&&Object.keys(n).forEach(function(e){var t=n[e];t?a.sources[e]||(a.sources[e]=t,r=!0):a.sources[e]&&(delete a.sources[e],r=!0)})}r&&this._safeExecute(function(){t._updateRemoteDescription(function(){var e=(0,f.parseSdp)(t._pcAdapter.pc.localDescription.sdp);t._createLocalAnswer(function(n){return t.diffSdp(e,n)})})})}},{key:"diffSdp",value:function(e,t){var n={},r=(0,f.diffSdp)(e,t);r&&r.forEach(function(e){"audio"===e.mid&&Object.keys(e.sources).forEach(function(t){n[t]=e.sources[t]})}),(r=(0,f.diffSdp)(t,e))&&r.forEach(function(e){"audio"===e.mid&&Object.keys(e.sources).forEach(function(e){n[e]=null})}),Object.keys(n).length&&this.emit("ssrcsUpdate",{audioSsrcs:n})}},{key:"close",value:function(){this._pcAdapter&&("closed"!==this._pcAdapter.pc.signalingState&&this._pcAdapter.pc.close(),this._pcAdapter.pc.onnegotiationneeded=null,this._pcAdapter.pc.oniceconnectionstatechange=null,this._pcAdapter.pc.onsignalingstatechange=null,"ontrack"in this._pcAdapter.pc?this._pcAdapter.pc.ontrack=null:this._pcAdapter.pc.onaddstream=null,this._pcAdapter.pc.onremovestream=null,this._pcAdapter=null),this._remoteSdp=null,this._stream=null,this._safeExecuting=!1,this._safeQueue=[]}},{key:"setStream",value:function(e){var t=this;if(!e)throw new Error("stream is null");var n=!this._pcAdapter||"closed"===this._pcAdapter.pc.signalingState;this._stream&&!n&&(this._pcAdapter.pc.removeStream?this._pcAdapter.pc.removeStream(this._stream):this._pcAdapter.pc.getSenders().forEach(function(n){e.getTracks().includes(n.track)&&t._pcAdapter.pc.removeTrack(n)})),this._stream=e,this._stream&&!n&&this._pcAdapter.pc.addStream(this._stream)}},{key:"_safeExecute",value:function(e){"closed"!==this._pcAdapter.pc.iceConnectionState?this._safeExecuting?(h.info("safeExecute: currently executing"),this._safeQueue.push(e)):"stable"!==this._pcAdapter.pc.signalingState?(h.info("safeExecute: signaling state",this._pcAdapter.pc.signalingState),this._safeQueue.push(e)):(this._safeExecuting=!0,e()):h.info("safeExecute: ICE connection closed")}},{key:"_createLocalAnswer",value:function(e){var t=this;this._pcAdapter.createAnswer(function(n){t._pcAdapter.setLocalDescription(n,function(){if(h.info("createAnswer+setLocalDescription success"),e){var t=(0,f.parseSdp)(n.sdp);e(t)}},function(e){throw h.error("failed to setLocalDescription",e),e})},function(e){throw h.error("failed to createAnswer",e),e},m)}},{key:"_updateRemoteDescription",value:function(e){var t=(0,f.writeSdp)(g.default.cloneDeep(this._remoteSdp));this._pcAdapter.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:t}),function(){h.info("setRemoteDescription success"),e&&e()},function(e){throw h.error("failed to setRemoteDescription",e),e})}}]),t}();t.default=v},function(e,t,n){e.exports=n(8)(369)},function(e,t,n){e.exports=n(8)(1003)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(45)),s=function(){function e(t,n){r(this,e),this.id=t,this.logger=o.default.create("AudioOutput("+this.id+")");var a=document.createElement("audio");this._audioElement=a,a.autoplay=!0,a.srcObject=n,this._mute=!1,this._volume=100,this._updateAudioElement(),this.logger.info("create")}return a(e,[{key:"destroy",value:function(){this.logger.info("destroy"),this._audioElement.pause(),this._audioElement=null}},{key:"_updateAudioElement",value:function(){this._audioElement.muted=this._mute,this._audioElement.volume=this.volume/100}},{key:"mute",get:function(){return this._mute},set:function(e){this._mute=e||!1,this._updateAudioElement()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=Math.min(Math.round(e),100),this._updateAudioElement()}}]),e}();t.default=s},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(27)),o=r(n(32)),s=r(n(33)),i=r(n(158)),l=r(n(79)),u=n(6),c=r(n(116)),d=r(n(638)),f=n(155),p=/image\/(jpeg|pjpeg|gif|png)$/i;t.default={name:e,depends:[a.default,o.default,s.default,i.default],signals:{messageCreate:[function(e){var t=e.props,r=e.state,g=e.controller,h=n(39).get("DesktopNotificationNotice.dismissed"),m=r.get("currentPath").startsWith("/messages"),v=t;if(!(a.default.getCurrentUserId(r)===v.author.id||m&&i.default.isFocused(r))){var _=s.default.transformMessage(r,v),y=o.default.getChannel(r,v.channelId);if(y&&!y.isMute&&(y&&"direct"===y.type||_.mentioned)&&r.get("messages.window.isMaster")&&("call"!==_.type&&(0,f.playSound)("Message",.4),!h&&c.default.hasPermission())){var b=d.default.getUserAvatar(v.author),S=v.author.fullname,w="";if(!_.contentParsedPlainText&&_.attachments.length){var E=_.attachments[0],O=p.test(E.contentType),I=r.get();w=O?(0,u.i18n)(I,l.default,"image_message",{}):(0,u.i18n)(I,l.default,"file_message",{})}else w=_.contentParsedPlainText;var k={tag:v.channelId,onClick:function(){m?(window.focus(),g.getSignal("messages.channelSelect")({channelId:y.id,workspaceId:y.workspaceId})):window.open("/messages/c/"+v.channelId,"_blank")}};c.default.showNotification(b,S,w,k)}}}]},getState:function(){return{}}}}).call(t,"views/v2/modules/messages/DesktopNtfStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(639)),o=r(n(640)),s=r(n(641)),i=r(n(642)),l=[a.default,o.default,s.default,i.default];t.default={getUserAvatar:function(e){var t=e.id,n=e.avatar;if(n)return n;var r=parseInt(t.slice(0,8),16);return l[r%l.length]}}},function(e,t,n){e.exports=n.p+"../styles/i/default-icon-purple.e9c0075bd93c54d020e4485f35755728.png"},function(e,t,n){e.exports=n.p+"../styles/i/default-icon-pink.a339692c0f8078047e5bfdecbe24e3e5.png"},function(e,t,n){e.exports=n.p+"../styles/i/default-icon-green.0893a32538c298a86b81180d91b58bb6.png"},function(e,t,n){e.exports=n.p+"../styles/i/default-icon-yellow.82ebc9a57fc3e2e8bdf07b3cc704fb25.png"},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(32)),o=r(n(122)),s=r(n(27)),i=r(n(466)),l=["messages","displayLevel"];t.default={name:e,depends:[a.default,o.default],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r={};t.workspaces.forEach(function(e){var t={level:"default"};e.organizationId||(t.job={}),r[e.id]=t}),n.set(l,r)}],changeLevel:[function(e){var t=e.props,n=e.state,r=t.workspaceId,a=t.level,o=t.job;"recruit-list"===a?n.set([].concat(l,[r,"job"]),o):n.set([].concat(l,[r,"job"]),{}),n.set([].concat(l,[r,"level"]),a)}],channelSelect:[function(e){var t=e.props,n=e.state,r=e.controller,l=t.channelId,u=t.workspaceId,c=a.default.getChannel(n,l),d=i.default.getSelectedMenuItem(n);if(c&&"default"===d){var f=r.getSignal("messages.changeLevel");if("direct"===c.type)f({level:"default",workspaceId:u});else if("private"===c.type)if(c.proposalId){var p=s.default.getCurrentUserId(n),g=o.default.getChannelJob(n,c.id);f(g.freelancerId===p?{level:"applied-list",workspaceId:u}:{level:"recruit-list",job:g,workspaceId:u})}else f({level:"default",workspaceId:u});else"public"===c.type&&f({level:"public-list",workspaceId:u})}}],workspaceCreate:[function(e){var t=e.props,n=e.state,r={};r[t.id]={level:"default"},n.merge(l,r)}]},getState:function(){return{displayLevel:{}}}}}).call(t,"views/v2/modules/messages/DisplayLevelStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),a=["messages","userCard"],o=[].concat(a,["itemPos"]),s=[].concat(a,["user"]),i=[].concat(a,["showCard"]),l=[].concat(a,["src"]);t.default={name:e,depends:[],signals:{hideUserCard:[function(e){var t=e.state;t.set(s,{}),t.set(o,{}),t.set(i,!1),t.set(l,"")}],showUserCard:[function(e){var t=e.state,n=e.props,a=n.pos,u=n.user,c=n.src;(0,r.isTouch)()?window.open("/u/"+u.id,"_blank"):(t.set(s,u),t.set(o,a),t.set(i,!0),t.set(l,c))}]},getState:function(){return{userCard:{user:{},itemPos:{},showCard:!1,src:""}}}}}).call(t,"views/v2/modules/messages/UserCardStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(33)),o=r(n(27)),s=r(n(32)),i=r(n(116)),l=n(7),u=["messages","bubbleMessages"];t.default={name:e,depends:[o.default,s.default,a.default],signals:{messageCreate:[function(e){var t=e.props,r=e.state,c=t.trackingId;if(c){var d=r.get(u);null!==d.messageToReply&&d.messageToReply.id===c&&(0,l.isLoading)(d.messageToReplyStatus)&&r.merge(u,{messageToReplyStatus:"succeeded"})}var f=n(39).get("DesktopNotificationNotice.dismissed"),p=r.get("currentPath").startsWith("/messages");if((!i.default.hasPermission()||f)&&!p){var g=t;if(o.default.getCurrentUserId(r)!==g.author.id){var h=a.default.transformMessage(r,g),m=s.default.getChannel(r,h.channelId),v=m&&"direct"===m.type;if(m&&!m.isMute&&("call"!==h.type||h.call.duration)&&(v||h.mentioned)){var _=r.get(u),y=!1;if(null!==_.messageToReply&&(_.messageToReply.id===h.id?(r.merge(u,{messageToReply:h}),y=!0):_.messageToReply.authorId===h.authorId&&_.messageToReply.channelId===h.channelId&&""===_.messageToReplyStatus&&(""!==h.contentParsedPlainText?h.contentParsedPlainText=_.messageToReply.contentParsedPlainText+"\n"+h.contentParsedPlainText:h.contentParsedPlainText=_.messageToReply.contentParsedPlainText,h.attachments=_.messageToReply.attachments.concat(h.attachments),r.merge(u,{messageToReply:h}),y=!0)),!y){var b=_.messagesQueue.find(function(e){return e.id===h.id||e.authorId===h.authorId&&e.channelId===h.channelId});b&&(""!==h.contentParsedPlainText?h.contentParsedPlainText=b.contentParsedPlainText+"\n"+h.contentParsedPlainText:h.contentParsedPlainText=b.contentParsedPlainText,h.attachments=b.attachments.concat(h.attachments)),r.merge(u,{messagesQueue:_.messagesQueue.filter(function(e){return!b||e.id!==b.id}).concat([h])})}}}}}],sendMessageFailed:[function(e){var t=e.props,n=e.state,r=t.trackingId;if(r){var a=n.get(u);null!==a.messageToReply&&a.messageToReply.id===r&&(0,l.isLoading)(a.messageToReplyStatus)&&n.merge(u,{messageToReplyStatus:"failed"})}}],bubbleTryToReplyMessage:[function(e){var t=e.props,n=e.state,r=t.messageId,a=n.get(u),o=a.messagesQueue.find(function(e){return e.id===r});o&&null===a.messageToReply&&n.merge(u,{messageToReply:o,messageToReplyStatus:"",messagesQueue:a.messagesQueue.filter(function(e){return e.id!==r})})}],bubbleReplyMessage:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.messageId,o=t.content,s=n.get(u);null!==s.messageToReply&&s.messageToReply.id===a&&""===s.messageToReplyStatus&&(n.merge(u,{messageToReplyStatus:"inProgress"}),r.getSignal("messages.sendMessage")({channelId:s.messageToReply.channelId,content:o,trackingId:a}))}],bubbleCloseMessage:[function(e){var t=e.props,n=e.state,r=t.messageIds,a={};(void 0===r?[]:r).forEach(function(e){a[e]=!0});var o=n.get(u);null!==o.messageToReply&&a[o.messageToReply.id]&&n.merge(u,{messageToReply:null,messageToReplyStatus:""}),n.merge(u,{messagesQueue:o.messagesQueue.filter(function(e){return!a[e.id]})})}]},getState:function(){return{bubbleMessages:{messagesQueue:[],messageToReply:null,messageToReplyStatus:""}}}}}).call(t,"views/v2/modules/messages/BubbleStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){e.state.set([].concat(o(w),["reportingKey"]),"")}function i(){return[function(){return{fieldPath:[].concat(o(E),["inputReasons"]),fieldDetails:{value:""}}},y.chains.addField]}function l(e){return[function(t){var n=t.props;return{field:[].concat(o(E),[e]),value:n.value,touched:!0}}].concat(o(y.chains.fieldChanged),[(0,h.set)((0,m.state)(c),b.default.initial)])}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=a(["messages.reportStatus"],["messages.reportStatus"]),d=a(["messages.reportInfo.firstLoad"],["messages.reportInfo.firstLoad"]),f=a(["firstLoad"],["firstLoad"]),p=a(["messages.fetchInfoStatus.report"],["messages.fetchInfoStatus.report"]),g=a(["messages.showInfoType"],["messages.showInfoType"]),h=n(9),m=n(0),v=r(n(33)),_=r(n(27)),y=n(21),b=r(n(7)),S=["messages"],w=[].concat(S,["reportInfo"]),E=[].concat(S,["reportForm"]);t.default={name:e,depends:[_.default],signals:{ignoreReport:[function(e){var t=e.props,n=e.state,r=e.path,a=e.http,s=t.reportId,i=t.messageId,l=n.get([].concat(o(w),["items"]));return Object.values(l).filter(function(e){return e.message&&e.message.id===i}).map(function(e){return e.id}).forEach(function(e){n.unset([].concat(o(w),["items",e]))}),a.post("/api/reports/"+s+"/ignore",{}).then(r.success).catch(r.error)},{success:[],error:[]}],fetchReportInfo:[(0,h.set)((0,m.state)(d),(0,m.props)(f)),(0,h.set)((0,m.state)(p),b.default.inProgress),(0,h.set)((0,m.state)(g),"report"),[function(e){var t=e.props,n=e.path,r=e.http,a=e.state,o=t.channelId,s=t.firstLoad,i=a.get(w),l=i.currentPage,u=i.hasMore;return s||u?r.get("/api/channels/"+o+"/reportedMessages",{page:s?0:l+1}).then(n.success).catch(n.error):n.dummy},{success:[function(e){var t=e.props,n=e.controller,r=e.state,a=t.status,s=t.result;if(200===a&&s){var i=s.reports,l=s.hasMore,c=s.page,d=r.get([].concat(o(w),["items"])),f=u({},d);i.forEach(function(e){var t=e.id,n=e.reportUser,a=e.message,o=e.status,s=e.reason,i=e.updatedTime;f[e.id]={id:t,reportUserId:n.id,message:v.default.transformMessage(r,a),status:o,reason:s,updatedTime:i}}),n.getSignal("messages.syncFetchedReportInfo")({reports:i}),r.set([].concat(o(w),["items"]),f),r.set([].concat(o(w),["hasMore"]),l),r.set([].concat(o(w),["currentPage"]),c)}},(0,h.set)((0,m.state)(p),b.default.succeeded)],error:[(0,h.set)((0,m.state)(p),b.default.failed)],dummy:[(0,h.set)((0,m.state)(p),b.default.succeeded)]}]],messageDelete:[function(e){var t=e.props,n=e.state,r=t,a=n.get([].concat(o(w),["items"]));Object.values(a).filter(function(e){return e.message&&e.message.id===r.id}).map(function(e){return e.id}).forEach(function(e){n.unset([].concat(o(w),["items",e]))})}],changeReportType:[].concat(o(l("type")),[function(e){var t=e.state,n=e.path;return"other"!==t.get([].concat(o(E),["type","value"]))?(t.set("messages.reportForm.inputReasons.value",""),n.no()):n.yes()},{yes:[function(){return{fieldPath:[].concat(o(E),["inputReasons"]),fieldDetails:{value:"",validations:["isValue","minLength:10","maxLength:80"],errorMessages:["error_isRequired","error_minLength10","error_maxLength80"],isRequired:!0}}},y.chains.addField],no:i()}]),changeInputReasons:l("inputReasons"),clearShowInfo:[function(e){e.state.set(w,{items:{},hasMore:!1,firstLoad:!1,currentPage:0})}],openReport:[function(e){var t=e.state,n=e.props.messageId;t.set([].concat(o(w),["reportingKey"]),n)}],closeReport:[s].concat(o(y.chains.reset),o(i())),submitReport:[].concat(o(y.chains.formValidated),[function(e){var t=e.state,n=e.path,r=t.get(E);return(0,y.isValidForm)(r)?n.yes():n.no()},{yes:[(0,h.set)((0,m.state)(c),b.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=t.get(E),s=t.get([].concat(o(w),["reportingKey"]));if((0,y.isValidForm)(a)){var i={reason:"other"!==a.type.value?a.type.value:"other:"+a.inputReasons.value};return n.post("/api/messages/"+s+"/report",i).then(r.success).catch(r.error)}return r.dummy()},{success:[(0,h.set)((0,m.state)(c),b.default.succeeded),s],error:[(0,h.set)((0,m.state)(c),b.default.failed)],dummy:[]}]],no:[(0,h.set)((0,m.state)(c),b.default.failed)]}])},getState:function(){return{reportInfo:{items:{},firstLoad:!1,hasMore:!1,currentPage:0,reportingKey:""},reportStatus:"",reportForm:(0,y.Form)({type:{value:"spam"},inputReasons:{value:""}})}}}}).call(t,"views/v2/modules/messages/ReportStore.js")},function(e,t,n){"use strict";(function(e){function r(e){e.state.set([].concat(c,["name"]),{isEditing:!1,value:""})}function a(e){e.state.set([].concat(c,["topic"]),{isEditing:!1,value:""})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["messages.editChannel.editTopicStatus"],["messages.editChannel.editTopicStatus"]),s=function(e){return e&&e.__esModule?e:{default:e}}(n(25)),i=n(9),l=n(0),u=(0,s.default)({initial:null,succeeded:null,failed:null,inProgress:null}),c=["messages","editChannel"];t.default={name:e,depends:[],signals:{editChannelNameEdit:[function(e){var t=e.props;e.state.set([].concat(c,["name"]),{isEditing:!0,value:t.name})}],editChannelNameEditChange:[function(e){var t=e.props;e.state.set([].concat(c,["name"]),{isEditing:!0,value:t.value||""})}],editChannelNameEditCancel:[r],editChannelNameEditCommit:[[function(e){var t=e.props,n=e.state,r=e.path,a=e.http,o=n.get([].concat(c,["name"]));return a.post("/api/channels/"+t.channelId+"/setName",{name:o.value}).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;n.getSignal("messages.channelUpdate")(r)},r],error:[r]}]],editChannelTopicEdit:[function(e){var t=e.props;e.state.set([].concat(c,["topic"]),{isEditing:!0,value:t.topic})}],editChannelTopicEditChange:[function(e){var t=e.props;e.state.set([].concat(c,["topic"]),{isEditing:!0,value:t.value})}],editChannelTopicEditCancel:[a],editChannelTopicEditCommit:[(0,i.set)((0,l.state)(o),u.inProgress),[function(e){var t=e.props,n=e.path,r=e.state,a=e.http,o=r.get([].concat(c,["topic"]));return a.post("/api/channels/"+t.channelId+"/setTopic",{topic:o.value}).then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;n.getSignal("messages.channelUpdate")(r)},a,(0,i.set)((0,l.state)(o),u.succeeded)],error:[a,(0,i.set)((0,l.state)(o),u.failed)]}]],setChannelAvatar:[function(e){var t=e.props,n=e.path,r=e.http,a=t.value,o=t.channelId;return r.post("/api/channels/"+o+"/setAvatar",{avatar:a}).then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[]}],setChannelLive:[function(e){var t=e.props,n=e.path,r=e.http,a=t.live,o=t.channelId;return r.post("/api/channels/"+o+"/setLive",{live:a}).then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.channelUpdate")(r)}],error:[]}]},getState:function(){return{editChannel:{name:{isEditing:!1,value:""},topic:{isEditing:!1,value:""}}}}}}).call(t,"views/v2/modules/messages/EditChannelStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){var n=t.props,r=t.state,a=n.messageId;r.set("messages.reactionStatus.status",e),e===d.default.inProgress?r.set("messages.reactionStatus.messageId",a):r.set("messages.reactionStatus.messageId","")}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(33)),s=r(n(27)),i=r(n(161)),l=r(n(163)),u=r(n(162)),c=r(n(164)),d=r(n(7));t.default={name:e,depends:[],signals:{toggleReaction:[a(d.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.state,a=e.path,d=t.messageId,f=t.channelId,p=t.reactionType,g=r.get("messages.channels."+f),h=g.type,m=g.ticketId,v=g.workspaceId,_=s.default.getCurrentUserId(r),y=r.get("support.tickets.entities."+m+".data"),b=r.get("messages.workspaces."+v);("ticket"===h&&y.assignee===_||b.residentId===_)&&(_=b.botId);var S=(o.default.getMessage(r,f,d)||u.default.getStarMessage(r,d)||l.default.getReplyMessage(r,d)||i.default.getMentionMessage(r,d)||c.default.getSearchedMessage(r,d)).reactions[p];return S&&S[_]?n.post("/api/messages/"+d+"/removeReaction",{reactionType:p}).then(a.success).catch(a.error):n.post("/api/messages/"+d+"/addReaction",{reactionType:p}).then(a.success).catch(a.error)},{success:[function(e){var t=e.props;e.controller.getSignal("messages.syncReactionResult")(t)},a(d.default.succeeded)],error:[a(d.default.failed)]}]],syncReactionResult:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&n.getSignal("messages.messageUpdate")(r)}]},getState:function(){return{reactionStatus:{}}}}}).call(t,"views/v2/modules/messages/ReactionStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(55)),a=["messages","searchUsers"];t.default={name:e,depends:[],signals:{onConversationsFilterChanged:[function(e){var t=e.props,n=e.http,a=e.path,o=e.state,s=t.value,i=r.default.getWorkspaceId(o);return s&&i?n.get("/api/workspaces/"+i+"/searchUser",{keyword:s}).then(a.success).catch(a.error):a.success()},{success:[function(e){var t=e.props,n=e.state,r=(t.result||{}).users,o={};(void 0===r?[]:r).forEach(function(e){o[e.id]={id:e.id,fullname:e.fullname,avatar:e.avatar}}),n.set(a,o)}],error:[]}]},getState:function(){return{searchUsers:{}}}}}).call(t,"views/v2/modules/messages/SearchUserStore.js")},function(e,t,n){"use strict";(function(e){function r(e){e.state.set(o,{})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(n(33)),o=["messages","editingMessage"];t.default={name:e,depends:[],signals:{editMessageStart:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.id,s=t.content,i=n.get(o),l=0;i&&i.id===a&&i.channelId===r&&(l=i.ticker+1),n.set(o,{channelId:r,id:a,content:s,ticker:l})}],editMessageEnd:[r],channelSelect:[r]},getState:function(){return{editingMessage:{}}},getEditingMessage:function(e){var t=e.get([].concat(o)),n=t.channelId,r=t.id;return a.default.getMessage(e,n,r)},isEditing:function(e,t,n){var r=this.getEditingMessage(e);return r&&r.channelId===t&&r.id===n}}}).call(t,"views/v2/modules/messages/EditMessageStore.js")},function(e,t,n){"use strict";(function(e){function r(e){var t=e.props,n=e.state,r=t.channelId,a=t.messageId,o=t.deleteAsAdmin;n.set(l,{channelId:r,messageId:a,deleteAsAdmin:o})}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["deleteAsAdmin"],["deleteAsAdmin"]),o=function(e){return e&&e.__esModule?e:{default:e}}(n(52)),s=n(9),i=n(0),l=["messages","deletingMessage"];t.default={name:e,depends:[],signals:{deleteMessageStart:[(0,s.when)((0,i.props)(a),function(e){return e}),{true:[o.default.TfaRequired(r)],false:[r]}],deleteMessageEnd:[function(e){e.state.set(l,{})}]},getState:function(){return{deletingMessage:{}}}}}).call(t,"views/v2/modules/messages/DeleteMessageStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){var t=e.controller,n=e.props;t.getSignal("messages.syncInvitationInfo")(n)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(["messages.fetchInvitationInfoStatus"],["messages.fetchInvitationInfoStatus"]),s=r(["messages.showInvitationDialog"],["messages.showInvitationDialog"]),i=n(9),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(n(7)),c=["messages"],d=[].concat(c,["invitationInfo"]),f=[].concat(c,["showInvitationDialog"]);t.default={name:e,depends:[],signals:{fetchInvitationInfo:[(0,i.set)((0,l.state)(o),u.default.inProgress),[function(e){var t=e.props,n=e.path,r=e.http,a=t.channelId;return r.get("/api/invitation/channel/"+a).then(n.success).catch(n.error)},{success:[a,(0,i.set)((0,l.state)(o),u.default.succeeded)],error:[(0,i.set)((0,l.state)(o),u.default.failed)]}]],syncInvitationInfo:[function(e){var t=e.props,n=e.state,r=t.result;200===t.status&&r&&(n.set(d,r),n.set(f,!0))}],closeInvitationDialog:[(0,i.set)((0,l.state)(s),!1)],makeInvitationNeverExpire:[(0,i.set)((0,l.state)(o),u.default.inProgress),[function(e){var t=e.props,n=e.path,r=e.http,a=t.id;return r.post("/api/invitation/"+a+"/makeNeverExpire").then(n.success).catch(n.error)},{success:[a,(0,i.set)((0,l.state)(o),u.default.succeeded)],error:[(0,i.set)((0,l.state)(o),u.default.failed)]}]],resetInvitationNeverExpire:[(0,i.set)((0,l.state)(o),u.default.inProgress),[function(e){var t=e.props,n=e.path,r=e.http,a=t.id;return r.post("/api/invitation/"+a+"/resetNeverExpire").then(n.success).catch(n.error)},{success:[a,(0,i.set)((0,l.state)(o),u.default.succeeded)],error:[(0,i.set)((0,l.state)(o),u.default.failed)]}]]},getState:function(){return{invitationInfo:{},showInvitationDialog:!1,fetchInvitationInfoStatus:u.default.initial}}}}).call(t,"views/v2/modules/messages/InvitationInfoStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["messages.showInvitationEventDialog"],["messages.showInvitationEventDialog"]),a=n(9),o=n(0);t.default={name:e,depends:[],signals:{openInvitationEventDialog:[function(e){var t=e.props,n=e.state,r=t.eventId,a=n.get("currentHost");r&&(n.set(["messages","invitationEventUrl"],"https://"+a+"/events/"+r),n.set(["messages","showInvitationEventDialog"],!0))}],closeInvitationEventDialog:[(0,a.set)((0,o.state)(r),!1)]},getState:function(){return{invitationEventUrl:"",showInvitationEventDialog:!1}}}}).call(t,"views/v2/modules/messages/InvitationEventStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(){return{open:!1,top:0,left:0,imageFile:"",imageWidth:0,imageHeight:0,originWidth:0,originHeight:0,cropWidth:0,cropHeight:0,maxCropWidth:0,maxCropHeight:0}}function i(){return(0,_.Form)({avatar:{value:"",validations:[],errorMessages:[]},name:{value:"",validations:["isValue"],errorMessages:["error_nameIsRequired"],isRequired:!0},description:{value:"",validations:["isValue"],errorMessages:["error_descriptionIsRequired"],isRequired:!0},tags:{value:[]},isLive:{value:!1,isRequired:!1},isPrivate:{value:!1,isRequired:!1}})}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=o(["messages.beALobby.uploadImage.open"],["messages.beALobby.uploadImage.open"]),c=o(["messages.beALobby.updateStatus"],["messages.beALobby.updateStatus"]),d=o(["messages.beALobby.displayBeALobbyDialog"],["messages.beALobby.displayBeALobbyDialog"]),f=o(["value"],["value"]),p=o(["messages.beALobby.form"],["messages.beALobby.form"]),g=o(["messages.beALobby.isNew"],["messages.beALobby.isNew"]),h=o(["isNew"],["isNew"]),m=n(9),v=n(0),_=n(21),y=r(n(53)),b=r(n(25)),S=r(n(35)),w=r(n(81)),E=(0,b.default)({initial:null,succeeded:null,failed:null,inProgress:null}),O=["messages","beALobby","form"],I=["messages","beALobby","uploadImage"];t.default={name:e,depends:[],signals:{openUploadImage:[function(e){var t=e.props,n=e.state,r=s();n.merge([].concat(I),l({},r,t,{open:!0}))}],closeUploadImage:[(0,m.set)((0,v.state)(u),!1)],suggestTag:[function(e){var t=e.props,n=e.http,r=e.path,a=t.q;return n.get("/api/searchSuggest",{q:a,t:"tags"}).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.state,r=t.result.candidates;n.set("messages.beALobby.tagSuggestions",r)}],error:[]}],changeTag:[function(e){var t=e.props;return{field:[].concat(O,["tags"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),saveImage:[function(e){var t=e.props;return{field:[].concat(O,["avatar"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),changeName:[function(e){var t=e.props;return{field:[].concat(O,["name"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),changeDescription:[function(e){var t=e.props;return{field:[].concat(O,["description"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),changeIsLive:[function(e){var t=e.props;return{field:[].concat(O,["isLive"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),changeIsPrivate:[function(e){var t=e.props;return{field:[].concat(O,["isPrivate"]),value:t.value,touched:!0}}].concat(a(_.chains.fieldChanged)),submitLobbyRequest:y.default.EmailRequired([function(e){return e.props.formPath?{}:{formPath:[].concat(O)}}].concat(a(_.chains.formValidated),[function(e){var t=e.state,n=e.path,r=t.get(O);return(0,_.isValidForm)(r)?n.yes():n.no()},{yes:[(0,m.set)((0,v.state)(c),E.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=e.props,o=t.get(O),s=a.workspaceId,i=w.default.getWorkspace(t,s);if(!i)return r.error();if((0,_.isValidForm)(o)){var l=Object.keys(o).reduce(function(e,t){return e[t]=o[t].value,e},{});if(l.tags=l.tags.map(function(e){return{id:e.id,type:e.type}}),l.workspaceId=s,t.get("messages.beALobby.isNew"))return n.post("/api/workspaces/"+s+"/channels_lobby",l).then(r.createSuccess).catch(r.error);var u=S.default.getChannelId(t);return l.channelId=u,n.post("/api/channels/"+u+"/convertToLobby",l).then(function(e){return r.convertSuccess({resp:e,isTicket:""===i.organizationId})}).catch(r.error)}return r.dummy()},{convertSuccess:[(0,m.set)((0,v.state)(c),E.succeeded),function(e){var t=e.props,n=e.state,r=e.controller,a=t.resp,o=a.result,s=a.status,i=t.isTicket;if(200===s&&o)if(i){var l=S.default.getChannelId(n);n.set("messages.channels."+l+".ticket",o),r.getSignal("header.showMessage")({message:"be_a_lobby_request_sent",type:"info"})}else{var u=o.lobbyChannel,c=o.lobbyCount;r.getSignal("messages.channelCreate")(u),r.getSignal("messages.channelSelect")({channelId:u.id,workspaceId:u.workspaceId}),r.getSignal("messages.handleChannelScroll")(),r.getSignal("messages.syncLobbyCount")({count:c,workspaceId:u.workspaceId})}},(0,m.set)((0,v.state)(d),!1)],createSuccess:[(0,m.set)((0,v.state)(c),E.succeeded),function(e){var t=e.props,n=e.controller,r=t.result;if(200===t.status&&r){var a=r.lobbyChannel,o=r.lobbyCount;n.getSignal("messages.channelCreate")(a),n.getSignal("messages.channelSelect")({channelId:a.id,workspaceId:a.workspaceId}),n.getSignal("messages.handleChannelScroll")(),n.getSignal("messages.syncLobbyCount")({count:o,workspaceId:a.workspaceId})}},(0,m.set)((0,v.state)(d),!1)],error:[(0,m.set)((0,v.state)(c),E.failed),function(e){var t=e.props,n=e.controller,r="submitted_failed_"+t.result.errorCode;n.getSignal("header.showMessage")({message:r})}],dummy:[]}]],no:[(0,m.set)((0,v.state)(c),E.failed)]}])),changeDisplayBeALobbyDialog:[(0,m.when)((0,v.props)(f),function(e){return e}),{true:[(0,m.set)((0,v.state)(p),i()),(0,m.set)((0,v.state)(g),(0,v.props)(h))],false:[]},(0,m.set)((0,v.state)(d),(0,v.props)(f))]},getState:function(){return{beALobby:{updateStatus:E.initial,displayBeALobbyDialog:!1,uploadImage:s(),tagSuggestions:[],form:i(),isNew:!1}}}}}).call(t,"views/v2/modules/messages/BeALobbyStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages"],r=[].concat(n,["memberOptionKey"]);t.default={name:e,depends:[],signals:{clearShowInfo:[function(e){e.state.set(r,"")}],setMemberOptionKey:[function(e){var t=e.state,n=e.props.userId;t.set(r,n)}]},getState:function(){return{memberOptionKey:""}}}}).call(t,"views/v2/modules/messages/MemberOptionStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["messages.setRoleInfo.setRoleStatus"],["messages.setRoleInfo.setRoleStatus"]),o=r(n(25)),s=n(0),i=n(9),l=r(n(41)),u=(0,o.default)({initial:null,succeeded:null,failed:null,inProgress:null}),c=["messages","setRoleInfo"];t.default={name:e,depends:[],signals:{toggleSetRoleDialog:[function(e){var t=e.controller,n=e.props,r=e.state,a=n.userId;a||t.getSignal("messages.changeSelectedRole")({role:""}),r.set([].concat(c,["userId"]),a)}],changeSelectedRole:[function(e){var t=e.props;e.state.set([].concat(c,["selectedRole"]),t.role)}],setChannelMemberRole:[(0,i.set)((0,s.state)(a),u.inProgress),[function(e){var t=e.props,n=e.state,r=e.http,a=e.path,o=t.channelId,s=t.userId,i=n.get([].concat(c,["selectedRole"])),u=l.default.getMember(n,o,s);return u&&u.role===i?a.success():i?r.post("/api/channels/"+o+"/members/"+s+"/setRole",{role:i}).then(a.success).catch(a.error):a.success()},{success:[(0,i.set)((0,s.state)(a),u.succeeded),function(e){var t=e.props,n=e.controller,r=e.state,a=t.result,o=t.status;r.set([].concat(c,["userId"]),""),200===o&&a&&n.getSignal("messages.channelMemberAdd")(a)}],error:[(0,i.set)((0,s.state)(a),u.failed)]}]]},getState:function(){return{setRoleInfo:{userId:"",selectedRole:""}}}}}).call(t,"views/v2/modules/messages/SetRoleStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(){return{isExploring:!1,searchQuery:"",searchStatus:j.default.initial,joinLobbyStatus:{},searchResult:{items:[],currentPage:0,pages:[],total:0},pageTicker:0,lobbyCount:{public:0,live:0,event:0,total:0},lobbyType:"public",liveOnly:!1}}function i(e){var t=e.state,n=e.props,r=e.http,a=e.path,o=n.page,s=n.workspaceId,i=t.get([].concat(M,[s,"searchQuery"])),l=t.get([].concat(M,[s,"lobbyType"])),u=[];return u.push("q:"+i),r.get("/api/c",{k:JSON.stringify(u),page:o,lt:l,workspaceId:s}).then(a.success).catch(a.error)}function l(e){var t=e.state,n=e.props,r=n.result;if(200===n.status&&r){var a=t.get([].concat(M,[n.workspaceId,"searchResult"])),s=r.items,i=r.currentPage,l=r.pages,u=r.total;if(a&&s&&i>0){var c=a.items||[];t.set([].concat(M,[n.workspaceId,"searchResult"]),{items:[].concat(o(c),o(s)),currentPage:i,pages:l,total:a.total})}else t.set([].concat(M,[n.workspaceId,"searchResult"]),{items:s,currentPage:i,pages:l,total:u})}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=a(["messages.exploreInfo.",".searchStatus"],["messages.exploreInfo.",".searchStatus"]),d=a(["workspaceId"],["workspaceId"]),f=a(["messages.exploreInfo.",".pageTicker"],["messages.exploreInfo.",".pageTicker"]),p=a(["messages.exploreInfo.",".liveOnly"],["messages.exploreInfo.",".liveOnly"]),g=a(["messages.exploreInfo.",".isExploring"],["messages.exploreInfo.",".isExploring"]),h=a(["page"],["page"]),m=a(["messages.exploreInfo.",".joinLobbyStatus.",""],["messages.exploreInfo.",".joinLobbyStatus.",""]),v=a(["channelId"],["channelId"]),_=a(["display"],["display"]),y=a(["messages.entitlementRequired.eventId"],["messages.entitlementRequired.eventId"]),b=a(["eventId"],["eventId"]),S=a(["messages.entitlementRequired.display"],["messages.entitlementRequired.display"]),w=a(["messages.kickedFromChannel.display"],["messages.kickedFromChannel.display"]),E=a(["messages.exploreInfo.",".lobbyType"],["messages.exploreInfo.",".lobbyType"]),O=a(["value"],["value"]),I=n(9),k=n(0),C=r(n(32)),T=r(n(55)),j=r(n(7)),M=["messages","exploreInfo"];t.default={name:e,depends:[],signals:{openExplore:[(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.inProgress),(0,I.set)((0,k.state)(f,(0,k.props)(d)),0),(0,I.set)((0,k.state)(p,(0,k.props)(d)),!1),(0,I.set)((0,k.state)(g,(0,k.props)(d)),!0),[i,{success:[l,(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.succeeded)],error:[(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.failed)]}]],stopExplore:[(0,I.set)((0,k.state)(g,(0,k.props)(d)),!1)],searchChannel:[(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.inProgress),(0,I.set)((0,k.state)(f,(0,k.props)(d)),(0,k.props)(h)),[i,{success:[l,(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.succeeded)],error:[(0,I.set)((0,k.state)(c,(0,k.props)(d)),j.default.failed)]}]],channelSelect:[function(e){var t=e.props,n=e.state,r=t.channelId,a=t.workspaceId;r&&(n.set([].concat(M,[a,"isExploring"]),!1),n.set([].concat(M,[a,"searchQuery"]),""))}],onSearchQueryChanged:[function(e){var t=e.props;e.state.set([].concat(M,[t.workspaceId,"searchQuery"]),t.query)}],onExploredLobbySelect:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.channel;C.default.getChannel(n,a.id)?(r.getSignal("messages.channelSelect")({channelId:a.id,workspaceId:a.workspaceId}),r.getSignal("messages.handleChannelScroll")()):r.getSignal("messages.joinLobby")({channelId:a.id})}],joinLobby:[(0,I.set)((0,k.state)(m,(0,k.props)(d),(0,k.props)(v)),j.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.channelId;return n.post("/api/channels/"+a+"/join",{}).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller,r=t.result;200===t.status&&r&&r.forEach(function(e){n.getSignal("messages.channelCreate")(e),"live"!==e.type&&(n.getSignal("messages.channelSelect")({channelId:e.id,workspaceId:e.workspaceId}),n.getSignal("messages.handleChannelScroll")())})},(0,I.set)((0,k.state)(m,(0,k.props)(d),(0,k.props)(v)),j.default.succeeded)],error:[function(e){var t=e.controller,n=e.props,r=n.result,a=r.errorCode,o=r.target,s=n.status;if(400===s&&"ChannelMemberWasKicked"===a&&t.getSignal("messages.toggleKickedFromChannel")({display:!0}),400===s&&"EntitlementRequired"===a){var i=o||null;t.getSignal("messages.toggleEntitlementRequired")({display:!0,eventId:i})}},(0,I.set)((0,k.state)(m,(0,k.props)(d),(0,k.props)(v)),j.default.failed)]}]],connectionOpen:[function(e){var t=e.props,n=e.state,r=t.lobbyCounts,a=t.workspaces,o={};r.forEach(function(e){var t=s();o[e.workspaceId]=u({},t,{lobbyCount:e})}),a.forEach(function(e){o[e.id]||(o[e.id]=s())}),n.set(M,o)}],workspaceCreate:[function(e){var t=e.props,n=e.state,r={};r[t.id]=s(),n.merge(M,r)}],setLiveOnly:[function(e){var t=e.props,n=e.state,r=e.controller,a=t.workspaceId,o=t.value;n.set([].concat(M,[a,"liveOnly"]),o),r.getSignal("messages.searchChannel")({page:0,liveOnly:o,workspaceId:a})}],syncLobbyCount:[function(e){var t=e.props,n=e.state,r=t.count,a=t.workspaceId;n.set([].concat(M,[a,"lobbyCount","total"]),r)}],toggleEntitlementRequired:[(0,I.when)((0,k.props)(_),function(e){return e}),{true:[(0,I.set)((0,k.state)(y),(0,k.props)(b))],false:[(0,I.set)((0,k.state)(y),null)]},(0,I.set)((0,k.state)(S),(0,k.props)(_))],toggleKickedFromChannel:[(0,I.set)((0,k.state)(w),(0,k.props)(_))],switchLobbyType:[(0,I.set)((0,k.state)(E,(0,k.props)(d)),(0,k.props)(O)),function(e){var t=e.controller,n=e.props.workspaceId;t.getSignal("messages.searchChannel")({page:0,workspaceId:n})}],openSupportTickets:[function(e){var t=e.props,n=e.state,r=t.workspaceId;n.set([].concat(M,[r,"isExploring"]),!1),n.set([].concat(M,[r,"searchQuery"]),"")}]},getState:function(){return{exploreInfo:{},entitlementRequired:{display:!1,eventId:null},kickedFromChannel:{display:!1}}},getExploreInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t=t||T.default.getWorkspaceId(e),e.get([].concat(M,[t]))}}}).call(t,"views/v2/modules/messages/ExploreLobbyStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=a(["value"],["value"]),s=a(["messages.channelTags.tags"],["messages.channelTags.tags"]),i=a(["tags"],["tags"]),l=a(["messages.channelTags.display"],["messages.channelTags.display"]),u=a(["messages.channelTags.updateStatus"],["messages.channelTags.updateStatus"]),c=n(9),d=n(0),f=r(n(25)),p=r(n(35)),g=(0,f.default)({initial:null,succeeded:null,failed:null,inProgress:null});t.default={name:e,depends:[],signals:{toggleChannelTags:[(0,c.when)((0,d.props)(o),function(e){return e}),{true:[(0,c.set)((0,d.state)(s),(0,d.props)(i))],false:[(0,c.set)((0,d.state)(s),[])]},(0,c.set)((0,d.state)(l),(0,d.props)(o))],changeChannelTags:[(0,c.set)((0,d.state)(s),(0,d.props)(o))],requestChannelTagsChange:[(0,c.set)((0,d.state)(u),g.inProgress),function(e){var t=e.state,n=e.http,r=e.path,a=t.get("messages.channelTags.tags"),o=p.default.getChannelId(t);return n.post("/api/channels/"+o+"/setTags",{tags:a}).then(r.success).catch(r.error)},{success:[(0,c.set)((0,d.state)(u),g.succeeded),(0,c.set)((0,d.state)(s),[]),(0,c.set)((0,d.state)(l),!1)],error:[(0,c.set)((0,d.state)(u),g.failed)]}]},getState:function(){return{channelTags:{display:!1,tags:[],updateStatus:g.initial}}}}}).call(t,"views/v2/modules/messages/ChannelTagsStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(["messages.addHostDialog.show"],["messages.addHostDialog.show"]),i=a(["messages.addHostDialog.selectedSuggestUser"],["messages.addHostDialog.selectedSuggestUser"]),l=a(["messages.addHostDialog.hide"],["messages.addHostDialog.hide"]),u=a(["messages.addHostDialog.suggestStatus"],["messages.addHostDialog.suggestStatus"]),c=a(["messages.addHostDialog.suggestUsersList"],["messages.addHostDialog.suggestUsersList"]),d=a(["messages.addHostDialog.updateStatus"],["messages.addHostDialog.updateStatus"]),f=a(["messages.removeHostDialog.updateStatus"],["messages.removeHostDialog.updateStatus"]),p=a(["messages.removeHostDialog.show"],["messages.removeHostDialog.show"]),g=a(["messages.removeHostDialog.channelId"],["messages.removeHostDialog.channelId"]),h=a(["messages.removeHostDialog.userId"],["messages.removeHostDialog.userId"]),m=n(9),v=n(0),_=r(n(7)),y=r(n(35));t.default={name:e,depends:[],signals:{openAddHostDialog:[function(e){var t=e.state,n=y.default.getChannelId(t),r=t.get("messages.channels"),a=t.get("messages.channelMembers")[r[n].liveChannelId],o=t.get("messages.users"),s=Object.values(a).filter(function(e){var t=e.role;return"admin"===t||"moderator"===t||"owner"===t}).map(function(e){var t=e.userId;return o[t]});t.set("messages.addHostDialog.selectedSuggestUser",s)},(0,m.set)((0,v.state)(s),!0)],openRemoveHostDialog:[function(e){var t=e.state,n=e.props,r=n.channelId,a=n.userId,o=n.name;t.set("messages.removeHostDialog",{show:!0,channelId:r,userId:a,name:o})}],closeRemoveHostDialog:[function(e){e.state.set("messages.removeHostDialog",{show:!1,channelId:"",userId:""})}],closeAddHostDialog:[(0,m.set)((0,v.state)(s),!1)],addSelectUser:[function(e){var t=e.props,n=e.state,r=n.get("messages.addHostDialog.selectedSuggestUser");n.set("messages.addHostDialog.selectedSuggestUser",[].concat(o(r),[t]))}],cancelSuggestUsers:[(0,m.set)((0,v.state)(i),null)],hideSearchBar:[(0,m.set)((0,v.state)(l),!0)],showSearchBar:[(0,m.set)((0,v.state)(l),!1)],suggestUsers:[(0,m.set)((0,v.state)(u),_.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path,a=t.v;return n.get("/api/userSuggest",{q:a,limit:5}).then(r.success).catch(r.error)},{success:[(0,m.set)((0,v.state)(u),_.default.succeeded),function(e){var t=e.props,n=e.state,r=t.result.candidates;n.set("messages.addHostDialog.suggestUsersList",r)}],error:[(0,m.set)((0,v.state)(u),_.default.failed)]}]],clearSuggestUser:[(0,m.set)((0,v.state)(c),null)],addHost:[(0,m.set)((0,v.state)(d),_.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=e.controller,o=t.get("messages.addHostDialog.selectedSuggestUser").map(function(e){return e.id}),s=y.default.getChannelId(t);if(o&&o.length>0){var i=t.get("messages.channels"),l=t.get("messages.channelMembers")[i[s].liveChannelId],u=Object.values(l).filter(function(e){var t=e.role;return"admin"===t||"moderator"===t||"owner"===t}).map(function(e){return e.userId});return n.post("/api/channels/"+s+"/members",{userIds:o.filter(function(e){return-1===u.findIndex(function(t){return t===e})}),role:"admin"}).then(r.success).catch(r.error)}return a.getSignal("header.showMessage")({message:"should_select_user"}),r.error()},{success:[(0,m.set)((0,v.state)(d),_.default.succeeded),(0,m.set)((0,v.state)(s),!1),(0,m.set)((0,v.state)(c),null),(0,m.set)((0,v.state)(i),null),(0,m.set)((0,v.state)(l),!1)],error:[(0,m.set)((0,v.state)(d),_.default.failed)]}]],removeHost:[(0,m.set)((0,v.state)(f),_.default.inProgress),[function(e){var t=e.props,n=e.path,r=e.http,a=t.userId,o=t.channelId;return a&&o?r.post("/api/channels/"+o+"/members/"+a+"/setRole",{role:"member"}).then(n.success).catch(n.error):n.error()},{success:[(0,m.set)((0,v.state)(f),_.default.succeeded),(0,m.set)((0,v.state)(p),!1),(0,m.set)((0,v.state)(g),""),(0,m.set)((0,v.state)(h),"")],error:[(0,m.set)((0,v.state)(f),_.default.failed)]}]]},getState:function(){return{addHostDialog:{show:!1,suggestUsersList:null,selectedSuggestUser:[],updateStatus:"",suggestStatus:"",hide:!1},removeHostDialog:{updateStatus:"",show:!1,channelId:"",userId:"",name:""}}}}}).call(t,"views/v2/modules/messages/AddHostStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){var n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=function(){var e=n.src,r=n.duration;n.src="",window.URL.revokeObjectURL(e),t(r)},n.src=URL.createObjectURL(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(["messages.addVideoDialog.type"],["messages.addVideoDialog.type"]),i=a(["messages.addVideoDialog.show"],["messages.addVideoDialog.show"]),l=a(["messages.addVideoDialog.cloudType"],["messages.addVideoDialog.cloudType"]),u=a(["messages.addVideoDialog.error"],["messages.addVideoDialog.error"]),c=a(["messages.addVideoDialog.url"],["messages.addVideoDialog.url"]),d=a(["messages.addVideoDialog.readyUrl"],["messages.addVideoDialog.readyUrl"]),f=a(["messages.addVideoDialog.streamData"],["messages.addVideoDialog.streamData"]),p=a(["messages.streamInfoDialog.show"],["messages.streamInfoDialog.show"]),g=a(["value"],["value"]),h=a(["url"],["url"]),m=a(["messages.addRecordDialog.status"],["messages.addRecordDialog.status"]),v=a(["messages.addRecordDialog.percentage"],["messages.addRecordDialog.percentage"]),_=a(["messages.showStream"],["messages.showStream"]),y=a(["messages.showRecords"],["messages.showRecords"]),b=a(["messages.selectedRecord"],["messages.selectedRecord"]),S=n(9),w=n(0),E=r(n(35)),O=r(n(14)),I=r(n(7)),k=/(.*\.?|^)(youtube|youtu)\.(com|be)/i,C=/(.*\.?|^)(youtube|youtu|vimeo|qq)\.(com|be)/i,T={};t.default={name:e,depends:[],signals:{openAddStreamDialog:[(0,S.set)((0,w.state)(s),"stream"),(0,S.set)((0,w.state)(i),!0),(0,S.set)((0,w.state)(l),"tencent")],openAddRecordDialog:[(0,S.set)((0,w.state)(s),"record"),(0,S.set)((0,w.state)(i),!0)],closeAddVideoDialog:[(0,S.set)((0,w.state)(i),!1),(0,S.set)((0,w.state)(u),""),(0,S.set)((0,w.state)(c),""),(0,S.set)((0,w.state)(d),""),(0,S.set)((0,w.state)(f),null)],closeStreamInfoDialog:[(0,S.set)((0,w.state)(p),!1)],setStreamLoading:[function(e){var t=e.state,n=e.props;t.set("messages.addVideoDialog.streamLoading",n.value)}],previewVideo:[function(e){var t=e.props,n=e.state,r=e.path,a=t.url,o=n.get("messages.addVideoDialog.type"),s=k;return"record"===o&&(s=C),!1===s.test(a)?(n.set("messages.addVideoDialog.error","Invalid "+a),r.no()):(n.unset("messages.addVideoDialog.error"),n.set("messages.addVideoDialog.url",a),r.yes({url:a}))},{yes:[function(e){var t=e.props,n=e.messages,r=e.state,a=r.get("messages.addVideoDialog.type"),o=E.default.getChannelId(r);n.httpPreviewStream(t,o,a)}],no:[]}],addStreamPreview:[function(e){var t=e.props,n=e.state,r=t.result;n.set("messages.addVideoDialog.streamData",r)}],previewStreamFail:[(0,S.set)((0,w.state)(u),"preview_failed")],changeStreamUrl:[(0,S.set)((0,w.state)(c),(0,w.props)(g))],changeStreamReadyUrl:[(0,S.set)((0,w.state)(d),(0,w.props)(h))],addStream:[function(e){var t=e.props,n=e.http,r=e.path,a=e.state,o=t.channelId,s=t.type,i=t.cloudType,l=a.get("messages.addVideoDialog.readyUrl");return n.post("/api/channels/"+o+"/stream",{url:l,type:s,cloudType:i}).then(r.success).catch(r.error)},{success:[(0,S.set)((0,w.state)(i),!1),function(e){var t=e.props,n=e.state;if("rtmp"===t.type){var r=t.result,a=r.endpoint,o=r.stream;n.set("messages.streamInfoDialog.endpoint",a),n.set("messages.streamInfoDialog.stream",o),n.set("messages.streamInfoDialog.show",!0)}}],error:[]}],addRecord:[function(e){var t=e.state,n=e.http,r=e.path,a=e.props.channelId,o=t.get("messages.addVideoDialog.readyUrl");return n.post("/api/channels/"+a+"/record",{url:o}).then(r.success).catch(r.error)},{success:[(0,S.set)((0,w.state)(i),!1)],error:[]}],removeRecord:[function(e){var t=e.http,n=e.props,r=e.path,a=n.index,o=n.channelId;return t.post("/api/channels/"+o+"/record/remove",{index:a}).then(r.success).catch(r.error)},{success:[],error:[]}],shareRecord:[function(e){var t=e.http,n=e.props,r=e.path,a=n.index,o=n.channelId;return t.post("/api/channels/"+o+"/record/share",{index:a}).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,n=e.controller;if(""===t.result.url)n.getSignal("header.showMessage")({message:"channel_record_processing"});else{var r=document.createElement("textarea"),a=new URL(window.location.href);r.value=a.protocol+"//"+a.host+t.result.url,r.setAttribute("readonly",""),r.style={position:"fixed",left:"-9999px"},document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),n.getSignal("header.showMessage")({message:"channel_record_share_link_copied",type:"info"})}}],error:[]}],uploadRecord:[[(0,S.set)((0,w.state)(m),I.default.inProgress)],function(e){var t=e.props,n=e.http,r=e.path;return n.post("/api/resumableUpload",{fileName:t.upload.file.name,fileType:t.upload.file.type,fileSize:t.upload.file.size,private:!1}).then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=e.props,r=e.messages;o(n.upload.file,function(e){t.set("messages.addRecordDialog.size",n.upload.file.size),t.set("messages.currentUpload",n),t.set("messages.currentUpload.upload.videoDuration",e);var a=E.default.getChannelId(t),o=t.get("messages.currentUpload");r.uploadRecord(a,o.upload,n.result.location,0)})}],error:[(0,S.set)((0,w.state)(m),I.default.initial)]}],retryUploadRecord:[[(0,S.set)((0,w.state)(m),I.default.inProgress)],function(e){var t=e.state,n=e.http,r=e.path,a=t.get("messages.currentUpload").result.location;return a=encodeURIComponent(a),n.get("/api/resumableUpload?location="+a).then(r.success).catch(r.error)},{success:[function(e){var t=e.state,n=e.props,r=e.messages,a=E.default.getChannelId(t),o=t.get("messages.currentUpload"),s=n.result.end;r.uploadRecord(a,o.upload,o.result.location,s)}],error:[(0,S.set)((0,w.state)(m),I.default.failed)]}],uploadRecordFail:[[(0,S.set)((0,w.state)(m),I.default.failed)]],uploadRecordUpdateProgress:[function(e){var t=e.state,n=e.props,r=t.get("messages.addRecordDialog.size"),a=n.loaded/r*100;t.set("messages.addRecordDialog.percentage",a.toFixed(0))}],uploadRecordComplete:[(0,S.set)((0,w.state)(m),I.default.succeeded),(0,S.set)((0,w.state)(i),!1),function(e){e.controller.getSignal("header.showMessage")({message:"upload_record_succeed",type:"info"})}],uploadRecordStart:[(0,S.set)((0,w.state)(m),I.default.inProgress),(0,S.set)((0,w.state)(v),"0.00")],removeStream:[function(e){var t=e.props,n=e.http,r=e.path,a=t.channelId;return n.post("/api/channels/"+a+"/stream",{type:"remove"}).then(r.success).catch(r.error)},{success:[],error:[]}],reloadStream:[function(e){var t=e.http,n=e.path,r=e.props.channelId;return t.get("/api/channels/"+r+"/stream").then(n.success).catch(n.error)},{success:[function(e){var t=e.props,n=e.state,r=t.result,a=t.channelId;n.set("messages.channels."+a+".stream",r)}],error:[]}],channelSelect:[function(e){var t=e.state,n=e.props,r=e.controller,a=t.get("messages.channels"),o=n.channelId,s=void 0;a[o]&&(s=a[o].liveChannelId),s&&a[s]&&(a[s].stream?setTimeout(function(){r.getSignal("messages.toggleStream")({value:!0})}):a[s].records&&0!==a[s].records.length&&setTimeout(function(){r.getSignal("messages.toggleRecords")({value:!0})}),t.set("messages.selectedRecord",null))}],toggleStream:[(0,S.set)((0,w.state)(_),(0,w.props)(g)),(0,S.set)((0,w.state)(y),!1)],toggleRecords:[(0,S.set)((0,w.state)(y),(0,w.props)(g)),(0,S.set)((0,w.state)(_),!1)],selectRecord:[(0,S.set)((0,w.state)(b),(0,w.props)(g))],changeCloudType:[(0,S.set)((0,w.state)(l),(0,w.props)(g))]},getServices:function(e){return{httpPreviewStream:function(t,n,r){e.getSignal("messages.setStreamLoading")({value:!0});var a="/api/channels/"+n+"/"+r+"/preview",o=t.url,s=new XMLHttpRequest;s.open("POST",""+O.default.REQUEST_BASE_URL+a,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.timeout=0,s.addEventListener("readystatechange",function(){s&&4===s.readyState&&(e.getSignal("messages.setStreamLoading")({value:!1}),s.status>=200&&s.status<300?(e.getSignal("messages.changeStreamReadyUrl")({url:o}),e.getSignal("messages.addStreamPreview")({result:JSON.parse(s.response)})):s.status>0&&e.getSignal("messages.previewStreamFail")({error:s.responseText}))}),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify({url:o}))},uploadRecord:function(t,n,r,a){var o=n.file,s=new XMLHttpRequest;s.open("POST",O.default.REQUEST_BASE_URL+"/api/channels/"+t+"/record/upload",!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.timeout=0,s.upload.addEventListener("progress",function(t){return e.getSignal("messages.uploadRecordUpdateProgress")({loaded:t.loaded+a})}),s.addEventListener("timeout",function(){return e.getSignal("messages.uploadRecordFail")({id:n.id})}),s.addEventListener("error",function(){return e.getSignal("messages.uploadRecordFail")({id:n.id,err:"network_error"})}),s.addEventListener("readystatechange",function(){s&&4===s.readyState&&(s.status>=200&&s.status<300?e.getSignal("messages.uploadRecordComplete")():s.status>0&&e.getSignal("messages.uploadRecordFail")())});var i=new FormData;i.append("fileName",o&&o.name||""),i.append("fileType",o&&o.type||""),i.append("size",o&&o.size-a||0),i.append("location",r),i.append("uploadMode","resumable"),i.append("offset",a),i.append("videoDuration",n.videoDuration),i.append("file",o.slice(a)),s.send(i),T[n.id]=s,e.getSignal("messages.uploadRecordStart")()}}},getState:function(){return{addVideoDialog:{type:"",show:!1,streamLoading:!1,url:"",readyUrl:"",cloudType:""},addRecordDialog:{show:!1,size:null,status:I.default.initial,percentage:""},streamInfoDialog:{show:!1,endpoint:"",stream:""},showStream:!0,showRecords:!1,selectedRecord:null}}}}).call(t,"views/v2/modules/messages/AddStreamStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{ipcSyncState:[function(e){var t=e.state.get(),n=t.locale,r=t.utcOffset,a=t.cookies,o=t.loginUser;window.sendSignal&&window.sendSignal("ipc_syncState",{locale:n,utcOffset:r,cookies:a,loginUser:o})}]},getServices:function(e){e.on("initialized",function(){e.getSignal("messages.ipcSyncState")()})},getState:function(){return{}}}}).call(t,"views/v2/modules/messages/IpcStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(["messages.recorder.processing"],["messages.recorder.processing"]),s=r(["messages.recorder.recordedTime"],["messages.recorder.recordedTime"]),i=r(["messages.recorder.displayPopup"],["messages.recorder.displayPopup"]),l=r(["id"],["id"]),u=r(["messages.recorder.recording"],["messages.recorder.recording"]),c=n(9),d=n(0);t.default={name:e,depends:[],signals:{record:[function(e){var t=e.messages,n=e.state,r=e.props;n.set("messages.recorder.recordedTime",0),n.set("messages.recorder.channelId",r.channelId),n.set("messages.recorder.parentMessageId",r.parentMessageId),t.recorder.record()}],finishRecord:[function(e){e.messages.recorder.finish()}],cancelRecord:[function(e){e.messages.recorder.cancel()}],postRecord:[function(e){var t=e.state,n=e.controller,r=e.props,o=t.get("messages.recorder.channelId"),s=t.get("messages.recorder.parentMessageId");n.getSignal("messages.uploadAttachment")(a({},r,{channelId:o,content:"",parentMessageId:s}))}],closeRecord:[(0,c.set)((0,d.state)(o),!1),(0,c.set)((0,d.state)(s),0),(0,c.set)((0,d.state)(i),null)],showRecordPopup:[(0,c.set)((0,d.state)(i),(0,d.props)(l))],hideRecordPopup:[(0,c.set)((0,d.state)(i),null)],onStartedRecording:[(0,c.set)((0,d.state)(u),!0)],onFinishedRecording:[(0,c.set)((0,d.state)(o),!0),(0,c.set)((0,d.state)(u),!1)],onCanceledRecording:[(0,c.set)((0,d.state)(u),!1),(0,c.set)((0,d.state)(s),0),(0,c.set)((0,d.state)(i),null)],onRecordedTimeUpdate:[function(e){var t=e.state,n=e.props,r=e.controller,a=n.timeSpan,o=t.get("messages.recorder.recordedTime");t.set("messages.recorder.recordedTime",o+a),o+2*a>60&&r.getSignal("messages.finishRecord")()}]},getServices:function(e){var t=new(0,n(663).default);return t.on("time-update",function(t){e.getSignal("messages.onRecordedTimeUpdate")({timeSpan:t})}),t.on("started",function(){e.getSignal("messages.onStartedRecording")()}),t.on("finished",function(){e.getSignal("messages.onFinishedRecording")()}),t.on("canceled",function(){e.getSignal("messages.onCanceledRecording")()}),t.on("new-record",function(t,n){t.name="",e.getSignal("messages.closeRecord")(),e.getSignal("messages.postRecord")({upload:{file:t,voice:!0,duration:n,dataUrl:null,width:null,height:null,filename:"voice-message-"+(new Date).getTime()}})}),{recorder:t}},getState:function(){return{recorder:{recording:!1,recordedTime:0,channelId:null,parentMessageId:null,processing:!1,displayPopup:null}}}}}).call(t,"views/v2/modules/messages/AudioRecorderStore.js")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(457)),u=r(n(664)),c=n(69),d=function(e){function t(){a(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.worker=null,e.audioContext=null,e.audioInput=null,e.source=null,e.processor=null,e.destination=null,e.worker=new u.default,e.worker.onmessage=function(t){var n=t.data,r=n.type,a=n.details;switch(r){case"new":var o=a.blob,s=a.duration;e.emit("new-record",o,s);break;case"slice-saved":var i=a.length,l=e.audioContext.sampleRate;e.emit("time-update",i/l);break;case"started":e.emit("started");break;case"finished":e.emit("finished"),e.stop(),e.worker.postMessage({type:"export"});break;case"canceled":e.emit("canceled"),e.stop(),e.worker.postMessage({type:"clear"})}},e}return s(t,c.EventEmitter),i(t,[{key:"stop",value:function(){this.source.disconnect(),this.source=null,this.processor.disconnect(),this.processor=null,this.destination.disconnect(),this.destination=null,this.audioInput.disable(),this.audioInput=null,this.audioContext.close(),this.audioContext=null}},{key:"record",value:function(){var e=this;this.audioInput=new l.default,this.audioInput.enable(function(t,n){t?console.log(t):(e.audioContext=new AudioContext,e.source=e.audioContext.createMediaStreamSource(n),e.processor=e.audioContext.createScriptProcessor(8192,1,1),e.processor.onaudioprocess=function(t){var n={data:t.inputBuffer.getChannelData(0)};e.worker.postMessage({type:"audioProcess",details:n})},e.source.connect(e.processor),e.destination=e.audioContext.createMediaStreamDestination(),e.processor.connect(e.destination),e.worker.postMessage({type:"clear"}),e.worker.postMessage({type:"startRecord",details:{sampleRate:e.audioContext.sampleRate}}))},!1)}},{key:"finish",value:function(){this.worker.postMessage({type:"requestFinishRecord"})}},{key:"cancel",value:function(){this.worker.postMessage({type:"requestCancelRecord"})}}]),t}();t.default=d},function(e,t,n){e.exports=function(){return n(665)('!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="https://connect-prd-cdn.unity.com/cdn-origin/assets/Project",e(e.s=0)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){f&&(u.push(t),d+=t.length,self.postMessage({type:"slice-saved",details:{length:t.length}}),p&&(p=!1,f=!1,w?self.postMessage({type:"finished"}):self.postMessage({type:"canceled"})))}function s(t){var e=new ArrayBuffer(44+2*t.length),r=new DataView(e),n=new v(r);n.writeString("RIFF"),n.writeUint32(32+2*t.length,!0),n.writeString("WAVE"),n.writeString("fmt "),n.writeUint32(16,!0),n.writeUint16(1,!0),n.writeUint16(l.Mono,!0),n.writeUint32(c.Phone,!0),n.writeUint32(c.Phone*l.Mono*2,!0),n.writeUint16(2*l.Mono,!0),n.writeUint16(16,!0),n.writeString("data"),n.writeUint32(2*t.length,!0);for(var i=0;i<t.length;i++){var s=Math.max(-1,Math.min(1,t[i]));n.writeInt16(s<0?32768*s:32767*s,!0)}return r}function a(){for(var t=new Float32Array(d),e=0,r=0;r<u.length;r++)t.set(u[r],e),e+=u[r].length;var n=s(new g(h,c.Phone).resample(t)),i=new Blob([n],{type:"audio/wav"});self.postMessage({type:"new",details:{blob:i,duration:d/h}})}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l={Mono:1,Stereo:2},c={Phone:8e3,Promote:11025,WideBand:16e3,RadioBroadcasting:22050,miniDV:32e3,CD:44100,BluRay:96e3},u=[],h=0,f=!1,d=0,p=!1,w=null;self.onmessage=function(t){var e=t.data,r=e.type,n=e.details;switch(r){case"audioProcess":i(n.data);break;case"startRecord":f=!0,h=n.sampleRate,self.postMessage({type:"started"});break;case"requestFinishRecord":p=!0,w=!0;break;case"requestCancelRecord":p=!0,w=!1;break;case"clear":w=null,d=0,u=[],h=0,p=!1;break;case"export":a()}};var v=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(this,t),this.view=null,this.cursor=0,this.view=e,this.cursor=r}return o(t,[{key:"writeString",value:function(t){for(var e=0;e<t.length;e++)this.view.setUint8(this.cursor+e,t.charCodeAt(e));this.cursor+=e}},{key:"writeUint32",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.view.setUint32(this.cursor,t,e),this.cursor+=4}},{key:"writeUint16",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.view.setUint16(this.cursor,t,e),this.cursor+=2}},{key:"writeInt16",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.view.setInt16(this.cursor,t,e),this.cursor+=2}}]),t}(),g=function(){function t(e,r){var i=this;n(this,t),this._linearInterpolation=function(t){for(var e=Math.ceil(t.length*i.destRate/i.srcRate*1.0000004768371582)+1,r=new Float32Array(e),n=i.srcRate/i.destRate,s=1,a=0,o=0,l=void 0,c=0;s<1;s+=n)a=1-(o=s%1),r[c++]=t[0]*o;for(s-=1,l=Math.floor(s);l<e-1;)a=1-(o=s%1),r[c++]=t[l]*a+t[l+1]*o,s+=n,l=Math.floor(s);return r},this._multiTap=function(t){var e=Math.ceil(t.length*i.destRate/i.srcRate*1.0000004768371582)+1,r=new Float32Array(e),n=i.srcRate/i.destRate,s=0,a=0,o=0,l=0,c=0,u=0;do{for(a=n,o=0;a>0&&l<t.length;){if(c=1+l-u,!(a>=c)){o+=t[l]*a,u+=a,a=0;break}o+=t[l++]*c,u=l,a-=c}a<=0&&(r[s++]=o/n)}while(l<t.length);return r},this._bypass=function(t){return t},this.srcRate=e,this.destRate=r,this.initialize()}return o(t,[{key:"initialize",value:function(){this.srcRate===this.destRate?this.resample=this._bypass:this.srcRate<this.destRate?this.resample=this._linearInterpolation:this.resample=this._multiTap}}]),t}()}]);',n.p+"eb73907bcc946492990a.worker.js")}},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;(n=new a).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(["messages.editVisibilityDialog.value.",""],["messages.editVisibilityDialog.value.",""]),s=r(["type"],["type"]),i=r(["value"],["value"]),l=r(["messages.editVisibilityDialog.show"],["messages.editVisibilityDialog.show"]),u=n(9),c=n(0),d=function(e){return e&&e.__esModule?e:{default:e}}(n(35)),f=/^[.a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,p=/^@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;t.default={name:e,depends:[],signals:{addVisibilityItem:[function(e){var t=e.state,n=e.props,r=t.get("messages.editVisibilityDialog.visibility"),o=n.value,s=n.type,i=void 0;switch(s){case"address":i=f;break;case"domain":i=p;break;default:return{}}return i.test(o)?(t.set("messages.editVisibilityDialog.error."+s,!1),t.set("messages.editVisibilityDialog.visibility",[].concat(a(r),[{value:o,type:s}])),t.set("messages.editVisibilityDialog.value."+s,"")):t.set("messages.editVisibilityDialog.error."+s,!0),{}}],removeVisibilityItem:[function(e){var t=e.state,n=e.props,r=t.get("messages.editVisibilityDialog.visibility"),o=n.value;t.set("messages.editVisibilityDialog.visibility",[].concat(a(r)).filter(function(e){return e.value!==o}))}],changeVisibilityInputValue:[(0,u.set)((0,c.state)(o,(0,c.props)(s)),(0,c.props)(i))],toggleEditVisibilityDialog:[function(e){var t=e.props,n=e.http,r=e.state,a=e.path;if(!t.value)return a.close();var o=d.default.getChannelId(r);return n.get("/api/channels/"+o+"/fetchVisibility").then(a.success).catch(a.error)},{success:[function(e){var t=e.state,n=e.props.result;t.set("messages.editVisibilityDialog.visibility",Object.keys(n).map(function(e){return{value:e,type:n[e]}}))},(0,u.set)((0,c.state)(l),!0)],error:[function(e){e.controller.getSignal("header.showMessage")({message:"error_when_fetch_channel_visibility"})}],close:[(0,u.set)((0,c.state)(l),!1)]}],postVisibility:[function(e){var t=e.http,n=e.path,r=e.state,a=d.default.getChannelId(r),o={};return r.get("messages.editVisibilityDialog.visibility").forEach(function(e){var t=e.value,n=e.type;return o[t]=n,{}}),t.post("/api/channels/"+a+"/setVisibility",{visibility:o}).then(n.success).catch(n.error)},{success:[(0,u.set)((0,c.state)(l),!1),function(e){e.controller.getSignal("header.showMessage")({message:"edit_visibility_success",type:"info"})}],error:[]}]},getState:function(){return{editVisibilityDialog:{show:!1,visibility:[],error:{domain:!1,address:!1},value:{domain:"",address:""}}}}}}).call(t,"views/v2/modules/messages/EditVisibilityStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={CALL_INFO:4,STREAM_STATE_START:10},r=["messages","streamCall"],a=["messages","call","voiceServerInfoAPI"];t.default={name:e,signals:{connectionOpen:[function(e){var t=e.state,r=e.messages,a=t.get("channelId");a&&r.socket.send(n.CALL_INFO,{channelId:a})}],createStreamCall:[function(e){var t=e.path,n=!0;return void 0===(window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)&&(n=!1),void 0===(window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription)&&(n=!1),n?t.yes():t.no()},{yes:[function(e){var t=e.state,n=e.http,r=e.path,o=t.get(a);return n.get(o).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,r=e.messages.socket,a=t.result.serverId,o=t.channelId;r.send(n.STREAM_STATE_START,{channelId:o,selfMute:!1,voiceServerId:a})}],error:[function(){}]}],no:[function(e){e.state.set([].concat(r,["notSupportedTip"]),!0)}]}]},getState:function(){return{streamCall:{callInfo:{},notSupportedTip:!1}}}}}).call(t,"views/v2/modules/messages/StreamCallStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n={WORKSPACE_STATE_START:11,WORKSPACE_SYNC_TIME:12},r=5e3,a=void 0;t.default={name:e,signals:{connectionOpen:[function(e){var t=e.controller,n=e.state;if(-1!==n.get("currentPath").indexOf("/workspace")){var o=n.get("channelId"),s=n.get("currentUserId");t.getSignal("messages.workspaceStart")({channelId:o,userId:s}),t.getSignal("workspace.checkReady")(),a=setInterval(function(){return t.getSignal("messages.syncTime")()},r)}}],connectionClosed:[function(){a&&clearInterval(a)}],workspaceStart:[function(e){var t=e.props,r=e.messages.socket,a=t.channelId,o=t.userId;r.send(n.WORKSPACE_STATE_START,{channelId:a,userId:o})}],syncTime:[function(e){var t=e.state,r=e.messages.socket,a=t.get("questionId"),o=t.get("currentUserId");r.send(n.WORKSPACE_SYNC_TIME,{questionId:a,userId:o})}],onSyncTimeResult:[function(e){var t=e.state,n=e.props,r=n.sessionTime,a=n.seconds;t.set("workspace.seconds",a),t.set("workspace.sessionTime",r)}]},getState:function(){}}}).call(t,"views/v2/modules/messages/ODSWorkspaceStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,signals:{connectionOpen:[function(e){var t=e.controller;-1!==e.state.get("currentPath").indexOf("/matching")&&t.getSignal("match.isAccept")()}]},getState:function(){}}}).call(t,"views/v2/modules/messages/OdsMatchingStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages.initialData"];t.default={name:e,depends:[],signals:{INITIAL_DATA:[function(e){var t=e.http,n=e.state,r=e.path,a=n.get("messages.urlChannelId");return a?t.get("/api/channels/"+a+"/touch").then(r.success).catch(r.error):r.dummy()},{success:[function(e){var t=e.props,r=e.state,a=t.result,o=t.status;a&&200===o&&r.set(n,a)}],error:[],dummy:[]}],parseInitialData:[function(e){var t=e.state,r=e.controller,a=t.get(n);a&&r.getSignal("messages.channelReady")(a)}]}}}).call(t,"views/v2/modules/messages/InitialStore.js")},function(e,t,n){"use strict";(function(e){function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["support.createTicketStatus"],["support.createTicketStatus"]),o=r(["messages.postTicketDialog.show"],["messages.postTicketDialog.show"]),s=n(9),i=n(0);t.default={name:e,signals:{openPostTicketDialog:[(0,s.set)((0,i.state)(a),""),(0,s.set)((0,i.state)(o),!0)],closePostTicketDialog:[(0,s.set)((0,i.state)(o),!1)]},getState:function(){return{postTicketDialog:{show:!1}}}}}).call(t,"views/v2/modules/messages/PostTicketDialogStore.js")},function(e,t,n){"use strict";(function(e){function r(e){var t=e.state,n=e.props.workspaceId;t.set([].concat(i,[n]),!1)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["messages.supportView"],["messages.supportView"]),o=n(9),s=n(0),i=["messages","supportTickets"];t.default={name:e,depends:[],signals:{openExplore:[r],channelSelect:[r],openSupportTickets:[function(e){var t=e.state,n=e.props,r=e.controller,a=n.workspaceId;t.set([].concat(i,[a]),!0),r.getSignal("support.searchTickets")({listType:"client"})}],supportTicketsUnSelect:[r],workspaceSelect:[function(e){var t=e.controller;t.getSignal("support.countTickets")(),t.getSignal("messages.closeSupportView")()}],showSupportView:[(0,o.set)((0,s.state)(a),!0)],closeSupportView:[(0,o.set)((0,s.state)(a),!1)]},getState:function(){return{supportTickets:{},supportView:!1}}}}).call(t,"views/v2/modules/messages/SupportTicketsStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=["messages","clipboard"];t.default={name:e,depends:[],signals:{pasteClipboardImage:[function(e){var t=e.props,r=e.state,a=t.imageFile,o={file:a,channelId:t.channelId,parentMessageId:t.parentMessageId},s=new FileReader;s.onload=function(e){var t=new Image;o.dataUrl=e.target.result,t.src=o.dataUrl,t.onload=function(){o.width=t.width,o.height=t.height,r.set([].concat(n,["upload"]),o)}},s.readAsDataURL(a)}],sendClipboardImage:[function(e){var t=e.controller,r=e.state,a=r.get([].concat(n,["upload"]));r.set([].concat(n,["upload"]),null),t.getSignal("messages.uploadAttachment")({channelId:a.channelId,parentMessageId:a.parentMessageId,content:"",upload:a})}],cancelClipboardImage:[function(e){e.state.set([].concat(n,["upload"]),null)}]},getState:function(){return{clipboard:{image:"",upload:null}}},getClipboardImage:function(e){return e.get([].concat(n,["image"]))}}}).call(t,"views/v2/modules/messages/ClipboardStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={name:e,signals:{messageCreate:[function(e){var t=e.state,r=e.props,a=e.controller,o=r.channelId,s=r.channelType,i=r.author,l=n({},i,{fullName:i.fullname}),u=a.getSignal("embeddedMessage.openEmbeddedMessage"),c=t.get("currentUserId");u&&c!==i.id&&"direct"===s&&u({channelId:o,user:l})}]},getState:function(){}}}).call(t,"views/v2/modules/messages/ODSMessageStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return[function(t){var n=t.props;return{field:[].concat(E,[e]),value:n.value,touched:!0}}].concat(o(v.chains.fieldChanged),[(0,h.set)((0,m.state)(d),y.default.initial)])}function i(e){var t=e.props,n=e.http,r=e.path,a=t.name;return n.post("/api/validTeamName",{name:a}).then(r.success).catch(r.error)}function l(e){var t=e.controller,n=e.props,r=e.state.get("team.basicForm.name.value");n.name===r&&t.getSignal("team.updateDuplicateError")({value:n.result.invalid})}function u(e){var t=e.id,n=e.name,r=e.categoryIds,a=e.scaleFrom,o=e.scaleTo,s=e.websiteUrl,i=e.location,l=e.type,u=!t,d={id:{value:t||""},name:{value:n||"",validations:["isValue","minLength:2","maxLength:80"],errorMessages:["error_isRequired","error_minLength2","error_maxLength80"],isRequired:!0},websiteUrl:{value:s||"",validations:["isValue","isWebsite"],errorMessages:["error_isRequired","error_isWebsite"],isRequired:!0},location:{value:i||"",isRequired:!0,validations:["isValue"],errorMessages:["error_isRequired"]},type:{value:l||"hire"}};return u&&(d=c({},d,{categoryId:{value:(r||[])[0]||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},scale:{value:{from:a||0,to:o||null},validations:["isScale"],errorMessages:["error_isRequired"],isRequired:!0}})),(0,v.Form)(d)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=a(["team.updateStatus"],["team.updateStatus"]),f=a(["team.duplicateError"],["team.duplicateError"]),p=a(["team.showBasicForm"],["team.showBasicForm"]),g=a(["value"],["value"]),h=n(9),m=n(0),v=n(21),_=r(n(19)),y=r(n(7)),b=r(n(53)),S=r(n(31)),w=r(n(77)),E=["team","basicForm"];t.default={name:e,depends:[],signals:{changeName:s("name"),changeNameAndClear:[(0,h.set)((0,m.state)(f),!1)].concat(o(s("name")),[function(e){var t=e.state,n=e.path;return t.get("team.basicForm.name.isValid")?n.yes():n.no()},{yes:[(0,h.debounce)(100),{continue:[function(e){return{name:e.props.value}},i,{success:[l],error:[]}],discard:[]}],no:[]}]),changeType:s("type"),changeCategoryId:s("categoryId"),changeTeamScale:s("scale"),changeWebsiteUrl:s("websiteUrl"),changeLocation:s("location"),create:b.default.EmailRequired([].concat(o(v.chains.formValidated),[function(e){var t=e.state,n=e.path,r=t.get(E);return(0,v.isValidForm)(r)?n.yes():n.no()},{yes:[(0,h.set)((0,m.state)(d),y.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=t.get(E);if((0,v.isValidForm)(a)){var o={id:a.id&&a.id.value,name:a.name&&a.name.value,categoryId:a.categoryId&&a.categoryId.value,scale:a.scale&&a.scale.value,websiteUrl:a.websiteUrl&&a.websiteUrl.value,location:a.location&&a.location.value,hire:!1,forHire:!1};switch(a.type&&a.type.value){case"hire":o.hire=!0;break;case"forHire":o.forHire=!0;break;case"both":o.hire=!0,o.forHire=!0;break;default:o.hire=!0}var s=w.default.getRequestHeaderOption(t);return n.post("/api/t/0/new",o,s).then(r.success).catch(r.error)}return r.dummy()},{success:[(0,h.set)((0,m.state)(d),y.default.succeeded),function(e){var t=e.controller,n=e.props,r=e.state,a=e.team,o=r.get("team.basicForm.id.value"),s=n.callback,i=n.result;if(s&&t.getSignal(s))t.getSignal(s)({team:i});else if(o)r.get("teamData")&&r.merge("teamData",i),t.getSignal("team.closeBasicForm")();else{var l=r.get("team.nextOnCreate"),u=!(!l||"job"!==l),c=(i||{}).id,d=u?"/jobs/0/new?type=job&tid="+c:"/t/"+c;r.set("team.redirectInProgress",!0),a.locationHref(d)}}],error:[(0,h.set)((0,m.state)(d),y.default.failed),function(e){var t=e.controller,n=e.props,r=(n.result||{}).errorCode;w.default.recaptchaError(r,t)||onError("company")({props:n,controller:t})}],dummy:[]}]],no:[(0,h.set)((0,m.state)(d),y.default.failed)]}])),showBasicForm:S.default.LoginRequired(b.default.EmailRequired(function(e){var t=e.props;e.controller.getSignal("team.showBasicFormWithData")(t)})),showBasicFormWithData:b.default.EmailRequired([function(e){var t=e.props,n=e.http,r=e.state,a=e.path;return r.get("categoryOptions")?a.success(t):n.get("/api/t/0/categoryOptions").then(function(e){var n=e.result;return 200===e.status&&n&&r.set("categoryOptions",n.options),a.success(t)}).catch(function(){return a.error()})},{success:[function(e){var t=e.props,n=e.state,r=u(t),a=t.next;n.set("team.nextOnCreate",a||""),n.set("team.showBasicForm",!0),n.set(E,r)}],error:[]}]),closeBasicForm:[(0,h.set)((0,m.state)(p),!1),(0,h.set)((0,m.state)(d),""),function(){return{formPath:[].concat(E)}}].concat(o(v.chains.reset)),updateDuplicateError:[(0,h.set)((0,m.state)(f),(0,m.props)(g))],validName:[i,{success:[l],error:[]}]},getServices:function(){var e=(window||{}).history;return{locationHref:_.default,history:e}},getState:function(){return{nextOnCreate:"",showBasicForm:!1,duplicateError:!1,basicForm:u({})}}}}).call(t,"views/v2/modules/teamv2/CreateTeamStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.parameters;p&&p.replace({pathname:"/",query:o({},t)})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["tab"],["tab"]),i=n(9),l=n(0),u=r(n(166)),c=r(n(167)),d=r(n(168)),f=!1,p=void 0;t.default={name:e,depends:[],signals:{updateTab:[function(e){a({parameters:{type:e.props.tab}})},(0,i.set)((0,l.state)(s),(0,l.props)(s))],syncFromLocation:[function(e){var t=e.props,n=e.state,r=t.type;n.set("tab",r)}]},getServices:function(e){(p=(0,c.default)((0,d.default)(u.default))({basename:window.location.pathname})).listen(function(t){if(f&&"POP"===t.action)try{e.getSignal("apply.syncFromLocation")({type:t.query&&t.query.type})}catch(e){console.error("HACK!!! to be fixed",e)}}),f=!0}}}).call(t,"views/v2/modules/profile/TabStore.js")},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(["notification.processStatus"],["notification.processStatus"]),l=a(["notification.unseenCount"],["notification.unseenCount"]),u=n(9),c=n(0),d=n(6),f=r(n(117)),p=r(n(118)),g=r(n(116)),h=r(n(7)),m=r(n(50)),v=n(51),_=["notification","firstLoad"];t.default={name:e,depends:[],signals:{connectionOpen:[function(e){var t=e.props,n=e.state,r=t.notificationUnseenCount;n.set("notification.connected",!0),n.set("notification.unseenCount",r)}],notificationCreate:[function(e){var t=e.props,r=e.state,a=e.controller,i=r.get("currentHost"),l=t.type;if(!i.startsWith("livehelp")||l.startsWith("ods")){var u=r.get("notification"),c=u.unreadCount,h=u.unseenCount,_=u.status,y=[].concat(o(u.results));if(y.unshift(t),c++,_?a.getSignal("notification.makeAllSeen")():h++,r.set("notification",s({},u,{unreadCount:c,unseenCount:h,results:y})),r.get("messages.window.isMaster")&&!n(39).get("DesktopNotificationNotice.dismissed")&&g.default.hasPermission()){var b=r.get(),S=s({},t.data),w=S.role,E=(0,p.default)(l,w,S);l.startsWith("ods")&&(E=(0,m.default)(E,i));var O=v,I="Unity Connect",k=(0,d.i18n)(b,f.default,l+"_"+w+"_text",S),C={tag:"notifications",onClick:function(){window.focus();var e=E;e+=(e.indexOf("?")>-1?"&":"?")+"_nid="+t.id,window.location.href=e}};"ods_request_received"===l&&(S.questionType=(0,d.i18n)(b,f.default,S.questionType),I=(0,d.i18n)(b,f.default,l+"_"+w+"_text",S),O=S.avatar,k="$"+S.budget+" · "+S.description),g.default.showNotification(O,I,k,C)}}}],notificationRead:[function(e){var t=e.props,n=e.state,r=t.id,a=t.total;n.set("notification.unreadCount",a);var i=n.get("notification.results");if(i&&i.length>0){var l=i.findIndex(function(e){return e.id===r});-1===l||i[l].read||((i=[].concat(o(i)))[l]=s({},i[l]),i[l].read=!0,n.set("notification.results",i))}}],notificationSeen:[function(e){var t=e.props,n=e.state,r=t.total;n.set("notification.unseenCount",r)}],switchStatus:[function(e){var t=e.state,n=e.controller;t.set("notification.status",!t.get("notification.status"));var r=t.get("notification"),a=r.status,o=r.results;!0===a&&(n.getSignal("notification.makeAllSeen")(),(o.length<=0||t.get(_))&&n.getSignal("notification.getNotifications")())}],switchStatusToFalse:[function(e){e.state.set("notification.status",!1)}],getNotifications:[(0,u.set)((0,c.state)(i),h.default.inProgress),[function(e){var t=e.state,n=e.http,r=e.path,a=t.get("notification").page;return a?a+=1:a=1,n.get("/api/notifications",{page:a}).then(r.success).catch(r.error)},{success:[(0,u.set)((0,c.state)(i),h.default.succeeded),function(e){var t=e.props,n=e.state;if(200===t.status){var r=n.get("notification"),a=n.get("notification.results"),i=t.result,l=i.total,u=i.page,c=i.pageTotal,d=i.results,f=i.unreadCount,p=i.unseenCount,g=d.filter(function(e){return-1===a.findIndex(function(t){return t.id===e.id})});n.set("notification",s({},r,{firstLoad:!1,unreadCount:f,unseenCount:p,total:l,page:u,pageTotal:c,results:[].concat(o(a),o(g))}))}}],error:[(0,u.set)((0,c.state)(i),h.default.failed)]}]],makeAllRead:[(0,u.set)((0,c.state)(i),h.default.inProgress),[function(e){var t=e.http,n=e.path;return t.post("/api/notifications/make-all-read",null).then(n.success).catch(n.error)},{success:[(0,u.set)((0,c.state)(i),h.default.succeeded)],error:[(0,u.set)((0,c.state)(i),h.default.failed)]}]],makeAllSeen:[function(e){var t=e.http,n=e.path;return t.post("/api/notifications/make-all-seen",null).then(n.success).catch(n.error)},{success:[(0,u.set)((0,c.state)(l),0)],error:[]}],setRead:[(0,u.set)((0,c.state)(i),h.default.inProgress),[function(e){var t=e.props,n=e.http,r=e.path;return n.post("/api/notifications/set-read/"+t.id,null).then(r.success).catch(r.error)},{success:[(0,u.set)((0,c.state)(i),h.default.succeeded),function(e){var t=e.props,n=e.state,r=n.get("notification").results;if(r&&r instanceof Array){var a=r.findIndex(function(e){return e.id===t.id});if(-1!==a){var i=s({},r[a],{read:!0});n.set("notification",s({},n.get("notification"),{results:[].concat(o(r.slice(0,a)),[i],o(r.slice(a,r.length)))}))}}}],error:[(0,u.set)((0,c.state)(i),h.default.failed)]}]]},getServices:function(){return{}},getState:function(){return{connected:!1,unseenCount:0,unreadCount:0,status:!1,firstLoad:!0,page:0,total:0,pageTotal:0,results:[]}}}}).call(t,"views/v2/modules/notification/NotificationStore.js")},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStatesPending.",""],["draft.editorStatesPending.",""]),h=i(["editorKey"],["editorKey"]),m=i(["draft.editorStates.",""],["draft.editorStates.",""]),v=i(["draft.editorEditable.",""],["draft.editorEditable.",""]),_=i(["draft.unsetPendingEditorState"],["draft.unsetPendingEditorState"]),y=i(["draft.setEditorState"],["draft.setEditorState"]),b=i(["draft.setEditorStateCommit"],["draft.setEditorStateCommit"]),S=i(["draft.setEditorEditable"],["draft.setEditorEditable"]),w=r(n(1)),E=r(n(12)),O=r(n(2)),I=n(5),k=n(0),C=r(n(468)),T=n(469),j=r(n(70)),M=n(175),P=(l=(0,I.decorator)({editorStatePending:(0,k.state)(g,(0,k.props)(h)),editorState:(0,k.state)(m,(0,k.props)(h)),editable:(0,k.state)(v,(0,k.props)(h)),unsetPendingEditorState:(0,k.signal)(_),setEditorState:(0,k.signal)(y),setEditorStateCommit:(0,k.signal)(b),setEditorEditable:(0,k.signal)(S)}))((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onMouseDown=function(e){var t=r.props,n=t.editorKey,a=t.setEditorEditable;if(n===(0,T.findEditorKey)(e.target)){a({editorKey:n});var o=window.getSelection();n===(0,T.findEditorKey)(o.anchorNode)&&n===(0,T.findEditorKey)(o.focusNode)||o.removeAllRanges()}},r.onChange=function(e){var t=r.props,n=t.editorKey;(0,t.setEditorStateCommit)({editorKey:n,editorState:e}),r.editorStateDecorator=e.getDecorator()},s=n,o(r,s)}return s(t,w.default.Component),p(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.editorKey;(0,e.setEditorStateCommit)({editorKey:t,editorState:e.defaultEditorState})}},{key:"componentDidMount",value:function(){this.applyPendingState(),this.checkFocus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.editorKey,r=t.setEditorState,a=t.defaultEditorState,o=e.defaultEditorState;o!==a&&r({editorKey:n,editorState:M.EditorState.set(o,{decorator:this.editorStateDecorator})})}},{key:"componentDidUpdate",value:function(){this.applyPendingState(),this.checkFocus()}},{key:"applyPendingState",value:function(){var e=this.props,t=e.editorKey,n=e.editorStatePending,r=e.unsetPendingEditorState;n&&(r({editorKey:t,editorState:n}),this.editor.onChange(n))}},{key:"checkFocus",value:function(){var e=this.props,t=e.defaultEditable,n=e.editorKey,r=e.renderOnly,a=e.editorStatePending,o=e.setEditorStateCommit,s=this.props.editable,i=void 0===s?t:s;if(!r&&i&&!a){var l=this.context.controller.getState("draft.editorStates."+n),u=l.getSelection();if(u.getHasFocus()){var c=E.default.findDOMNode(this.editor).querySelector('[contenteditable="true"]');document.activeElement!==c&&(this.editor.focus(),o({editorKey:n,editorState:M.EditorState.forceSelection(l,u)}))}}}},{key:"render",value:function(){var e=this,t=this.props.defaultEditable,n=this.props,r=n.editable,a=void 0===r?t:r,o=n.editorKey,s=n.renderOnly,i=n.offsetKey,l=n.stripPastedStyles,u=this.context.controller,c=u.getState("draft.editorStates."+o),d=(0,j.default)(this.props,"editorStatePending","editorState","defaultEditorState","editable","setEditorStateCommit","setEditorEditable"),p=w.default.createElement(C.default,f({},d,{spellCheck:!0,stripPastedStyles:l,controller:u,editorState:c,readOnly:s||!a,onChange:this.onChange,ref:function(t){e.editor=t}}));return w.default.createElement("div",{"data-offset-key":i,onMouseDown:this.onMouseDown},p)}}]),t}(),c.contextTypes={controller:O.default.object},c.propTypes={editorKey:O.default.string.isRequired,editorStatePending:O.default.object,editorState:O.default.object,defaultEditorState:O.default.object.isRequired,editable:O.default.bool,defaultEditable:O.default.bool,renderOnly:O.default.bool,offsetKey:O.default.string,unsetPendingEditorState:O.default.func,setEditorState:O.default.func,setEditorStateCommit:O.default.func,setEditorEditable:O.default.func,stripPastedStyles:O.default.bool},c.defaultProps={defaultEditable:!1,stripPastedStyles:!0},u=d))||u;t.default=P},function(e,t,n){e.exports=n(8)(62)},function(e,t,n){e.exports=n(8)(178)},function(e,t,n){e.exports=n(8)(5)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=e.split("_");return t&&2===t.length?{type:U[t[0]],id:t[1]}:{}}function i(e){var t=e.itemId,n=e.userMap,r=e.teamMap,a=e.tutorialMap,o=e.projectMap,i=e.badgeMap,l=e.courseMap,u=e.liveSessionMap,c=e.faqMap,d=e.quizMap,f=e.submissionMap,p=e.missionMap,g=e.competencyMap,h=e.pathwayMap,m=s(t),v=m.type,_=m.id,y=void 0;switch(v){case"user":y=n&&n[_];break;case"team":y=r&&r[_];break;case"project":y=o&&o[_];break;case"tutorial":y=a&&a[_];break;case"course":y=l&&l[_];break;case"liveSession":y=u&&u[_];break;case"faq":y=c&&c[_];break;case"quiz":y=d&&d[_];break;case"submission":y=f&&f[_];break;case"badge":y=i&&i[_];break;case"mission":y=p&&p[_];break;case"competency":y=g&&g[_];break;case"pathway":y=h&&h[_]}return y}function l(e,t){return(e=e.toString()).length<t?l("0"+e,t):e}function u(e,t){return e>t?t:e<0?0:e}function c(e,t,n){if(Array.isArray(e)){var r=[],a=e.length-1,s=e[t];return n=u(n,a),(t=u(t,a))===n?r.push.apply(r,o(e)):t>n?(r.push.apply(r,o(e.slice(0,n))),r.push(s),r.push.apply(r,o(e.slice(n,t))),r.push.apply(r,o(e.slice(t+1,e.length)))):(r.push.apply(r,o(e.slice(0,t))),r.push.apply(r,o(e.slice(t+1,n+1))),r.push(s),r.push.apply(r,o(e.slice(n+1,e.length)))),r}return null}function d(e){var t=e||0,n=0;return e>=0?(n=Math.floor(t/60),e=Math.max(0,t-60*n)):(n=Math.ceil(t/60),e=Math.min(0,t-60*n)),{hour:n,minute:e}}function f(e){var t=e||0,n=0,r=0;return e>=0?(n=Math.floor(t/3600),r=Math.max(0,Math.floor((t-3600*n)/60)),e=Math.max(0,t-3600*n-60*r)):(n=Math.ceil(t/3600),r=Math.min(0,Math.floor((t-3600*n)/60)),e=Math.min(0,t-3600*n-60*r)),{hour:n,minute:r,second:e}}function p(e){var t=[];return Object.keys(e).forEach(function(n){t.push(n+"="+e[n])}),t.join("&")}function g(e,t){var n=p(t=t||{});return n?e&&-1!==e.indexOf("?")?e+"&"+n:e+"?"+n:e}function h(e,t,n){if(!e)return"";var r=e.type,a=e.slug,o=e.language,s="/"+r+"/"+a;if(!t&&!n)return s;var i={};return o!==(0,b.getLanguageFromLocale)(t)&&(i={language:o}),n&&(i={uv:n}),g(s,i)}function m(e,t){var n=(0,k.get)(e,"type"),r=(0,k.get)(e,"withAll"),a=(0,k.get)(e,"completed"),o=(0,k.get)(e,"completedTime");if((n===S.DataTypeKeys.project||n===S.DataTypeKeys.course)&&!r&&t){var s=(0,k.get)(e,"recordVersions."+t)||{};a=s.completed||!1,o=s.completedTime}return{completed:a,completedTime:o}}function v(e,t){e=e||[];var n=(t=t||[]).reduce(function(e,t){return _({},e,a({},t,!0))},{}),r=e.reduce(function(e,t){return _({},e,a({},t,!0))},{}),o=[],s=[],i={};return t.forEach(function(e){r[e]||o.push(e)}),e.forEach(function(e){n[e]||(s.push(e),i[e]=!0)}),{addIds:o,removedIds:s,removedIdMap:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.GetI18nText=void 0;var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.GetTypeIdByItemId=s,t.GetTypeByItemId=function(e){return s(e).type},t.GetIdByItemId=function(e){return s(e).id},t.GetItemIdByType=function(e){var t=e.id,n=e.type,r=F[n];return r?r+"_"+t:t},t.GetDataByItemId=i,t.PadNumLeft=l,t.MoveElement=c,t.MoveElementAction=function(e){return function(t){var n=t.props,r=t.state;e=n.statePath||e;var a=r.get(e),o=n.index,s=c(a,o,o+n.step);r.set(e,s)}},t.AddTagAction=function(e,t,n){return function(r){var s=r.props,i=r.state,l=s.value,u=l.id,c=[];"q"===l.type?(c=(0,y.splitTags)(u)).forEach(function(e){i.merge(t,a({},u,{id:e,name:e}))}):c.push(u);var d=i.get([].concat(o(n),[e])).value;return c.forEach(function(e){d=(0,y.arrayInsert)(d,e)}),{fieldName:e,value:d}}},t.DeleteTagAction=function(e,t){return function(n){var r=n.props,a=n.state,s=r.value,i=a.get([].concat(o(t),[e])).value,l=(0,y.arrayRemove)(i,s);return{fieldName:e,value:l}}},t.AddSliceFieldAction=function(e,t){return function(n){var r=n.props,a=n.state,s=(0,k.get)(r,"value"),i=(0,k.get)(r,"prePath")||[],l=[].concat(o(t),o(i),[e]),u=a.get(l)||[];return u=(0,y.arrayInsert)(u,s),a.set(l,u),{path:l,value:u}}},t.DeleteSliceFieldAction=function(e,t){return function(n){var r=n.props,a=n.state,s=(0,k.get)(r,"value"),i=(0,k.get)(r,"prePath")||[],l=[].concat(o(t),o(i),[e]),u=a.get(l)||[];return u=(0,y.arrayRemove)(u,s),a.set(l,u),{path:l,value:u}}},t.ParseMinute=d,t.ParseSecond=f,t.onPublishSuccess=function(e){var t=e.status,n=e.result,r=e.state;if(200===t&&n){var a=h(n,r.get("locale"));(0,C.default)(g(a,{publish:!0}))}},t.FormatParams=p,t.AppendUrlQuery=g,t.GetUrlByNavIds=function(e,t){if(e&&e.length>0){var n=e.length-1,r=s(e[n]),a=r.type,o=r.id;t=t||"/"+a+"/"+o;var i={};return e.slice(0,n).forEach(function(e){var t=s(e);switch(t.type){case"project":i.projectId=t.id;break;case"course":i.courseId=t.id;break;case"mission":i.missionId=t.id;break;case"pathway":i.pathwayId=t.id}}),g(t,i)}return t},t.GetItemUrlInDetail=function(e){var t=e.parentIds,n=e.data,r=e.item,a=e.locale,o=e.uv;n=n||{},r=r||{},t=t||{};var s=h(r,a,o),i=_({},t);return"course"===n.type&&(i=_({},i,{courseId:n.id})),"project"===n.type&&(i=_({},i,{projectId:n.id})),"pathway"===n.type&&(i=_({},i,{pathwayId:n.id})),g(s,i)},t.GetItemUrlInArchitectureDetail=function(e){var t=e.parentIds,n=e.data,r=e.item,a=e.locale,o=e.uv,s=e.contentId;n=n||{},r=r||{},t=t||{};var i=h(r,a,o),l=_({},t);return n.type===S.DataTypeKeys.pathway&&(l=_({},l,{pathwayId:n.id})),n.type===S.DataTypeKeys.mission&&(l=_({},l,{missionId:n.id})),s&&(l=_({},l,{contentId:s})),g(i,l)},t.GetItemUrlInBreadcrumb=function(e){var t=e.parentIds,n=e.item,r=e.locale,a=e.uv;n=n||{},t=t||{};var o=h(n,r,a),s={};return"project"===n.type&&t.courseId&&(s={courseId:t.courseId}),"tutorial"===n.type&&(s=_({},t)),g(o,s)},t.GetDetailPageURL=h,t.GetCoursePremiumPageUrl=function(){var e;return g("/courses",(e={},a(e,S.CriteriaKeys.orderBy,S.FilterPopularType.starts),a(e,"k",JSON.stringify([S.CriteriaKeys.premium+":"+S.FilterPremiumType.premium])),e))},t.GetSearchMissionsPageUrl=function(){return g("/search",{k:JSON.stringify([S.CriteriaKeys.type+":"+S.DataTypeKeys.mission])})},t.GetPreviewPageURLByLocale=function(e,t){return g(h(e,t),{preview:!0})},t.getUnityUserInfo=function(e){var t=e=e||{},n=t.ownerId,r=t.userMap;return n&&r&&-1!==(I.default.LEARN_AUTHOR_LIST||[]).indexOf(s(n).id)?i({itemId:n,userMap:r}):{name:"Unity Technologies",avatar:K}},t.getLearnUserInfo=function(e,t){e=e||{};var n=(0,k.get)(e,"authorId"),r=(0,k.get)(e,"userMap")||{},a=(0,k.get)(r,n);return a||t||{name:"Unity Technologies",avatar:K}},t.formValidatedError=function(e){return Object.keys(e).some(function(t){var n=e[t];return n.isTouched&&!!n.errorMessage})},t.ParseKeyword=function(e){var t={};e=e||[];var n=Array.isArray(e)?e:JSON.parse(e);if(n&&n.length>0){var r=[],a=[],o=[],s=[];n.forEach(function(e){var n=e.split(":");if(2===n.length){var i=n[0],l=n[1];switch(i){case S.CriteriaKeys.skillLevel:r.push(l);break;case S.CriteriaKeys.query:a.push(l);break;case S.CriteriaKeys.type:o.push(l);break;case S.CriteriaKeys.language:s.push(l);break;default:t[i]=l}}}),t=_({},t,{skillLevels:r,queries:a,types:o,languages:s})}return t},t.ParseKeywordMap=function(e){e=e||[];var t=Array.isArray(e)?e:JSON.parse(e);return t?t.reduce(function(e,t,n){return _({},e,a({},t,n))},{}):{}},t.GetCompletedStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{completed:!!t[e],prevCompleted:!!t[e-1],nextCompleted:!!t[e+1]}},t.onError=function(e){return function(t){var n=t.result,r=t.controller,a=(0,y.getErrorMsg)(e,n);a&&r.getSignal("header.showMessage")({message:a,params:n})}},t.GetMinAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.EducatorSupportAges,n=[].concat(o(t)),r=e.max,a=void 0===r?"":r;if(a+=""){var s=t.findIndex(function(e){return e===a});n.splice(0,s)}return n},t.GetMaxAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.EducatorSupportAges,n=[].concat(o(t)),r=e.min,a=void 0===r?"":r;if(a+=""){var s=t.findIndex(function(e){return e===a});n.splice(s+1,t.length)}return n},t.GetAgeRangeValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,n=void 0===t?"":t,r=e.max,a=void 0===r?"":r;return n+="",a+="",n||a?n+"_"+a:""},t.GetAgeRangeObject=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_");return 2===e.length?{min:e[0],max:e[1]}:{}},t.EllipsizeTextBox=function(e){if(e)for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML=t.join(" ")+"..."},t.ValidDetailData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,k.get)(e,"packageIds")||[],n=(0,k.get)(e,"tagIds")||[],r=(0,k.get)(e,"properties")||{};if(t.length>0||n.length>0)return!0;if(Object.keys(r).length>0){var a=r.objective,o=r.careerGoals;if(a&&(0,O.getDraftPlainText)(a))return!0;if(o&&(0,O.getDraftPlainText)(o))return!0}return!1},t.GetParentByData=function(e){var t=e=e||{},n=t.parentIds,r=t.parentMap;if(!n||0===n.length)return null;var a=s(n[0]).id,o=r&&r[a];return o||null},t.GetSendMessageCDPParams=function(e,t,n,r){if(!t||!n)return null;var a=e.get("tutorialData")||{},o=(0,k.get)(a,"sections")||[],s=(0,k.get)(a,"id"),i=(0,k.get)(a,"type"),l=e.get(["learner","parentIds"])||{},u=e.get("userPremium"),c=o.findIndex(function(e){return e.channelId===t}),d=c>-1?c+1:0,f=e.get(["tutorialData","statsMap",s,"commentCount"])||0,p=e.get(["commentData","commentMap",t,"messages","total"])||0,g=e.get(["commentData","commentMap",t,"messages","likeCount"])||0,h=0,m=e.get(["commentData","commentIds"])||[],v=e.get(["commentData","commentMap"])||{};m.forEach(function(e){var t=(0,k.get)(v,e)||{},n=(0,k.get)(t,"messages.likeCount")||0;h+=n});var y=_({id:s,type:i},l,{userPremium:u,stepNumber:d,totalComments:f,stepComments:p,totalLikes:h,stepLikes:g});if(n){var b=void 0;r?(b=(e.get(["commentData","commentMap",t,"replyMap",r,"items"])||[]).find(function(e){return e.id===n}),y.parentMessageId=r):b=(e.get(["commentData","commentMap",t,"messages","items"])||[]).find(function(e){return e.id===n}),y.commentId=n,y.commentText=(0,k.get)(b,"content")||"";var w=e.get(["learner","reportMap",n]);if(w){y.flagged=!0;var E=(0,k.get)(w,"reasons.0");if(E){var O=(0,k.get)(E,"type"),I=(0,k.get)(E,"content");O===S.CommentReportType.other?y.flaggedReason=I:y.flaggedReason=O}}}return y},t.GetPayUrl=function(e){var t={item:e.item,locale:e.locale,currency:"CNY",seats:1,source:"store"};return g(I.default.LEARN_PAYMENT_STORE_FLOW,t)},t.GetFamiliarTabUrl=function(e){var t=e.keywords,n=void 0===t?[]:t;return n.push(S.CriteriaKeys.skillLevel+":"+S.SkillLevelKeys.beginner,S.CriteriaKeys.skillLevel+":"+S.SkillLevelKeys.intermediate),"/search?k="+encodeURIComponent(JSON.stringify(n))+"&ob=starts"},t.GetPowerTabUrl=function(e){var t=e.keyword,n=[];return n.push(S.CriteriaKeys.skillLevel+":"+S.SkillLevelKeys.intermediate,S.CriteriaKeys.skillLevel+":"+S.SkillLevelKeys.advanced),t&&n.push(t),"/search?k="+encodeURIComponent(JSON.stringify(n))+"&ob=recency"},t.GetLearnMessageDirectURL=function(e){var t=e.data,n=e.locale,r=e.sectionId,a=e.messageId,o=g(""+I.default.LEARN_DEFAULT_URL+h(t,n),{messageId:a});return r&&(o=o+"#"+r),o},t.GetLearnSubmissionDirectURL=function(e){var t=e.data,n=e.locale,r=e.submissionId;return g(""+I.default.LEARN_DEFAULT_URL+h(t,n),{submissionId:r})},t.GetLanguageText=function(e,t){return(0,A.i18n)(e,D,"lang_"+t)},t.GetSkillLevelText=function(e,t){return(0,A.i18n)(e,N,"sl_"+t)},t.GetLearnTypeText=function(e,t){return(0,A.i18n)(e,L,"type_"+t)},t.GetTagText=function(e,t){return t=t.toLowerCase().replace(/[^a-z|A-Z]+/g,"_"),{name:(0,A.i18n)(e,M.default,"tag_name_"+t),desc:(0,A.i18n)(e,M.default,"tag_desc_"+t)}},t.GetRecommendTagText=function(e,t){return t=t.toLowerCase().replace(/\W+/g,"_"),{name:B(e,P.default,"tag_name_"+t),desc:B(e,P.default,"tag_desc_"+t)}},t.GetDurationText=function(e,t){var n=d(t),r=n.hour,a=n.minute,o="";return r&&(o+=(0,A.i18n)(e,x.default,"duration_hours",{total:r}),a&&(o+=" ")),r&&!a||(o+=(0,A.i18n)(e,x.default,"duration_mins",{total:a})),o},t.GetVideoDurationText=function(e,t){var n=f(t),r=n.hour,a=n.minute,o=n.second,s="";return r&&(s+=(0,A.i18n)(e,x.default,"duration_hours",{total:r}),a&&(s+=" ")),a&&(s+=(0,A.i18n)(e,x.default,"duration_mins",{total:a}),o&&(s+=" ")),a&&!o||(s+=(0,A.i18n)(e,x.default,"duration_secs",{total:o})),s},t.cleanKeyForEditorBody=function(e){return e?e.replace(/("key\s*":\s*"\s*[a-z | 0-9]*\s*")/g,'"key":""'):e},t.GetManualDuration=function(){for(var e=[],t=0;t<=50;)e.push({text:""+t,value:t}),t+=t<25?1:5;for(var n=[],r=0;r<60;r+=5)n.push({text:""+r,value:r});return{hours:e,minutes:n}},t.GetContentDataByState=function(e){return e.get("tutorialData")||e.get("quizData")||e.get("projectData")||e.get("courseData")},t.GetNextRecordData=function(e){var t=e.data,n=e.record,r=e.versionId;if(!t||!n)return null;var a=t.type;if(!0===(0,k.get)(m(n,r),"completed"))return null;var o=[],i={};switch(a){case S.DataTypeKeys.tutorial:o=((0,k.get)(t,"sections")||[]).map(function(e){return e.id}),i=(0,k.get)(n,"steps")||{};break;case S.DataTypeKeys.quiz:o=((0,k.get)(t,"questions")||[]).map(function(e){return e.id}),i=(0,k.get)(n,"answers")||{};break;case S.DataTypeKeys.project:case S.DataTypeKeys.course:o=(0,k.get)(t,"contentIds")||[],i=(0,k.cloneDeep)((0,k.get)(n,"subItems")||{}),a===S.DataTypeKeys.course&&r&&Object.keys(i).forEach(function(e){var t=i[e];s(t.itemId).type!==S.DataTypeKeys.project||t.withAll||(i[e]=(0,k.get)(t,"recordVersions."+r)||{})})}if(0===o.length)return null;var l=-1,u={};if(o.forEach(function(e,t){var n=(0,k.get)(i,e);if(n){var r=(0,k.get)(u,"updatedTime")||0,o=(0,R.default)(n.updatedTime).isAfter((0,R.default)(r));a===S.DataTypeKeys.quiz&&o&&(o=(0,k.size)(n.questionAnswers)>0),o&&(u=_({},n,{itemId:e}),l=t)}}),-1===l||u.completed||a===S.DataTypeKeys.quiz)for(var c=o.length,d=l,f=0;f<c;f++){var p=o[d=(d+1)%c],g=i[p];if(!g){u={itemId:p};break}if(a===S.DataTypeKeys.quiz||g.completed){if(a===S.DataTypeKeys.quiz&&0===(0,k.size)(g.questionAnswers)){u=_({},g,{itemId:p});break}}else u=_({},g,{itemId:p})}return(0,k.get)(n,"nextRecordData.itemId")===u.itemId?null:u},t.GetRecordSubItems=function(e){var t=e.data,n=e.record,r=e.versionId,a=e.simple,o=e.withCover,l=[],u={};if(!t)return{items:l,completed:u};var c=t.type;if(r||(r=(0,k.get)(n,"versionId")),c===S.DataTypeKeys.tutorial&&(l=((0,k.get)(t,"requiredSections")||[]).map(function(e,t){var r=e.title,o=e.id,s=e.type;return u[t]=(0,k.get)(n,"steps."+o+".completed"),a?{id:o}:{title:r,id:o,type:s}})),c===S.DataTypeKeys.project){var d=t.quizMap,f=t.tutorialMap;l=t.contentIds.map(function(e,t){return u[t]=(0,k.get)(n,"subItems."+e+".completed"),a?{itemId:e}:i({itemId:e,quizMap:d,tutorialMap:f})})}if(c===S.DataTypeKeys.course){var p=t.quizMap,g=t.tutorialMap,h=t.projectMap;l=t.contentIds.map(function(e,t){var o=(0,k.get)(n,"subItems."+e);return u[t]=(0,k.get)(o,"completed"),r&&(s(e).type!==S.DataTypeKeys.project||(0,k.get)(o,"withAll")||(u[t]=(0,k.get)(o,"recordVersions."+r+".completed"))),a?{itemId:e}:i({itemId:e,quizMap:p,tutorialMap:g,projectMap:h})})}return l.length>2&&!0===o&&(l=l.slice(0,2)),{items:l,completed:u}},t.GetRecordStatus=m,t.GetContentRecordStatus=function(e,t){var n=(0,k.get)(e,"subItems")||{},r=!0,a=0;return t&&t.length>0?t.forEach(function(e){var t=n[e];t&&t.completed?t.completed&&(a+=1):r=!1}):r=!1,{completed:r,completedNum:a}},t.GetUrlQueryObject=function(){return(window.location.search.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=n[1]),e},{})},t.GetDiffIds=v,t.MergeFormIdsValue=function(e){var t=e.state,n=e.fieldName,r=v(e.resourceIds,e.targetIds),a=r.addIds,s=r.removedIdMap,i=[];[].concat(o(t.get(n)||[]),o(a)).forEach(function(e){s[e]||i.push(e)}),t.set(n,(0,k.uniq)(i))},t.stopPropagation=function(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.GetListDataFeaturesByListName=function(e,t){var n=(0,k.get)(e,"listMap."+t+".contentIds")||[],r=(0,k.get)(e,"listMap."+t+".contentMap")||{},a=r.quizMap,o=r.tutorialMap,s=r.projectMap,l=r.courseMap,u=r.liveSessionMap,c=r.submissionMap,d=r.missionMap,f=r.pathwayMap;return n.map(function(e){var t=i({itemId:e,tutorialMap:o,projectMap:s,courseMap:l,quizMap:a,liveSessionMap:u,submissionMap:c,missionMap:d,pathwayMap:f}),n=[];return((0,k.get)(t,"liveSessionIds")||[]).forEach(function(e){(0,k.get)(u,e)&&n.push((0,k.get)(u,e))}),t.liveSessions=n,t})},t.GetExperienceLevelDetail=function(e,t){if(!e)return null;var n=e.categoryId,r=e.point,a=(0,k.get)(t,n),o={categoryId:n,level:1,totalPoint:r,levelPoint:r,categoryExperience:0},s=(0,E.default)(a,r);return o.levelPoint=(0,k.get)(s,"levelPoint")||0,o.level=(0,k.get)(s,"level")||1,o.categoryExperience=(0,w.GetCategoryLevelExperience)(a,o.level),o},t.GetProfilePageUrl=function(e,t){if(!e)return"";var n={};return t&&(n.tab=t),g("/u/"+(e.slug||e.id),n)},t.GetLowestDifficultyLevel=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",n=0;n<e.length;n++)0!==n?S.SkillLevelTypeRankMap[e[n]]<S.SkillLevelTypeRankMap[t]&&(t=e[n]):t=e[n];return t};var y=n(11),b=n(696),S=n(176),w=n(697),E=r(w),O=n(698),I=r(n(14)),k=n(22),C=r(n(699)),T=r(n(701)),j=r(n(702)),M=r(n(703)),P=r(n(704)),x=r(n(705)),A=n(6),R=r(n(42)),D=T.default,N=T.default,L=j.default,F={course:"lco",project:"lpr",tutorial:"ltu",liveSession:"lls",badge:"lbg",mission:"lms",pathway:"lpw",user:"u",team:"t",faq:"lfa",quiz:"lqz",submission:"lsu",competency:"lcp"},U={lco:"course",lpr:"project",ltu:"tutorial",lls:"liveSession",lfa:"faq",lqz:"quiz",lsu:"submission",lbg:"badge",lms:"mission",lpw:"pathway",lcp:"competency",u:"user",t:"team"},K=n(706),B=t.GetI18nText=function(e,t,n){var r=(0,A.i18n)(e,t,n);return r===n?"":r}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=["en","fr","zh","ja","es","ru","ko","de","pt"];e.exports={prioritySort:function(e){if(!e||0===e.length)return[];var t=s.reduce(function(e,t){return o({},e,a({},t,!0))},{}),n=[].concat(r(e)),i=n.filter(function(e){var n=e.id;return t[n]}),l=n.filter(function(e){var n=e.id;return!t[n]}),u=i.reduce(function(e,t){return o({},e,a({},t.id,t))},{});l.sort(function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase();return n<r?-1:n>r?1:0});var c=s.map(function(e){return u[e]});return[].concat(r(c),r(l))},getLanguageFromLocale:function(e){var t=e&&e.split("_")||[];return t.length>0?t[0]:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=i(e);return s(n,t)},t.GetCategoryLevelExperience=function(e,t){var n=i(e);return o(n,t)};var r=n(22),a=function(e){return e%5==0?e:5*Math.ceil(e/5)},o=function(e,t){if(1===t||e<=0)return e;for(var n=2;n<=t;n++)e=a(1.5*e);return e},s=function(e,t){var n=1;if(0===e)return{level:n,levelPoint:t};for(;t>=o(e,n);)t-=o(e,n),n++;return{level:n,levelPoint:t}},i=function(e){var t=(0,r.get)(e,"name");return"Audio"===t||"Systems Design"===t||"Professional Skills"===t?250:"Unity Essentials"===t||"Art & Animation"===t||"Programming"===t?500:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEditorContent=function(e,t){var n=void 0,o=void 0,s=r.default.getEditorState(e,t);if(s){var i=(0,a.normalizeValidAtomicBlocks)(s.getCurrentContent());n=JSON.stringify((0,a.convertToRaw)(i)),o=i.getPlainText()}return{body:n,text:o}},t.getDraftPlainText=function(e){return e&&a.convertFromRaw?(0,a.convertFromRaw)(JSON.parse(e)).getPlainText():""};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(125)),a=n(10);t.default=function(e,t){var n=void 0,o=void 0,s=r.default.getEditorState(e,"editorTitle_"+t);s&&(n=s.getCurrentContent().getPlainText());var i=r.default.getEditorState(e,"editorBody_"+t);if(i){var l=(0,a.normalizeValidAtomicBlocks)(i.getCurrentContent());o=JSON.stringify((0,a.convertToRaw)(l))}return{title:n,body:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(700));t.default=function(e){e=(0,r.default)(e),window.location.href=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/connect-?\w*\.unity\.com/i;t.default=function(e,t){var n=t||window&&window.location&&window.location.hostname||"";return(e=e||"").startsWith("http")?e:!0===r.test(n)&&0!==e.indexOf("/learn")?"/learn"+e:e}},function(e,t){e.exports={search_placeholder:"search_placeholder_1dmP",sl_none:"sl_none_15yL",sl_all:"sl_all_2t78",sl_foundational:"sl_foundational_2CeB",sl_beginner:"sl_beginner_EyW4",sl_intermediate:"sl_intermediate_19Do",sl_advanced:"sl_advanced_QOIm",sl_expert:"sl_expert_b9lL",t_all:"t_all_KfPC",t_project:"t_project_3IFs",t_course:"t_course_2ZSx",t_tutorial:"t_tutorial_1ksw",t_liveSession:"t_liveSession_3o0e",t_quiz:"t_quiz_1Rgf",t_skill:"t_skill_38AP",t_competency:"t_competency_vEkz",t_mission:"t_mission_2qcW",t_pathway:"t_pathway_3Bds",t_badge:"t_badge_x31k",d_boundless_15:"d_boundless_15_Zmgp",d_15_30:"d_15_30_2nK4",d_30_60:"d_30_60_3_sj",d_60_boundless:"d_60_boundless_21ao",d_15_60:"d_15_60_3xKR",d_60_120:"d_60_120_18kT",d_120_boundless:"d_120_boundless_3QuG",ins_boundless_45:"ins_boundless_45_3mhL",ins_45_60:"ins_45_60_ytDD",ins_60_120:"ins_60_120_1fId",ins_120_300:"ins_120_300_3mV-",ins_300_boundless:"ins_300_boundless_Kp8k",age_13_14:"age_13_14_sAcw",age_15_17:"age_15_17_2OJk",age_18_boundless:"age_18_boundless_3VAY",select_sl:"select_sl_206O",select_t:"select_t_YVog",select_xp:"select_xp_1OpH",select_d:"select_d_BUNj",select_tag:"select_tag_3Ouv",select_ind:"select_ind_7OX2",select_uv:"select_uv_3jU_",select_lang:"select_lang_29OV",select_prm:"select_prm_2bIL",select_hidden:"select_hidden_1xLJ",select_status:"select_status_ckDR",select_ins:"select_ins_2-Ne",select_age:"select_age_1IPj",selected_tag:"selected_tag_3dFY",selected_ind:"selected_ind_2Tah",selected_uv:"selected_uv_2IM3",selected_xp:"selected_xp_1TZx",filters_show:"filters_show_1BWy",filters_hide:"filters_hide_Jx9V",prm_all:"prm_all_1f_p",prm_premium:"prm_premium_9FLz",prm_none_premium:"prm_none_premium_Ft3l",lang_all:"lang_all_dnSm",lang_en:"lang_en_32-r",lang_ja:"lang_ja_37KM",lang_zh:"lang_zh_2hJu",lang_ko:"lang_ko_WDrp",lang_ru:"lang_ru_VtmK",lang_de:"lang_de_x35U",lang_es:"lang_es_2olN",lang_pt:"lang_pt_36vR",lang_fr:"lang_fr_sY3z",hidden_all:"hidden_all_3oIS",hidden_hidden:"hidden_hidden_2yHc",hidden_none_hidden:"hidden_none_hidden_c-Ft",status_all:"status_all_3Rn6",status_draft:"status_draft_1rYl",status_published:"status_published_1mr3",owner_placeholder:"owner_placeholder_26M7",ob_none:"ob_none_1jXx",ob_starts:"ob_starts_Lu8f",ob_views:"ob_views_12Wd",ob_collects:"ob_collects_hWEB",ob_recency:"ob_recency_3mj2",ob_titleasc:"ob_titleasc_16bH",ob_titledes:"ob_titledes_3NAD",search_input_placeholder:"search_input_placeholder_13Tn",filters_checkbox_label:"filters_checkbox_label_259Y",checkbox_premium:"checkbox_premium_LkVF",checkbox_none_premium:"checkbox_none_premium_xBWD",checkbox_hidden:"checkbox_hidden_3AYL",checkbox_none_hidden:"checkbox_none_hidden_LZcV",checkbox_published:"checkbox_published_2SiP",checkbox_draft:"checkbox_draft_3srq",checkbox_singles:"checkbox_singles_YC8_",create_new:"create_new_2IDo",create_title_course:"create_title_course_kPt4",create_title_project:"create_title_project_3L6D",create_title_tutorial:"create_title_tutorial_2hZh",create_title_liveSession:"create_title_liveSession_2T7i",create_title_quiz:"create_title_quiz_1sy-",create_title_skill:"create_title_skill_1fYi",create_title_competency:"create_title_competency_11Cl",create_title_mission:"create_title_mission_2gSn",create_title_pathway:"create_title_pathway_3QG3",create_title_badge:"create_title_badge_aKhd",create_introduction_course:"create_introduction_course_ndfO",create_introduction_project:"create_introduction_project_1uGI",create_introduction_tutorial:"create_introduction_tutorial_1gDp",create_introduction_liveSession:"create_introduction_liveSession_3YGD",create_introduction_quiz:"create_introduction_quiz_3KiA",create_introduction_skill:"create_introduction_skill_2rgz",create_introduction_competency:"create_introduction_competency_3L6P",create_introduction_mission:"create_introduction_mission_BZ_f",create_introduction_pathway:"create_introduction_pathway_1wsP",create_introduction_badge:"create_introduction_badge_rbBq",submission_ob_collects:"submission_ob_collects_pXxA",all_exercises:"all_exercises_2nG1"}},function(e,t){e.exports={type_project:"type_project_3YrB",type_course:"type_course_3Ha9",type_tutorial:"type_tutorial_1E3V",type_liveSession:"type_liveSession_13NM",type_quiz:"type_quiz_FEHC",type_skill:"type_skill_3n0D",type_competency:"type_competency_19aq",type_badge:"type_badge_33Eu",type_mission:"type_mission_3yQ5",type_pathway:"type_pathway_3XiU",type_free_asset:"type_free_asset_Sakt",type_premium_asset:"type_premium_asset_2vXN",type_group:"type_group_3BqD",questions_count:"questions_count_1Y6d",time_format:"time_format_1czt",sub_skills_count:"sub_skills_count_2y3Z",skills_count:"skills_count_3ZNv",competencies_count:"competencies_count_35n-",group_online:"group_online_yx4P",group_members:"group_members_1--s"}},function(e,t){e.exports={section_eyebrow:"section_eyebrow_3PLu",section_eyebrow_login:"section_eyebrow_login_270Q",section_title:"section_title_2H7O",tab_newToUnity:"tab_newToUnity_3UsA",tab_familiarWithUnity:"tab_familiarWithUnity_IXg1",tab_powerUser:"tab_powerUser_2MV3",content_newToUnity_title:"content_newToUnity_title_2Tq-",content_familiarWithUnity_title:"content_familiarWithUnity_title_32kh",content_powerUser_title:"content_powerUser_title_15HR",start_with_first_project:"start_with_first_project_j2nE",start_with_area:"start_with_area_1VA4",start_with_industry_topic:"start_with_industry_topic_2d5x",start_here:"start_here_3X0G",sign_in_text:"sign_in_text_n_WM",sign_in_link:"sign_in_link_3hS-",start_now:"start_now_2gHu",search_input_placeholder:"search_input_placeholder_1aCH",type_topics:"type_topics_3r7S",type_industries:"type_industries_xTbq",button_more:"button_more_3uu4",button_less:"button_less_1hML",browse_all_topics:"browse_all_topics_3cMm",collapse_title:"collapse_title_mVjv",tag_name_games:"tag_name_games_2FjY",tag_name_xr:"tag_name_xr_1Hdb",tag_name_film:"tag_name_film_3j1-",tag_name_scripting:"tag_name_scripting_1LQu",tag_name_art:"tag_name_art_3xeZ",tag_name_design:"tag_name_design_3qb2",tag_desc_games:"tag_desc_games_2Fa2",tag_desc_xr:"tag_desc_xr_2I9Q",tag_desc_film:"tag_desc_film_3-L2",tag_desc_scripting:"tag_desc_scripting_1HO6",tag_desc_art:"tag_desc_art_3sMQ",tag_desc_design:"tag_desc_design_30kP"}},function(e,t){e.exports={section_title_save_tags:"section_title_save_tags_1qhu",browse_all:"browse_all_2j9a",tag_name_editor_essentials:"tag_name_editor_essentials_UVKb",tag_name_scripting:"tag_name_scripting_1hkV",tag_name_graphics_visual_effects:"tag_name_graphics_visual_effects_1scc",tag_name_2d:"tag_name_2d_1Aq1",tag_name_mobile_touch:"tag_name_mobile_touch_1TNq",tag_name_xr:"tag_name_xr_3VYv",tag_name_physics:"tag_name_physics_1yoe",tag_name_user_interface:"tag_name_user_interface_2rMi",tag_desc_editor_essentials:"tag_desc_editor_essentials_2brl",tag_desc_scripting:"tag_desc_scripting_11ym",tag_desc_graphics_visual_effects:"tag_desc_graphics_visual_effects_LLhY",tag_desc_2d:"tag_desc_2d_m0SH",tag_desc_mobile_touch:"tag_desc_mobile_touch_mjqu",tag_desc_xr:"tag_desc_xr_2RI3",tag_desc_physics:"tag_desc_physics_3Ry_",tag_desc_user_interface:"tag_desc_user_interface_3Wxj"}},function(e,t){e.exports={duration_weeks:"duration_weeks_1CNY",duration_hours:"duration_hours__ngJ",duration_mins:"duration_mins_Q4OM",duration_secs:"duration_secs_1BTI"}},function(e,t,n){e.exports=n.p+"../styles/i/learn/logo.74999562d424719ef57f8c9ba1c5202f.jpg"},function(e,t,n){e.exports=n(8)(583)},function(e,t,n){e.exports=n(8)(281)},function(e,t,n){e.exports=n(8)(119)},function(e,t){},,,,,,function(e,t){e.exports={"scroller-wrap":"scroller-wrap_2ebVUni0",scroller:"scroller_1zcid46f",center:"center_3xcNbSCI",top:"top_2wrdd5MN",scrollbar:"scrollbar_213WWY7Z",track:"track_1t4sH5Wt",thumb:"thumb_3hY4wmjr",fade:"fade_3GzSaPUc",isPressed:"isPressed_397zSpHJ",white:"white_1iBH3PBK"}},function(e,t,n){"use strict";e.exports=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t){e.exports={container:"container_1NEeLFjP",currentText:"currentText_15f1QOEr",innerCurrentText:"innerCurrentText_F-JXwypx",disabled:"disabled_1MTrs_wV","currentText-egl":"currentText-egl_1IDt3D_z",text:"text_2UNuHrrU",hint:"hint_MHIPwg_J","hint-egl":"hint-egl_eEvjaxpm",triangle:"triangle_20fmw_FF",selectsWrapContainer:"selectsWrapContainer_e9yUGf3D",selects:"selects_2ppiVyIj",selectItem:"selectItem_2K6fI4KB",active:"active_137ZXAvm","selects-egl":"selects-egl_psO9nGHD",scroller:"scroller_1G_pfrNc",errorText:"errorText_1GOGF4ws",description:"description_2RsoZDJp"}},function(e,t){e.exports={container:"container_nliE-BsI",disabled:"disabled_ESepX3m_",radio:"radio_18J4COWz",radioInner:"radioInner_37T1iQiJ",active:"active_3-aenzNB",label:"label_1mlJc9H0",hintLabel:"hintLabel_71l3i8DG",blue:"blue_OemTWVwT",selected:"selected_3fCSOkgP",icon:"icon_34Fe_8yb",primary:"primary_1QHYNCE6","primary-blue":"primary-blue_11gdaiLi","egl-blue":"egl-blue_3gZgw9tg"}},function(e,t){!function(t,n){var r=n(t,t.document);t.lazySizes=r,"object"==typeof e&&e.exports&&(e.exports=r)}("undefined"!=typeof window?window:{},function(e,t){"use strict";var n,r;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};r=e.lazySizesConfig||e.lazysizesConfig||{};for(t in n)t in r||(r[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:r,noSupport:!0};var a=t.documentElement,o=e.Date,s=e.HTMLPictureElement,i=e.addEventListener,l=e.setTimeout,u=e.requestAnimationFrame||l,c=e.requestIdleCallback,d=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],p={},g=Array.prototype.forEach,h=function(e,t){return p[t]||(p[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),p[t].test(e.getAttribute("class")||"")&&p[t]},m=function(e,t){h(e,t)||e.setAttribute("class",(e.getAttribute("class")||"").trim()+" "+t)},v=function(e,t){var n;(n=h(e,t))&&e.setAttribute("class",(e.getAttribute("class")||"").replace(n," "))},_=function(e,t,n){var r=n?"addEventListener":"removeEventListener";n&&_(e,t),f.forEach(function(n){e[r](n,t)})},y=function(e,r,a,o,s){var i=t.createEvent("Event");return a||(a={}),a.instance=n,i.initEvent(r,!o,!s),i.detail=a,e.dispatchEvent(i),i},b=function(t,n){var a;!s&&(a=e.picturefill||r.pf)?(n&&n.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",n.src),a({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},S=function(e,t){return(getComputedStyle(e,null)||{})[t]},w=function(e,t,n){for(n=n||e.offsetWidth;n<r.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},E=function(){var e,n,r=[],a=[],o=r,s=function(){var t=o;for(o=r.length?a:r,e=!0,n=!1;t.length;)t.shift()();e=!1},i=function(r,a){e&&!a?r.apply(this,arguments):(o.push(r),n||(n=!0,(t.hidden?l:u)(s)))};return i._lsFlush=s,i}(),O=function(e,t){return t?function(){E(e)}:function(){var t=this,n=arguments;E(function(){e.apply(t,n)})}},I=function(e){var t,n=0,a=r.throttleDelay,s=r.ricTimeout,i=function(){t=!1,n=o.now(),e()},u=c&&s>49?function(){c(i,{timeout:s}),s!==r.ricTimeout&&(s=r.ricTimeout)}:O(function(){l(i)},!0);return function(e){var r;(e=!0===e)&&(s=33),t||(t=!0,(r=a-(o.now()-n))<0&&(r=0),e||r<9?u():l(u,r))}},k=function(e){var t,n,r=function(){t=null,e()},a=function(){var e=o.now()-n;e<99?l(a,99-e):(c||r)(r)};return function(){n=o.now(),t||(t=l(a,99))}},C=function(){var s,u,c,f,p,w,C,j,M,P,x,A,R=/^img$/i,D=/^iframe$/i,N="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),L=0,F=0,U=-1,K=function(e){F--,(!e||F<0||!e.target)&&(F=0)},B=function(e){return null==A&&(A="hidden"==S(t.body,"visibility")),A||"hidden"!=S(e.parentNode,"visibility")&&"hidden"!=S(e,"visibility")},z=function(e,n){var r,o=e,s=B(e);for(j-=n,x+=n,M-=n,P+=n;s&&(o=o.offsetParent)&&o!=t.body&&o!=a;)(s=(S(o,"opacity")||1)>0)&&"visible"!=S(o,"overflow")&&(r=o.getBoundingClientRect(),s=P>r.left&&M<r.right&&x>r.top-1&&j<r.bottom+1);return s},q=function(){var e,o,i,l,c,d,p,g,h,m,v,_,y=n.elements;if((f=r.loadMode)&&F<8&&(e=y.length)){for(o=0,U++;o<e;o++)if(y[o]&&!y[o]._lazyRace)if(!N||n.prematureUnveil&&n.prematureUnveil(y[o]))Q(y[o]);else if((g=y[o].getAttribute("data-expand"))&&(d=1*g)||(d=L),m||(m=!r.expand||r.expand<1?a.clientHeight>500&&a.clientWidth>500?500:370:r.expand,n._defEx=m,v=m*r.expFactor,_=r.hFac,A=null,L<v&&F<1&&U>2&&f>2&&!t.hidden?(L=v,U=0):L=f>1&&U>1&&F<6?m:0),h!==d&&(w=innerWidth+d*_,C=innerHeight+d,p=-1*d,h=d),i=y[o].getBoundingClientRect(),(x=i.bottom)>=p&&(j=i.top)<=C&&(P=i.right)>=p*_&&(M=i.left)<=w&&(x||P||M||j)&&(r.loadHidden||B(y[o]))&&(u&&F<3&&!g&&(f<3||U<4)||z(y[o],d))){if(Q(y[o]),c=!0,F>9)break}else!c&&u&&!l&&F<4&&U<4&&f>2&&(s[0]||r.preloadAfterLoad)&&(s[0]||!g&&(x||P||M||j||"auto"!=y[o].getAttribute(r.sizesAttr)))&&(l=s[0]||y[o]);l&&!c&&Q(l)}},V=I(q),H=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(K(e),m(t,r.loadedClass),v(t,r.loadingClass),_(t,G),y(t,"lazyloaded"))},W=O(H),G=function(e){W({target:e.target})},$=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Y=function(e){var t,n=e.getAttribute(r.srcsetAttr);(t=r.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},J=O(function(e,t,n,a,o){var s,i,u,f,p,h;(p=y(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(n?m(e,r.autosizesClass):e.setAttribute("sizes",a)),i=e.getAttribute(r.srcsetAttr),s=e.getAttribute(r.srcAttr),o&&(f=(u=e.parentNode)&&d.test(u.nodeName||"")),h=t.firesLoad||"src"in e&&(i||s||f),p={target:e},m(e,r.loadingClass),h&&(clearTimeout(c),c=l(K,2500),_(e,G,!0)),f&&g.call(u.getElementsByTagName("source"),Y),i?e.setAttribute("srcset",i):s&&!f&&(D.test(e.nodeName)?$(e,s):e.src=s),o&&(i||f)&&b(e,{src:s})),e._lazyRace&&delete e._lazyRace,v(e,r.lazyClass),E(function(){var t=e.complete&&e.naturalWidth>1;h&&!t||(t&&m(e,"ls-is-cached"),H(p),e._lazyCache=!0,l(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&F--},!0)}),Q=function(e){if(!e._lazyRace){var t,n=R.test(e.nodeName),a=n&&(e.getAttribute(r.sizesAttr)||e.getAttribute("sizes")),o="auto"==a;(!o&&u||!n||!e.getAttribute("src")&&!e.srcset||e.complete||h(e,r.errorClass)||!h(e,r.lazyClass))&&(t=y(e,"lazyunveilread").detail,o&&T.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,F++,J(e,t,o,a,n))}},X=k(function(){r.loadMode=3,V()}),Z=function(){3==r.loadMode&&(r.loadMode=2),X()},ee=function(){u||(o.now()-p<999?l(ee,999):(u=!0,r.loadMode=3,V(),i("scroll",Z,!0)))};return{_:function(){p=o.now(),n.elements=t.getElementsByClassName(r.lazyClass),s=t.getElementsByClassName(r.lazyClass+" "+r.preloadClass),i("scroll",V,!0),i("resize",V,!0),e.MutationObserver?new MutationObserver(V).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",V,!0),a.addEventListener("DOMAttrModified",V,!0),setInterval(V,999)),i("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){t.addEventListener(e,V,!0)}),/d$|^c/.test(t.readyState)?ee():(i("load",ee),t.addEventListener("DOMContentLoaded",V),l(ee,2e4)),n.elements.length?(q(),E._lsFlush()):V()},checkElems:V,unveil:Q,_aLSL:Z}}(),T=function(){var e,n=O(function(e,t,n,r){var a,o,s;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),d.test(t.nodeName||""))for(o=0,s=(a=t.getElementsByTagName("source")).length;o<s;o++)a[o].setAttribute("sizes",r);n.detail.dataAttr||b(e,n.detail)}),a=function(e,t,r){var a,o=e.parentNode;o&&(r=w(e,o,r),(a=y(e,"lazybeforesizes",{width:r,dataAttr:!!t})).defaultPrevented||(r=a.detail.width)&&r!==e._lazysizesWidth&&n(e,o,a,r))},o=k(function(){var t,n=e.length;if(n)for(t=0;t<n;t++)a(e[t])});return{_:function(){e=t.getElementsByClassName(r.autosizesClass),i("resize",o)},checkElems:o,updateElem:a}}(),j=function(){!j.i&&t.getElementsByClassName&&(j.i=!0,T._(),C._())};return l(function(){r.init&&j()}),n={cfg:r,autoSizer:T,loader:C,init:j,uP:b,aC:m,rC:v,hC:h,fire:y,gW:w,rAF:E}})},function(e,t){e.exports={image:"image_3Ptw5emY","placeholder-wrapper":"placeholder-wrapper_2kAsug7c","image-wrapper":"image-wrapper_kqQYamzk",imageholder:"imageholder_3AZvfbQ0"}},function(e,t){e.exports={avatar:"avatar_1pXJO-sl","image-wrap":"image-wrap_1EOvBkv7",status:"status_3CtMmnq4",circle:"circle_3O7nubv8","avatar-xxxxxsmall":"avatar-xxxxxsmall_2p2DI31L",name:"name_28PeiSGS","avatar-xxxxsmall":"avatar-xxxxsmall_2qnQEFRo","avatar-xxxsmall":"avatar-xxxsmall_2Ax8O3Sm",anonymous:"anonymous_1o8IISuv","avatar-xxsmall":"avatar-xxsmall_A5vJezb2",followed:"followed_2ZTheVlP",check:"check_vCXB-A_n","avatar-xsmall":"avatar-xsmall_1cHryyYf","avatar-xmsmall":"avatar-xmsmall_26aRVX4D","avatar-small":"avatar-small_2lXok6jK","avatar-medium":"avatar-medium_dteYOS9D","avatar-large":"avatar-large_2qaKZHnM","avatar-xlarge":"avatar-xlarge_t2leCgt-","avatar-suggest":"avatar-suggest_1h5dUtCQ","avatar-quick-search":"avatar-quick-search_1WKDPJlV","avatar-expert-card":"avatar-expert-card_1x4sBqHS","avatar-v2-large":"avatar-v2-large_3TlmjtNf","avatar-v2-medium":"avatar-v2-medium_1Qo4NJk8","avatar-v2-small":"avatar-v2-small_3-dRpL29","avatar-repost":"avatar-repost_1c5cNX4m","avatar-xxlarge":"avatar-xxlarge_3ECwtZVw","avatar-xxxlarge":"avatar-xxxlarge_1Gvsr0mk","avatar-profile":"avatar-profile_3NKxSkRi","avatar-group":"avatar-group_3Tefn6rH","avatar-group-small":"avatar-group-small_3hlxminM","avatar-message-card":"avatar-message-card_3Sm-yZzZ","avatar-company-card":"avatar-company-card_1wel10om","avatar-user-card":"avatar-user-card_1Y-nRBnY","avatar-unified-profile":"avatar-unified-profile_1kJ2Pg0a","avatar-message-menu":"avatar-message-menu_1a9tbVbq","avatar-xxxxlarge":"avatar-xxxxlarge_3oiciYQ5","status-online":"status-online_1x83sQjt","status-idle":"status-idle_3F0z4Egj","status-offline":"status-offline_3JdXJfAy","status-typing":"status-typing_2lvEuoOp",ellipsis:"ellipsis_wKFe4GWt","default-bg":"default-bg_2oTxdovK"}},function(e,t){e.exports={followed:"followed_2fwP"}},function(e,t){e.exports={"raised-btn":"raised-btn_2vTjL538","raised-btn-primary":"raised-btn-primary_MYOE9bp7","raised-btn-default":"raised-btn-default_3M_uvHPG","raised-btn-loading":"raised-btn-loading_2zV-H5G8","raised-btn-secondary":"raised-btn-secondary_Bj_15kbi","raised-btn-thirdly":"raised-btn-thirdly_QAfXf1ST","raised-btn-fourthly":"raised-btn-fourthly_o3QM0JY8","raised-btn-fifthly":"raised-btn-fifthly_2BYYZWlt","raised-btn-black":"raised-btn-black_25LClDGh","raised-btn-red":"raised-btn-red_2RcoM63p","raised-btn-blue":"raised-btn-blue_37QDrHj0","raised-btn-primary-blue":"raised-btn-primary-blue_CwUp44WJ","raised-btn-new-default":"raised-btn-new-default_37xxsZuI","raised-btn-purple":"raised-btn-purple_36DUDqpQ","raised-btn-violet":"raised-btn-violet_P77QoYei","raised-btn-header-default":"raised-btn-header-default_1IsqgmEz","raised-btn-white":"raised-btn-white_eL_TEgAO","raised-btn-transparent":"raised-btn-transparent_2agQEVMe","raised-btn-gray":"raised-btn-gray_39ycbZo9","raised-btn-link":"raised-btn-link_3LQYwRXO","raised-btn-link-border":"raised-btn-link-border_2WfXE-XU","raised-btn-white-link-border":"raised-btn-white-link-border_t559qF12","raised-btn-blue-link-border":"raised-btn-blue-link-border_P_arkiuo","raised-btn-pink":"raised-btn-pink_1NcMdHjn","raised-btn-webgl":"raised-btn-webgl_3_kjsmT6","size-xxsmall":"size-xxsmall_66MaEoEz","size-xsmall":"size-xsmall_10lMFD2d","size-small":"size-small_2Xetoijv","size-medium":"size-medium_3tC1AZkh","size-large":"size-large_w0zciFUV","size-xlarge":"size-xlarge_26YC-cEO","size-xxlarge":"size-xxlarge_3C-2YrGl","width-full":"width-full_2wWLBFy9","width-auto":"width-auto_vfULHdfR","size-new-small":"size-new-small_1JdsN8Ck","size-new-medium":"size-new-medium_1KbDqy0a","size-new-large":"size-new-large_2sAP2xiz","size-new-xlarge":"size-new-xlarge_dGFweqnR","size-new-xxlarge":"size-new-xxlarge_1-52_mbt","raised-btn-loading-wrap":"raised-btn-loading-wrap_1FEK6jS1"}},function(e,t){e.exports={backdrop:"backdrop_gQOFTh3M",modal:"modal_2HSf4u4a","max-height":"max-height_9Pso-m0n","modal-inner":"modal-inner_1ZHQC_XC",center:"center_xVQHpEcL"}},function(e,t){e.exports={"dialog-contents":"dialog-contents_3KtBo-qF","title-wrap":"title-wrap_29i7CSPo","button-close":"button-close_1QpE5YKK",close:"close_pfShAWCK","button-wrap":"button-wrap_3eIwXx6i",reverse:"reverse_3n_E3Sc1","button-delete":"button-delete_2_218Xno",buttons:"buttons_3fbds3X8",button:"button_3a50b_UU",blue:"blue_1N0NIlL6",error:"error_2ab7Bqdn"}},function(e,t){e.exports={dialog_title:"dialog_title_p6dP",button_ok:"button_ok_8OVG",ok:"ok_1B6I",cancel:"cancel_2nl_"}},function(e,t){e.exports={"input-wrap":"input-wrap_37qHZuNK","active-blue-green":"active-blue-green_3WIO54QT","active-primary-blue":"active-primary-blue_3p_2lKf4",disabled:"disabled_XkbqWG6P",failed:"failed_3-4CaefV",icon:"icon_2BR9dnuD",close:"close_2ZtV7Eoy",input:"input_3yaUP2ah","input-wrap-egl":"input-wrap-egl_1dMm5a1u","text-input":"text-input_1zwaVtSr","theme-small":"theme-small_3BIyN2zD","theme-transparent":"theme-transparent_1qfAkTuT","theme-dark":"theme-dark_2f3h2N29","theme-egl":"theme-egl_1nm0wZsJ",notice:"notice_2SH_cyIz",succeeded:"succeeded_1E5Kcckx",inProgress:"inProgress_1aQUaJof",initial:"initial_1M_5HFm5",right:"right_1hrVYbeV",bottom:"bottom_2KFENrcf",hide:"hide_3RMsfyaL","right-hint":"right-hint_3e6r6uIL"}},function(e,t){e.exports={numberInput:"numberInput_2iuk",numberOutput:"numberOutput_14uS",inProgress:"inProgress_3sG-",succeeded:"succeeded_3Je8",failed:"failed_1WdK"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=r(n(2)),m=r(n(1)),v=r(n(3)),_=r(n(119)),y=r(n(731)),b=r(n(17)),S=n(26),w=r(n(4)),E=r(n(734)),O=r(n(6)),I=r(n(735)),k=(l=(0,w.default)(E.default),u=(0,O.default)(I.default),l(c=u((f=d=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={candidateIndex:r.props.defaultIndex,isActive:!1},r.onRemoveCandidate=function(e,t){var n=r.props,a=n.selectedIds,o=n.idToCandidateMap,s=o[a[t]];if(r.props.onRemove&&r.props.onRemove(s),r.props.onSaveToMap&&r.props.onRemoveFromMap)r.props.onRemoveFromMap(s);else{var i=s.id;if(i&&o[i]){delete o[i];var l=a.findIndex(function(e){return e===i});l<0&&a.splice(l,1)}r.setState({selectedIds:a,idToCandidateMap:o})}},a=n,s(r,a)}return i(t,v.default),g(t,[{key:"componentDidMount",value:function(){this.props.onDidMount&&this.props.onDidMount(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.defaultIndex,n=e.defaultIndex;t!==n&&this.setState({candidateIndex:n})}},{key:"onSave",value:function(e){if(e){var t=this.getCandidate();t&&this.onAddCandidate(t)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus(),this.setState({isActive:!0})}},{key:"onBlur",value:function(e){(0,S.isTouch)()||(this.props.onBlur&&this.props.onBlur(e),this.onClear(),this.setState({isActive:!1}))}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e),e&&e.trim()?this.props.onFetchCandidate&&this.props.onFetchCandidate(e):this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onKeyDown",value:function(e){var t=e.keyCode,n=this.getFullCandidates(),r=this.state.candidateIndex,a=n.length;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 40:e.preventDefault(),this.setState({candidateIndex:(r+1)%a});break;case 38:e.preventDefault(),this.setState({candidateIndex:(r+a-1)%a})}}},{key:"onInnerClear",value:function(){this.refs.textField&&this.refs.textField.onInnerClear()}},{key:"onClear",value:function(e){e&&e.preventDefault(),this.onInnerClear(),this.setState({candidateIndex:this.props.defaultIndex}),this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onAddCandidate",value:function(e,t){if(t&&t.preventDefault(),this.props.onSelected&&this.props.onSelected(e),this.props.onRemoveFromMap&&this.props.onSaveToMap)this.props.onSaveToMap(e);else{var n=e.id,r=this.props,a=r.selectedIds,o=r.idToCandidateMap;n&&!o[n]&&(o[n]=e,a.push(n)),this.setState({selectedIds:a,idToCandidateMap:o})}this.onClear()}},{key:"getFullCandidates",value:function(){var e=this.props.candidates;return void 0===e?[]:e}},{key:"getSelectedValues",value:function(){var e=this.props,t=e.selectedIds,n=e.idToCandidateMap,r=[];return t&&t.length>0&&t.forEach(function(e){e&&n&&n[e]&&r.push(n[e].name)}),r}},{key:"getCandidate",value:function(){var e=this.getFullCandidates(),t=this.state.candidateIndex,n=e.length,r=null;return t>=0&&t<n&&(r=e[t]),r}},{key:"setFocus",value:function(e){this.refs.textField.setFocus(e)}},{key:"renderCandidates",value:function(){var e=this,t=this.getFullCandidates(),n=this.props,r=n.onRenderCandidate,a=n.activeClassName,o=n.tagType;return t.map(function(t,n){var s=t.text,i=t.type,l=t.name,u=function(){e.setState({candidateIndex:n})},c=function(){e.setState({candidateIndex:e.props.defaultIndex})},d=m.default.createElement("li",null,(0,_.default)(s));return"q"===i&&(d="tag"===o?m.default.createElement("li",null,e.__("create_new_tag",{name:l})):"skill"===o?m.default.createElement("li",null,e.__("create_new",{name:l})):m.default.createElement("li",null,e.__("create_new_category",{name:l}))),r&&(d=r(t)),d?n===e.state.candidateIndex?m.default.cloneElement(d,{className:e.ss("active",a),key:""+n,onMouseEnter:u,onMouseLeave:c,onMouseDown:function(n){return e.onAddCandidate(t,n)}}):m.default.cloneElement(d,{key:""+n,onMouseEnter:u,onMouseLeave:c}):null})}},{key:"renderCandidatesWrap",value:function(){var e=this.props,t=e.candidateClassName,n=e.maxCandidatesCount,r=e.maxCandidatesHeight,a=e.headerText,o=e.headerClassName,s=void 0,i=this.renderCandidates();s=0!==i.length?this.ss(t,"candidates","expand"):this.ss(t,"candidates");var l={};n&&r&&i.length>n&&(l.height=r);var u=void 0;return a&&(u=m.default.createElement("div",{className:this.ss(o)},a)),m.default.createElement("ul",{className:s},u,m.default.createElement(b.default,null,m.default.createElement("div",{style:l},i)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.textFieldClassName,o=(t.candidateClassName,t.activeClassName,t.maxCandidatesCount,t.maxCandidatesHeight,t.onRenderCandidate,t.onSelected,t.onFetchCandidate,t.onClearCandidate,t.onSaveToMap,t.onRemoveFromMap,t.onDidMount,t.selectedIds,t.idToCandidateMap,t.candidates,t.headerText,t.headerClassName,t.defaultIndex,t.theme),s=(t.tagType,a(t,["className","textFieldClassName","candidateClassName","activeClassName","maxCandidatesCount","maxCandidatesHeight","onRenderCandidate","onSelected","onFetchCandidate","onClearCandidate","onSaveToMap","onRemoveFromMap","onDidMount","selectedIds","idToCandidateMap","candidates","headerText","headerClassName","defaultIndex","theme","tagType"])),i=(this.state.isActive,this.getSelectedValues());return m.default.createElement("div",{className:this.ss("text-auto",n,o&&"theme-"+o)},m.default.createElement(y.default,p({},s,{ref:"textField",className:this.ss(r),valueList:i,onChange:function(t,n){return e.onChange(n)},onBlur:function(t){return e.onBlur(t)},onClear:function(t){return e.onClear(t)},onKeyDown:function(t){return e.onKeyDown(t)},onSave:function(t){return e.onSave(t)},onFocus:function(){return e.onFocus()},onRemove:this.onRemoveCandidate})),this.renderCandidatesWrap())}}]),t}(),d.propTypes={candidates:h.default.arrayOf(h.default.shape({value:h.default.oneOfType([h.default.string,h.default.number]),text:h.default.string,name:h.default.string})),className:h.default.string,textFieldClassName:h.default.string,defaultIndex:h.default.number,candidateClassName:h.default.string,maxCandidatesCount:h.default.number,maxCandidatesHeight:h.default.number,activeClassName:h.default.string,headerText:h.default.string,headerClassName:h.default.string,selectedIds:h.default.array,idToCandidateMap:h.default.object,tagType:h.default.oneOf(["skill","tag","category"]),onSelected:h.default.func,onRemove:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onChange:h.default.func,onFetchCandidate:h.default.func,onClearCandidate:h.default.func,onDidMount:h.default.func,onSaveToMap:h.default.func,onRemoveFromMap:h.default.func,onRenderCandidate:h.default.func,onKeyDown:h.default.func,theme:h.default.oneOf(["small"])},d.defaultProps={defaultIndex:0,tagType:"skill"},c=f))||c)||c);t.default=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=r(n(2)),v=r(n(1)),_=r(n(3)),y=r(n(25)),b=r(n(37)),S=r(n(4)),w=r(n(732)),E=r(n(6)),O=r(n(733)),I=(0,y.default)({single:null,multiple:null}),k=(u=(0,S.default)(w.default),c=(0,E.default)(O.default),u(d=c((p=f=function(e){function t(){var e,n,r,a;s(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={valueList:r.getInitValueList(),hide:!1},a=n,i(r,a)}return l(t,_.default),h(t,[{key:"componentWillReceiveProps",value:function(e){this.checkToSyncInputValue(e),"unFold"===e.fold&&this.refs.input&&this.refs.input.setFocus(e.autoFocus)}},{key:"onInnerClear",value:function(){this.refs.input&&this.refs.input.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e)}},{key:"onSave",value:function(e){var t=this.state.valueList,n=this.props.valueList||t,r=[].concat(o(n));e&&e.trim()&&r.findIndex(function(t){return t===e})<0&&(r.push(e),this.setState({valueList:r}),this.props.onSave&&this.props.onSave(e)),this.onInnerClear()}},{key:"onRemove",value:function(e,t){e&&e.preventDefault();var n=this.state.valueList,r=this.props.valueList||n;if(r.length>0&&t>=0&&t<r.length){var a=[].concat(o(r)),s=a.splice(t,1);this.setState({valueList:a}),this.props.onRemove&&this.props.onRemove(s&&s[0],t)}}},{key:"getInitValueList",value:function(){var e=[],t=this.props.inputValue;return Array.isArray(t)?e.push.apply(e,o(t)):t&&e.push(t),e}},{key:"setFocus",value:function(e){this.refs.input&&this.refs.input.setFocus(e)}},{key:"checkToSyncInputValue",value:function(e){var t=e.valueList,n=this.props.valueList;(t&&t.length||0)!==(n&&n.length||0)&&this.onInnerClear(),"fold"===this.props.fold&&this.onInnerClear()}},{key:"renderValueList",value:function(e){var t=this,n=this.props,r=n.valueTheme,a=n.valueClassName;return"green"===r?e.map(function(e,n){return v.default.createElement("div",{key:"v"+n,className:t.ss("value",a)},v.default.createElement("div",{className:t.ss("name")},e),v.default.createElement("div",{className:t.ss("close-icon","ifont","ifont-icon-close"),onClick:function(e){return t.onRemove(e,n)}}))}):e.map(function(e,n){return v.default.createElement("div",{key:"v"+n,className:t.ss("value-gray",a)},v.default.createElement("div",{className:t.ss("name")},e),v.default.createElement("div",{className:t.ss("delete"),onClick:function(e){return t.onRemove(e,n)}},v.default.createElement("div",{className:t.ss("close-icon","ifont","ifont-icon-close2")})))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.hintText,r=t.inputType,o=t.inputValue,s=t.valueList,i=t.hideResult,l=(t.fold,t.onRemove,t.className),u=t.valueListClassName,c=(t.valueClassName,t.inputTheme),d=t.valueTheme,f=t.valueMode,p=t.borderClassName,h=a(t,["hintText","inputType","inputValue","valueList","hideResult","fold","onRemove","className","valueListClassName","valueClassName","inputTheme","valueTheme","valueMode","borderClassName"]),m=this.state.valueList,_=s||m,y="inner"===f,S=[],w=[p];if(y&&w.push("no-border"),S.push(v.default.createElement(b.default,g({},h,{ref:"input",key:"input",borderClassName:this.ss.apply(this,w),className:this.ss(y&&"text-input"||""),theme:c,placeholder:n,value:o,onSave:function(t){return e.onSave(t)},onClear:function(t){return e.onClear(t)}}))),!1===i){var E="gray"===d&&"gray";switch(r){case I.single:1===_.length&&(S=v.default.createElement("div",{key:r,className:this.ss("value-wrap","single",E,u)},this.renderValueList(_)));break;case I.multiple:_.length>0&&(y?S.unshift(this.renderValueList(_)):S.push(v.default.createElement("div",{key:r,className:this.ss("value-wrap",E,u)},this.renderValueList(_))))}}return v.default.createElement("div",{className:this.ss("text-field",y&&"inner-mode",l)},S)}}]),t}(),f.propTypes={onSave:m.default.func,onRemove:m.default.func,onClear:m.default.func,autoFocus:m.default.bool,fold:m.default.string,hintText:m.default.string,className:m.default.string,valueListClassName:m.default.string,valueClassName:m.default.string,valueTheme:m.default.oneOf(["green","gray"]),inputTheme:m.default.string,type:m.default.string,inputType:m.default.oneOf([I.single,I.multiple]),inputValue:m.default.oneOfType([m.default.string,m.default.number,m.default.array]),valueList:m.default.array,hideResult:m.default.bool,valueMode:m.default.oneOf(["below","inner"]),borderClassName:m.default.string},f.defaultProps={inputType:I.single,autoFocus:!1,hideResult:!1,valueTheme:"green",valueMode:"below"},d=p))||d)||d);t.default=k},function(e,t){e.exports={"text-field":"text-field_yH3XR3CB","inner-mode":"inner-mode_-3JfhcX9",active:"active_3Wqo-Sa8",disabled:"disabled_1di0Tgy6","value-gray":"value-gray_2NKmM-kS","value-wrap":"value-wrap_1iphTuMw",gray:"gray_xM_x4QaO",single:"single_1T8SZOWa",value:"value_3AzAEwEU",name:"name_aReFnwKy","close-icon":"close-icon_21EYbx1G",delete:"delete_3InR2brd","no-border":"no-border_8AlYfBOK","text-input":"text-input_UgmxK7Wg"}},function(e,t){e.exports={numberInput:"numberInput_3YOk",numberOutput:"numberOutput_30Hz",inProgress:"inProgress_2Ovu",succeeded:"succeeded_2eBR",failed:"failed_2FOf"}},function(e,t){e.exports={"text-auto":"text-auto_1nvGOyH8",candidates:"candidates_2P2S8HR1",active:"active_-EWVoI2B",expand:"expand_1nqDwyjv",hide:"hide_MUsp38d0"}},function(e,t){e.exports={create_new:"create_new_1A6u",create_new_tag:"create_new_tag_21LU",create_new_category:"create_new_category_3fjt"}},function(e,t){},function(e,t,n){"use strict";function r(){return"undefined"!=typeof window&&window.recaptchaOptions||{}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(738),o=n(739),s=n.n(o),i="onloadcallback",l=r();t.default=s()(a.a,function(){var e=r(),t=e.lang?"&hl="+e.lang:"";return"https://"+(e.useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+i+"&render=explicit"+t},{callbackName:i,globalName:"grecaptcha",removeOnMount:l.removeOnMount||!1,exposeFuncs:["getValue","getWidgetId","reset","execute"]})},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),l=n.n(i),u=n(2),c=n.n(u),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(e){function t(){a(this,t);var n=o(this,e.call(this));return n.state={},n.handleExpired=n.handleExpired.bind(n),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(n),n}return s(t,e),t.prototype.getValue=function(){return this.props.grecaptcha&&void 0!==this.state.widgetId?this.props.grecaptcha.getResponse(this.state.widgetId):null},t.prototype.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this.state.widgetId?this.state.widgetId:null},t.prototype.execute=function(){var e=this.props.grecaptcha,t=this.state.widgetId;if(e&&void 0!==t)return e.execute(t);this._executeRequested=!0},t.prototype.reset=function(){this.props.grecaptcha&&void 0!==this.state.widgetId&&this.props.grecaptcha.reset(this.state.widgetId)},t.prototype.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.props.onChange&&this.props.onChange(null)},t.prototype.explicitRender=function(e){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this.state.widgetId){var t=document.createElement("div"),n=this.props.grecaptcha.render(t,{sitekey:this.props.sitekey,callback:this.props.onChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,size:this.props.size,stoken:this.props.stoken,badge:this.props.badge});this.captcha.appendChild(t),this.setState({widgetId:n},e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this.state.widgetId&&(this._executeRequested=!1,this.execute())},t.prototype.componentDidMount=function(){this.explicitRender()},t.prototype.componentDidUpdate=function(){this.explicitRender()},t.prototype.componentWillUnmount=function(){if(void 0!==this.state.widgetId){for(;this.captcha.firstChild;)this.captcha.removeChild(this.captcha.firstChild);this.reset()}},t.prototype.handleRecaptchaRef=function(e){this.captcha=e},t.prototype.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.size,e.stoken,e.grecaptcha,e.badge,r(e,["sitekey","onChange","theme","type","tabindex","onExpired","size","stoken","grecaptcha","badge"]));return l.a.createElement("div",d({},t,{ref:this.handleRecaptchaRef}))},t}(l.a.Component);t.a=f,f.displayName="ReCAPTCHA",f.propTypes={sitekey:c.a.string.isRequired,onChange:c.a.func.isRequired,grecaptcha:c.a.object,theme:c.a.oneOf(["dark","light"]),type:c.a.oneOf(["image","audio"]),tabindex:c.a.number,onExpired:c.a.func,size:c.a.oneOf(["compact","normal","invisible"]),stoken:c.a.string,badge:c.a.oneOf(["bottomright","bottomleft","inline"])},f.defaultProps={theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n){n=n||{};var r=e.displayName||e.name||"Component",p=function(r){function c(){o(this,c);var e=s(this,r.call(this));return e.state={},e.__scriptURL="",e}return i(c,r),c.prototype.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+f++),this.__scriptLoaderID},c.prototype.setupScriptURL=function(){return this.__scriptURL="function"==typeof t?t():t,this.__scriptURL},c.prototype.getComponent=function(){return this.__childComponent},c.prototype.asyncScriptLoaderHandleLoad=function(e){this.setState(e,this.props.asyncScriptOnLoad)},c.prototype.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=d[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[n.callbackName]},c.prototype.componentDidMount=function(){var e=this,t=this.setupScriptURL(),r=this.asyncScriptLoaderGetScriptLoaderID(),a=n,o=a.globalName,s=a.callbackName;if(o&&void 0!==window[o]&&(d[t]={loaded:!0,observers:{}}),d[t]){var i=d[t];return i&&(i.loaded||i.errored)?void this.asyncScriptLoaderHandleLoad(i):void(i.observers[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var l={};l[r]=function(t){return e.asyncScriptLoaderHandleLoad(t)},d[t]={loaded:!1,observers:l};var u=document.createElement("script");u.src=t,u.async=!0;var c=function(e){if(d[t]){var n=d[t].observers;for(var r in n)e(n[r])&&delete n[r]}};s&&"undefined"!=typeof window&&(window[s]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),u.onload=function(){var e=d[t];e&&(e.loaded=!0,c(function(t){return!s&&(t(e),!0)}))},u.onerror=function(e){var n=d[t];n&&(n.errored=!0,c(function(e){return e(n),!0}))},u.onreadystatechange=function(){"loaded"===e.readyState&&window.setTimeout(function(){var e=d[t];e&&!0!==e.loaded&&u.onload()},0)},document.body.appendChild(u)},c.prototype.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===n.removeOnUnmount)for(var t=document.getElementsByTagName("script"),r=0;r<t.length;r+=1)t[r].src.indexOf(e)>-1&&t[r].parentNode&&t[r].parentNode.removeChild(t[r]);var a=d[e];a&&(delete a.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===n.removeOnUnmount&&delete d[e])},c.prototype.render=function(){var t=this,r=n.globalName,o=this.props,s=(o.asyncScriptOnLoad,a(o,["asyncScriptOnLoad"]));return r&&"undefined"!=typeof window&&(s[r]=void 0!==window[r]?window[r]:void 0),u.default.createElement(e,l({ref:function(e){t.__childComponent=e}},s))},c}(u.default.Component);return p.displayName="AsyncScriptLoader("+r+")",p.propTypes={asyncScriptOnLoad:c.default.func},n.exposeFuncs&&n.exposeFuncs.forEach(function(e){p.prototype[e]=function(){var t;return(t=this.getComponent())[e].apply(t,arguments)}}),p};var u=r(n(1)),c=r(n(2)),d={},f=0},function(e,t){e.exports={form:"form_1Ktp2_CE",section:"section_2XUaDtVQ",col:"col_3on8DwjU",fieldName:"fieldName_3HPjEdFq",error:"error_V1--9zRU","company-type":"company-type_2ZNy-Ycm",options:"options_3PcQXafa",option:"option_39xqVddr"}},function(e,t){e.exports={createCompany:"createCompany_16Hb",editBasic:"editBasic_mAch",companyName:"companyName_2zk-",companyName_hint:"companyName_hint_2lXY",location:"location_SSAk",location_hint:"location_hint_2izX",category:"category_76eb",category_hint:"category_hint_3s0i",scale:"scale_2kOf",scale_hint:"scale_hint_XePj",link:"link_VpRg",link_hint:"link_hint_3KTE",companyType:"companyType_lqHt",hire:"hire_I5rU",forHire:"forHire_3Czh",both:"both_111M",hint_hire:"hint_hire_3UFb",hint_forHire:"hint_forHire_2jpU",hint_both:"hint_both_Bml0",button_ok:"button_ok_1sG5",button_cancel:"button_cancel_3lIy",error_isWebsite:"error_isWebsite_2mr2",error_minLength2:"error_minLength2_V_dk",error_maxLength80:"error_maxLength80_38pQ",error_duplicate:"error_duplicate_2tLy",error_isRequired:"error_isRequired_2wdc",architecture:"architecture_1lbX",automotive:"automotive_2i4T",education:"education_31hX",film_ads:"film_ads_wEHc",gambling:"gambling_3hPr",medical:"medical_IlRD",gaming:"gaming_1TkP",gov_sim:"gov_sim_2SYA",research:"research_2ZuM",training:"training_2Eyg",others:"others_2RDN"}},,,function(e,t){e.exports={tooltips:"tooltips_24IzIgV9",tooltip:"tooltip_Gkd--Rni","tooltip-top":"tooltip-top_2zLfzSnj","tooltip-bottom":"tooltip-bottom_BDSINuNm","tooltip-bottom-left":"tooltip-bottom-left_1UqYyHrr","tooltip-left":"tooltip-left_3TnVgA9-","tooltip-right":"tooltip-right_1_wsdxEm","tooltip-error":"tooltip-error_2D-eEQRO","tooltip-success":"tooltip-success_1XMlRjFn","tooltip-warning":"tooltip-warning_3Lr7LPe3"}},function(e,t){e.exports={"dialog-contents":"dialog-contents_3sffEnR5","title-wrap":"title-wrap_2D9YpHW7","button-close":"button-close_1tmvWczv",error:"error_3PpPKBl8"}},function(e,t){e.exports={"content-wrap":"content-wrap_2I5l3h3y",delete:"delete_20zsineI",description:"description_jxPp1_PI","button-wrap":"button-wrap_2jwj_YrC","button-ok":"button-ok_t2XoE94U","button-cancel":"button-cancel_1V_1gtzJ","icon-wrapper":"icon-wrapper_3l_k80aa","icon-bg":"icon-bg_2vjku-sZ",icon:"icon_1c7Vqxo9","tfa-icon":"tfa-icon_hd7IoLiv"}},function(e,t){e.exports={title:"title_tiJZ",button_ok:"button_ok_2rj9",button_cancel:"button_cancel_1EAK",button_yes:"button_yes_3HJc",button_no:"button_no_2AdN"}},function(e,t){e.exports={"content-wrap":"content-wrap_31yIicnN",delete:"delete_ZXiRMOqb",description:"description_2YtemEIT","button-wrap":"button-wrap_1PMrHzD1","button-ok":"button-ok_1g3l_Woz","button-cancel":"button-cancel_1uHAq297","icon-wrapper":"icon-wrapper_3gz-RWzN","icon-bg":"icon-bg_ITbDAxU2",icon:"icon_1B3WIq-u","tfa-icon":"tfa-icon_16ViW0Jj"}},function(e,t){e.exports={title:"title_37L0",button_ok:"button_ok_39d4",button_cancel:"button_cancel_13cX",button_yes:"button_yes_2d5p",button_no:"button_no_2uTA",button_skip:"button_skip_2UA6"}},function(e,t){e.exports={backdrop:"backdrop_OPRp0qKR",popup:"popup_3ggsADWu",description:"description_2oA0vjrl",subDes:"subDes_y6pQyDBD","button-wrap":"button-wrap_doU_5guL","button-ok":"button-ok_2ReeEGod","button-cancel":"button-cancel_9sA7ESoh",hide:"hide_2pJgoLzH"}},function(e,t){e.exports={title:"title_2YFi",button_ok:"button_ok_23tV",button_cancel:"button_cancel_3JgG",button_yes:"button_yes_GWCS",button_no:"button_no_10re",delete_submission_by_self_title:"delete_submission_by_self_title_3BLg",delete_submission_by_self_text:"delete_submission_by_self_text_2iKh",delete_submission_by_admin_title:"delete_submission_by_admin_title_7LtZ",delete_project_by_self_title:"delete_project_by_self_title_3wdp",delete_project_by_self_text:"delete_project_by_self_text_1pyt"}},,,,,,,,,,function(e,t){e.exports={"message-wrap":"message-wrap_2KepLTrr",info2:"info2_3KiViq4l",fixed:"fixed_3wcuLTLC",message:"message_FGvdUVbA",error:"error_2eqSksD1",info:"info_2DVDLmmk",message_error:"message_error_1YYdIqd3"}},function(e,t){e.exports={validation_failed:"validation_failed_1Ll9",project_created:"project_created_bkNx",project_updated:"project_updated_ObTr",project_ContributorAlreadyExist:"project_ContributorAlreadyExist_1YlW",imgMinHeight_400:"imgMinHeight_400_3YgF",imgMaxSize_10M:"imgMaxSize_10M_1l_z",imgMaxSize_2G:"imgMaxSize_2G_GJ_Z",imgMaxLength_5:"imgMaxLength_5_1lyD",imgMaxLength_9:"imgMaxLength_9_15to",challengeMaxSize_1G:"challengeMaxSize_1G_LQ6c",adminMaxSize_2G:"adminMaxSize_2G_wrIP",userMaxSize_12M:"userMaxSize_12M_349g",userMaxSize_120M:"userMaxSize_120M_318G",cover_image_required:"cover_image_required_1kFH",webgl_thumbnail_required:"webgl_thumbnail_required_2FlI",https_required:"https_required_EjWB",file_type_invalid:"file_type_invalid_3PnU",asset_store_content_required:"asset_store_content_required_2U2N",project_hidden_or_removed:"project_hidden_or_removed_1H9U",message_too_long:"message_too_long_1ACS",image_type_error:"image_type_error_3G7s",no_contact:"no_contact_HNPL",file_type_error:"file_type_error_JiFQ",fileMaxLength_3:"fileMaxLength_3_77YT",projectMaxLength_3:"projectMaxLength_3_vgl1",tagName_too_long:"tagName_too_long_2ifr",project_required:"project_required_UYGq",be_a_lobby_request_sent:"be_a_lobby_request_sent_22J4",job_InvalidParameter_user_can_not_post_job_for_non_member_team:"job_InvalidParameter_user_can_not_post_job_for_non_member_team_fYwG",job_AdminApprovalNeeded_Admin_approval_needed:"job_AdminApprovalNeeded_Admin_approval_needed_3onL",job_NotAuthenticated_not_authenticated_error:"job_NotAuthenticated_not_authenticated_error_1iPk",project_:"project__3UXx",project_unsupported_url:"project_unsupported_url_80-t",project_InvalidParameter_forbidden_file_type:"project_InvalidParameter_forbidden_file_type_YRxs",project_InvalidParameter_not_video:"project_InvalidParameter_not_video_1zUj",project_InvalidParameter_height:"project_InvalidParameter_height_2Yrz",project_InvalidParameter_width:"project_InvalidParameter_width_18wI",project_InvalidParameter_title:"project_InvalidParameter_title_25xq",project_InvalidParameter_description:"project_InvalidParameter_description_10eR",project_embed_loading:"project_embed_loading_2U--",project_embed_duplicate:"project_embed_duplicate_1jYy",project_OwnerOnlyPublish:"project_OwnerOnlyPublish_1yPW",project_title_maxLength_135:"project_title_maxLength_135_3Csr",project_description_maxLength:"project_description_maxLength_1TyH",project_InvalidParameter_url:"project_InvalidParameter_url_1x2N",not_valid_email:"not_valid_email_3szp",should_select_user:"should_select_user_f0mI",genres_select_limit:"genres_select_limit_1FAw",project_tags_limit:"project_tags_limit_2xFI",project_UnsupportedTencentVideo_Unsupported_Tencent_Video:"project_UnsupportedTencentVideo_Unsupported_Tencent_Video_3a4Q",project_AdminApprovalNeeded_Admin_approval_needed:"project_AdminApprovalNeeded_Admin_approval_needed_3TPm",title:"title_1zzB",body:"body_joR1",description:"description_A25f",headerImage:"headerImage_2b7d",subTitle:"subTitle_1X67",contentImage:"contentImage_846w",project_fields_required:"project_fields_required_380k",project_publish_after_loaded_or_saved:"project_publish_after_loaded_or_saved_1YXm",praise_not_save:"praise_not_save_2cDU",upload_failed:"upload_failed_3lCt",profile_InvalidParameter_referenceUrls:"profile_InvalidParameter_referenceUrls_3oH7",project_InvalidParameter_coverContentId:"project_InvalidParameter_coverContentId_28q5",post_ThrottlingError_Throttling_Error_post_in_10s:"post_ThrottlingError_Throttling_Error_post_in_10s_Wah4",repost_validation_failed:"repost_validation_failed_3SzW",repost_succeeded:"repost_succeeded_1po8",post_deleted:"post_deleted_rjYC",post_can_not_be_empty:"post_can_not_be_empty_Hz8Z",certification_imported:"certification_imported_1mxA",settings_saved:"settings_saved_387o",profile_saved:"profile_saved_31Wg",group_can_not_delete:"group_can_not_delete_2ZsX",group_name_duplicate:"group_name_duplicate_3rc6",you_are_blocked:"you_are_blocked_20Hm",post_AuthorizationError_authorization_error:"post_AuthorizationError_authorization_error_1tsi",edit_visibility_success:"edit_visibility_success_29aN",error_when_fetch_channel_visibility:"error_when_fetch_channel_visibility_dl-V",job_share_to_self:"job_share_to_self_1l-b",job_share_InvalidParameter_jobId:"job_share_InvalidParameter_jobId_bWjW",job_share_InvalidParameter_receiver:"job_share_InvalidParameter_receiver_2Xla",job_share_empty_friends_list:"job_share_empty_friends_list_1WTf",job_share_jobId_invalid:"job_share_jobId_invalid_ckIp",group_GroupOwnerLeave:"group_GroupOwnerLeave_1b9h",add_featured_post_success:"add_featured_post_success_3N5H",remove_featured_post_success:"remove_featured_post_success_3Qd6",imgMaxWidth_800:"imgMaxWidth_800_2WLb",at_least_select_one:"at_least_select_one_3GYi",upload_record_succeed:"upload_record_succeed_G_kK",file_max_count:"file_max_count_3Dkj",ods_duplicate_online_question:"ods_duplicate_online_question_1sWF",ods_unpaid_session:"ods_unpaid_session_k55Y",ods_category_max_five:"ods_category_max_five_7N0H",ods_profile_price_tips:"ods_profile_price_tips_1qEs",ods_add_bi_error:"ods_add_bi_error_1WuL",ods_repay_again:"ods_repay_again_3Xmq",ods_re_create_order:"ods_re_create_order_173S",ods_under_saving:"ods_under_saving_1QkQ",ODSClientOfflineError:"ODSClientOfflineError_2vcK",project_InternalServerError_Wrap_non_AppError:"project_InternalServerError_Wrap_non_AppError_29Ec",fileMaxSize_10:"fileMaxSize_10_JbQT",fileMaxSize_200:"fileMaxSize_200_yNCm",fileMaxSize_100:"fileMaxSize_100_2HGt",support_insufficient_funds:"support_insufficient_funds_3HxC",support_ticket_resolved:"support_ticket_resolved_acfc",saved_successfully:"saved_successfully_3naT",saved_failed:"saved_failed_1_iH",deleted_successfully:"deleted_successfully_3oxW",deleted_failed:"deleted_failed_2f2c",recaptcha_error:"recaptcha_error_1ZbR",imgRatio_478_268:"imgRatio_478_268_9vKl",operation_successfully:"operation_successfully_2SS8"}},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),n=e.getSelection();if(!n.isCollapsed())return null;var r=n.getStartKey(),c=n.getStartOffset(),d=t.getBlockForKey(r).getText(),f=(0,s.default)(d),p=(0,i.default)(d),g=(0,l.default)(d,f),h=(0,u.default)(d,c,f),m=g.get(h.getLine()).slice(0,h.getOffset());if(!(0,o.default)(m,p))return null;var v=c-p.length,_=n.merge({focusKey:r,focusOffset:v,anchorKey:r,anchorOffset:c,isBackward:!0}),y=a.Modifier.removeRange(t,_,"backward"),b=a.EditorState.push(e,y,"remove-range");return a.EditorState.forceSelection(b,y.getSelectionAfter())};var a=n(10),o=r(n(767)),s=r(n(128)),i=r(n(476)),l=r(n(478)),u=r(n(479))},function(e,t,n){e.exports=n(8)(878)},function(e,t,n){e.exports=n(8)(877)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),n=e.getSelection(),r=n.getStartKey(),u=n.getStartOffset(),c=t.getBlockForKey(r).getText(),d=(0,o.default)(c),f=void 0;if(n.isCollapsed()){var p=(0,s.default)(c,d),g=(0,i.default)(c,u,d).getLine(),h=p.get(g),m=d+(0,l.default)(h);f=a.Modifier.insertText(t,n,m)}else f=a.Modifier.replaceText(t,n,d);var v=a.EditorState.push(e,f,"insert-characters");return a.EditorState.forceSelection(v,f.getSelectionAfter())};var a=n(10),o=r(n(128)),s=r(n(478)),i=r(n(479)),l=r(n(770))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e).indent||""};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(477))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.preventDefault();var n=t.getCurrentContent(),o=t.getSelection(),s=o.getStartKey(),i=n.getBlockForKey(s),l=(0,a.default)(i.getText()),u=void 0;return u=o.isCollapsed()?r.Modifier.insertText(n,o,l):r.Modifier.replaceText(n,o,l),r.EditorState.push(t,u,"insert-characters")};var r=n(10),a=function(e){return e&&e.__esModule?e:{default:e}}(n(476))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){for(var a=t;a<n;a++)e[a]=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=r(n(1)),f=r(n(2)),p=n(56),g=r(n(450)),h=r(n(773)),m=function(){function e(){s(this,e)}return c(e,[{key:"getDecorations",value:function(e){var t=new Array(e.getLength()).fill(null);if("code-block"!==e.getType())return(0,p.List)(t);var n=e.getText(),r=g.default.highlightAuto(n),a=0,o=[],s=new h.default;return s.on("open",function(e,t){if("span"===e){var n=t.class||"";o.push(n)}}),s.on("close",function(e){"span"===e&&o.pop()}),s.on("text",function(e){var n=o.join(" ");i(t,a,a+e.length,n),a+=e.length}),s.parse(r.value),(0,p.List)(t)}},{key:"getComponentForKey",value:function(){return v}},{key:"getPropsForKey",value:function(e){return{className:e}}}]),e}();t.default=m;var v=(u=l=function(e){function t(){return s(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,d.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return t.split(" ").reverse().reduce(function(e,t){return d.default.createElement("span",{className:t},e)},n)}}]),t}(),l.propTypes={className:f.default.string,children:f.default.any},u)},function(e,t,n){e.exports=n(8)(871)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=r.editorKey,g=r.placeholder,h=(n=t=function(t){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,c.default),i(n,[{key:"render",value:function(){var t=[];return this.props.children.forEach(function(e){var n=e.key;t.push(l.default.createElement(d.default,{key:"separator-"+n,blockKey:n})),g&&t.push(l.default.createElement(f.default,{key:"placeholder-"+n,editorKey:p,blockKey:n,text:g})),t.push(e)}),l.default.cloneElement(e,{children:t})}}]),n}(),t.propTypes={children:u.default.array},n);return l.default.createElement(h,null)};var l=r(n(1)),u=r(n(2)),c=r(n(3)),d=r(n(775)),f=r(n(777))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["project.dragOverBlockKey"],["project.dragOverBlockKey"]),h=i(["project.internalDrag"],["project.internalDrag"]),m=i(["project.dragStartBlockKey"],["project.dragStartBlockKey"]),v=i(["project.dragStartBlockAfterKey"],["project.dragStartBlockAfterKey"]),_=r(n(1)),y=r(n(2)),b=r(n(3)),S=n(5),w=n(0),E=n(10),O=r(n(4)),I=r(n(776)),k=(l=(0,S.decorator)({dragOverBlockKey:(0,w.state)(g),internalDrag:(0,w.state)(h),dragStartBlockKey:(0,w.state)(m),dragStartBlockAfterKey:(0,w.state)(v)}),u=(0,O.default)(I.default),l(c=u((f=d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,b.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.blockKey,n=e.dragOverBlockKey,r=e.internalDrag,a=e.dragStartBlockKey,o=e.dragStartBlockAfterKey,s=E.DraftOffsetKey.encode(t,0,0),i=_.default.createElement("div",{"data-offset-key":s});return t===n&&(!r||a&&n!==a&&n!==o)?_.default.createElement("div",{className:this.ss("dragover"),"data-offset-key":s}):i}}]),t}(),d.propTypes={blockKey:y.default.string.isRequired,dragOverBlockKey:y.default.string,internalDrag:y.default.bool,dragStartBlockKey:y.default.string,dragStartBlockAfterKey:y.default.string},c=f))||c)||c);t.default=k},function(e,t){e.exports={dragover:"dragover_a2WJypiR"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStates.",""],["draft.editorStates.",""]),h=i(["editorKey"],["editorKey"]),m=i(["draft.editorEditable.",""],["draft.editorEditable.",""]),v=r(n(1)),_=r(n(2)),y=r(n(3)),b=n(5),S=n(0),w=n(10),E=r(n(4)),O=r(n(778)),I=(l=(0,b.decorator)({editorState:(0,S.state)(g,(0,S.props)(h)),editable:(0,S.state)(m,(0,S.props)(h))}),u=(0,E.default)(O.default),l(c=u((f=d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,y.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.blockKey,r=e.editorState,a=e.editable,o=w.DraftOffsetKey.encode(n,0,0),s=v.default.createElement("div",{"data-offset-key":o});if(!r)return s;if(r.isInCompositionMode())return s;var i=r.getCurrentContent(),l=i.getBlocksAsArray().filter(function(e){if("atomic"===e.getType()){var t=!1;return e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&("SHOWCASEGALLERY"===i.getEntity(t).getType()||"GAMEGALLERY"===i.getEntity(t).getType()||"WEBGLGALLERY"===i.getEntity(t).getType())},function(){t=!0}),!t}return!0});if(1!==l.length||l[0].getLength()>0||l[0].getKey()!==n)return s;var u=r.getSelection().getHasFocus()&&a;return v.default.createElement("div",{className:this.ss("placeholder",u&&"has-focus"),"data-offset-key":o},t)}}]),t}(),d.propTypes={editorKey:_.default.string.isRequired,blockKey:_.default.string.isRequired,text:_.default.string.isRequired,editorState:_.default.object,editable:_.default.bool},c=f))||c)||c);t.default=I},function(e,t){e.exports={placeholder:"placeholder_2TYShexQ","has-focus":"has-focus_2EU6z7r3"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStates.",""],["draft.editorStates.",""]),h=i(["editorKey"],["editorKey"]),m=i(["project.sideToolbars.",""],["project.sideToolbars.",""]),v=i(["project.showSideToolbar"],["project.showSideToolbar"]),_=i(["project.hideSideToolbar"],["project.hideSideToolbar"]),y=i(["project.toggleSideToolbar"],["project.toggleSideToolbar"]),b=i(["project.closeSideToolbar"],["project.closeSideToolbar"]),S=r(n(1)),w=r(n(2)),E=r(n(3)),O=n(5),I=n(0),k=n(18),C=r(n(129)),T=n(10),j=r(n(780)),M=r(n(785)),P=r(n(786)),x=r(n(805)),A=r(n(4)),R=r(n(73)),D=(l=(0,O.decorator)({editorState:(0,I.state)(g,(0,I.props)(h)),sideToolbarState:(0,I.state)(m,(0,I.props)(h)),showSideToolbar:(0,I.signal)(v),hideSideToolbar:(0,I.signal)(_),toggleSideToolbar:(0,I.signal)(y),closeSideToolbar:(0,I.signal)(b)}),u=(0,A.default)(R.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClickOutside=function(){var e=r.props,t=e.editorKey;(0,e.closeSideToolbar)({editorKey:t})},r.onTogglePlus=function(){var e=r.props,t=e.editorKey;(0,e.toggleSideToolbar)({editorKey:t})},s=n,o(r,s)}return s(t,E.default),p(t,[{key:"componentDidMount",value:function(){this.removeClickOutside=(0,k.addClickOutside)([this],this.onClickOutside)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,n=e.editorState,r=e.hideSideToolbar,a=e.showSideToolbar,o=n.getSelection().getStartKey(),s=n.getCurrentContent().getBlockForKey(o);if("atomic"!==s.getType()){var i='[data-block="true"][data-editor="'+t+'"][data-offset-key="'+T.DraftOffsetKey.encode(s.getKey(),0,0)+'"]',l=document.querySelector(i);if(l){var u=l.getBoundingClientRect(),c=((0,C.default)(l.parentElement)||document.body).getBoundingClientRect(),d=u.top-c.top;a({editorKey:t,blockType:s.getType(),top:d})}}else r({editorKey:t})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this.props,t=e.sideToolbarState,n=e.editorKey,r=e.allowImage,a=e.allowVideo,o=e.allowAttachment,s=!!t,i=t&&t.blockType,l=t&&{top:t.top},u=t&&t.isOpen,c=!1===r&&!1===a&&!1===o;return S.default.createElement("div",{className:this.ss("side-toolbar",s&&"show",i),style:l},!c&&S.default.createElement("div",{className:this.ss("ifont","ifont-icons-add","plus",u&&"open"),onClick:this.onTogglePlus}),S.default.createElement(x.default,{editorKey:n}),S.default.createElement("div",{className:this.ss("menu-icons",u&&"open")},!1!==r&&S.default.createElement(j.default,{editorKey:n}),!1!==a&&S.default.createElement(M.default,{editorKey:n}),!1!==o&&S.default.createElement(P.default,{editorKey:n})))}}]),t}(),d.propTypes={editorKey:w.default.string.isRequired,editorState:w.default.object,sideToolbarState:w.default.object,allowImage:w.default.bool,allowVideo:w.default.bool,allowAttachment:w.default.bool,showSideToolbar:w.default.func,hideSideToolbar:w.default.func,toggleSideToolbar:w.default.func,closeSideToolbar:w.default.func},c=f))||c)||c);t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["draft.editorStates.",""],["draft.editorStates.",""]),m=i(["editorKey"],["editorKey"]),v=i(["header.showMessage"],["header.showMessage"]),_=i(["project.uploadAttachment"],["project.uploadAttachment"]),y=i(["draft.setEditorState"],["draft.setEditorState"]),b=r(n(1)),S=r(n(2)),w=r(n(3)),E=n(5),O=n(0),I=n(130),k=n(10),C=r(n(24)),T=r(n(4)),j=r(n(73)),M=r(n(6)),P=r(n(212)),x=9,A=(l=(0,E.decorator)({editorState:(0,O.state)(h,(0,O.props)(m)),showMessage:(0,O.signal)(v),uploadAttachment:(0,O.signal)(_),setEditorState:(0,O.signal)(y)}),u=(0,T.default)(j.default),c=(0,M.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClickUpload=function(){r.refs.imageSelect.click()},r.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,n=void 0===t?[]:t,a=r.props,o=a.showMessage,s=a.uploadAttachment,i=a.setEditorState,l=a.editorKey;n.length>x?o({message:"fileMaxLength_9"}):(0,I.readImages)(n).then(function(e){var t=a.editorState,n=t.getSelection().focusKey;e.forEach(function(e){t=(0,k.addAtomicBlockBefore)(t,n,"IMAGE",{uploadId:e.id}),s({upload:e})}),i({editorKey:l,editorState:t})}),r.refs.imageSelect.value=null}},s=n,o(r,s)}return s(t,w.default),g(t,[{key:"render",value:function(){var e=this.props.type;return b.default.createElement(C.default,{text:this.__("image_tooltip"),position:"bottom"},b.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},b.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),b.default.createElement("input",{type:"file",ref:"imageSelect",multiple:!0,accept:"image/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={type:S.default.string,editorKey:S.default.string.isRequired,editorState:S.default.object,showMessage:S.default.func,uploadAttachment:S.default.func,setEditorState:S.default.func},f.defaultProps={type:"photo"},d=p))||d)||d)||d);t.default=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=l(["header.setting.windowWidth"],["header.setting.windowWidth"]),_=l(["project.contentMap"],["project.contentMap"]),y=l(["project.uploads"],["project.uploads"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),S=l(["editorKey"],["editorKey"]),w=l(["draft.setEditorState"],["draft.setEditorState"]),E=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),O=l(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),I=l(["project.openContent"],["project.openContent"]),k=r(n(1)),C=r(n(2)),T=r(n(3)),j=n(5),M=n(0),P=n(7),x=n(10),A=r(n(15)),R=r(n(87)),D=r(n(24)),N=r(n(4)),L=r(n(783)),F=r(n(6)),U=r(n(784)),K=(u=(0,j.decorator)({windowWidth:(0,M.state)(v),contentMap:(0,M.state)(_),uploads:(0,M.state)(y),editorState:(0,M.state)(b,(0,M.props)(S)),setEditorState:(0,M.signal)(w),setEditorEditable:(0,M.signal)(E),retryUploadAttachment:(0,M.signal)(O),openContent:(0,M.signal)(I)}),c=(0,N.default)(L.default),d=(0,F.default)(U.default),u(f=c(f=d((g=p=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,T.default),m(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.props,a=r.renderOnly,o=r.focus,s=r.openContent;a?s({contentId:t,url:n}):o(e)}},{key:"checkUpload",value:function(){if(!this.props.renderOnly){var e=this.props,t=e.entityKey,n=e.uploads,r=e.contentMap,o=e.editorKey,s=e.editorState,i=e.setEditorState,l=s.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=a(u,["uploadId","contentId"]),p=c&&n[c];if(p&&p.contentId&&r&&r[p.contentId]&&!d){var g=(0,x.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:o,editorState:x.EditorState.set(s,{currentContent:g})}),this.__placeholderSrc=p.dataUrl}}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,n=void 0===t?0:t,r=e.total,a=100*n/(void 0===r?1:r);return k.default.createElement("div",{className:this.ss("loading-wrap")},k.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),k.default.createElement("div",{className:this.ss("loading-bar")},k.default.createElement("div",{className:this.ss("loading"),style:{width:a+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return k.default.createElement("div",{className:this.ss("loading-wrap")},k.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),k.default.createElement("button",{className:this.ss("loading-button"),onClick:function(n){return t.retry(n,e)}},k.default.createElement("span",{className:this.ss("content")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),k.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,n=e.offsetKey,r=e.editorKey,a=e.entityKey,o=e.renderOnly;return k.default.createElement(R.default,{parentEditorKey:r,parentIsFocused:t,parentOffsetKey:n,editorKey:r+":"+n,entityKey:a,renderOnly:o,placeholder:this.__("image_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFocused,r=t.focus,a=t.onDragStart,o=t.editorState,s=t.entityKey,i=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.windowWidth,d=o.getCurrentContent().getEntity(s).getData(),f=d.uploadId,p=d.contentId,g=d.url,h=void 0===g?"":g,m=p&&l[p],v=i[f],_=c?Math.min(c,1e3):1e3,y=void 0;if(m){var b=this.__placeholderSrc,S=m.originalImage,w=S.url,E=S.width,O=S.height,I=S.gif,C=E<_?{width:E,height:O,margin:"0 auto",display:"block"}:{};y=k.default.createElement("div",{className:this.ss("image-wrap","content")},k.default.createElement("div",{className:this.ss("image",n&&"focus"),style:C,onClick:function(t){return e.onImageClick(t,p,h)},draggable:!!a,onDragStart:a},k.default.createElement(A.default,{src:w,sizes:"1000px",placeholderSrc:b,width:E,height:O,gif:!!I})))}else if(v){var T=v.dataUrl,j=v.width,M=v.height,x=j<_?{width:j,height:M,margin:"0 auto",display:"block"}:{};y=k.default.createElement("div",{className:this.ss("image-wrap","upload",n&&"focus")},k.default.createElement("div",{className:this.ss("image"),style:x,onClick:r,draggable:!!a,onDragStart:a},k.default.createElement(A.default,{src:T,sizes:"1000px",width:j,height:M})),(0,P.isLoading)(v.status)&&this.renderLoading(v),(0,P.isFailed)(v.status)&&this.renderFailed(v))}return k.default.createElement("div",{className:this.ss("image-wrapper",u&&"render-only")},k.default.createElement(D.default,{text:h,position:"bottom",clickToHide:!1},y),this.renderCaption(m))}}]),t}(),p.propTypes={windowWidth:C.default.number,isFocused:C.default.bool,entityKey:C.default.string,renderOnly:C.default.bool,offsetKey:C.default.string,uploads:C.default.object,contentMap:C.default.object,editorKey:C.default.string.isRequired,editorState:C.default.object,focus:C.default.func,onDragStart:C.default.func,setEditorState:C.default.func,setEditorEditable:C.default.func,retryUploadAttachment:C.default.func,openContent:C.default.func},f=g))||f)||f)||f);t.default=K},function(e,t){e.exports={caption:"caption_2W6VtqEE",hide:"hide_3WsfRMnn"}},function(e,t){e.exports={"image-wrapper":"image-wrapper_3dqAwXWn","image-wrap":"image-wrap_2hIHVxg4",upload:"upload_1gep5Qhf",focus:"focus_2unaBO4d",content:"content_1Z6Qs-jN",image:"image_1z_exUwH",caption:"caption_3zflifMe","render-only":"render-only_ThD25orX","loading-wrap":"loading-wrap_lnoeRNnR","loading-text":"loading-text_1ecGCLG1","loading-bar":"loading-bar_2qIJLZhB",loading:"loading_1scOZSM2","loading-button":"loading-button_1AiyV8fx",retry:"retry_jHqyJ8cE",text:"text_2-ifxOy9"}},function(e,t){e.exports={image_uploading:"image_uploading_S4H2",image_uploading_failed:"image_uploading_failed_UaVA",image_uploading_retry:"image_uploading_retry_1RAt",image_caption_placeholder:"image_caption_placeholder_3uu3"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["draft.editorStates.",""],["draft.editorStates.",""]),m=i(["editorKey"],["editorKey"]),v=i(["project.openUploadVideo"],["project.openUploadVideo"]),_=r(n(1)),y=r(n(2)),b=r(n(3)),S=n(5),w=n(0),E=r(n(24)),O=r(n(4)),I=r(n(73)),k=r(n(6)),C=r(n(212)),T=(l=(0,S.decorator)({editorState:(0,w.state)(h,(0,w.props)(m)),openUploadVideo:(0,w.signal)(v)}),u=(0,O.default)(I.default),c=(0,k.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClickVideo=function(){var e=r.props.editorKey;r.props.openUploadVideo({editorKey:e})},s=n,o(r,s)}return s(t,b.default),g(t,[{key:"render",value:function(){var e=this.props.type;return _.default.createElement(E.default,{text:this.__("video_tooltip"),position:"bottom"},_.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickVideo},_.default.createElement("div",{className:this.ss("ifont","ifont-icons_embed","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openUploadVideo:y.default.func},f.defaultProps={type:"video"},d=p))||d)||d)||d);t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["draft.editorStates.",""],["draft.editorStates.",""]),m=i(["editorKey"],["editorKey"]),v=i(["loginUser"],["loginUser"]),_=i(["project.challengeId"],["project.challengeId"]),y=i(["header.showMessage"],["header.showMessage"]),b=i(["project.uploadAttachment"],["project.uploadAttachment"]),S=i(["draft.setEditorState"],["draft.setEditorState"]),w=r(n(1)),E=r(n(2)),O=r(n(3)),I=n(5),k=n(0),C=n(88),T=n(10),j=r(n(24)),M=r(n(4)),P=r(n(73)),x=r(n(6)),A=r(n(212)),R=9,D=1073741824,N=2147483648,L=125829120,F=(l=(0,I.decorator)({editorState:(0,k.state)(h,(0,k.props)(m)),loginUser:(0,k.state)(v),challengeId:(0,k.state)(_),showMessage:(0,k.signal)(y),uploadAttachmentMultipart:(0,k.signal)(b),setEditorState:(0,k.signal)(S)}),u=(0,M.default)(P.default),c=(0,x.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onClickUpload=function(){r.refs.fileSelect.click()},r.onFilesChange=function(e){var t=r.props,n=t.loginUser,a=t.challengeId,o=n&&n.isAdmin;if(e&&e.target){var s=(e.target||{}).files,i=void 0===s?[]:s,l=r.props,u=l.showMessage,c=l.uploadAttachmentMultipart,d=l.setEditorState,f=l.editorKey,p=(0,C.getFiles)(i),g=L,h="userMaxSize_120M";o?(g=N,h="adminMaxSize_2G"):""!==a&&(g=D,h="challengeMaxSize_1G");var m=!1;if(p.forEach(function(e){e.file.size>g&&(m=!0)}),m)u({message:h});else if(i.length>R)u({message:"fileMaxLength_9"});else{var v=0!==p.length,_=r.props.editorState,y=_.getSelection().focusKey;p.forEach(function(e){_=(0,T.addAtomicBlockBefore)(_,y,"ATTACHMENT",{uploadId:e.id}),c({upload:e})}),v&&d({editorKey:f,editorState:_})}r.refs.fileSelect.value=null}},s=n,o(r,s)}return s(t,O.default),g(t,[{key:"render",value:function(){var e=this.props.type;return w.default.createElement(j.default,{text:this.__("attachment_tooltip"),position:"bottom"},w.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},w.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),w.default.createElement("input",{type:"file",ref:"fileSelect",multiple:!0,accept:"*/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={loginUser:E.default.object,challengeId:E.default.string,type:E.default.string,editorKey:E.default.string.isRequired,editorState:E.default.object,showMessage:E.default.func,uploadAttachmentMultipart:E.default.func,setEditorState:E.default.func},f.defaultProps={type:"upload"},d=p))||d)||d)||d);t.default=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=l(["loginUser"],["loginUser"]),_=l(["project.uploads"],["project.uploads"]),y=l(["project.challengeId"],["project.challengeId"]),b=l(["project.submission"],["project.submission"]),S=l(["project.userCanDownload"],["project.userCanDownload"]),w=l(["project.contentMap"],["project.contentMap"]),E=l(["draft.editorStates.",""],["draft.editorStates.",""]),O=l(["editorKey"],["editorKey"]),I=l(["header.loginTo"],["header.loginTo"]),k=l(["draft.setEditorState"],["draft.setEditorState"]),C=l(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),T=l(["project.continueUploadAttachmentMultipart"],["project.continueUploadAttachmentMultipart"]),j=l(["project.downloadContent"],["project.downloadContent"]),M=l(["project.downloadDraftContent"],["project.downloadDraftContent"]),P=l(["project.switchContentVisibility"],["project.switchContentVisibility"]),x=r(n(1)),A=r(n(2)),R=r(n(3)),D=n(5),N=n(0),L=n(7),F=n(11),U=n(10),K=r(n(213)),B=r(n(24)),z=r(n(15)),q=r(n(87)),V=r(n(13)),H=r(n(214)),W=r(n(4)),G=r(n(802)),$=r(n(6)),Y=r(n(803)),J=["video/mp4"],Q=n(804),X=(u=(0,D.decorator)({loginUser:(0,N.state)(v),uploads:(0,N.state)(_),challengeId:(0,N.state)(y),submission:(0,N.state)(b),userCanDownload:(0,N.state)(S),contentMap:(0,N.state)(w),editorState:(0,N.state)(E,(0,N.props)(O)),loginTo:(0,N.signal)(I),setEditorState:(0,N.signal)(k),retryUploadAttachment:(0,N.signal)(C),continueUploadAttachmentMultipart:(0,N.signal)(T),downloadContent:(0,N.signal)(j),downloadDraftContent:(0,N.signal)(M),switchContentVisibility:(0,N.signal)(P)}),c=(0,W.default)(G.default),d=(0,$.default)(Y.default),u(f=c(f=d((g=p=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,R.default),m(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onDownload",value:function(e){var t=e.id,n=this.props,r=n.downloadContent,a=n.downloadDraftContent;n.renderOnly?r&&r({id:t}):a&&a({id:t})}},{key:"onAttachmentClick",value:function(e){var t=this.props,n=t.renderOnly,r=t.focus;n||r(e)}},{key:"onSwitchLock",value:function(e){var t=e.id;(0,this.props.switchContentVisibility)({id:t})}},{key:"checkUpload",value:function(){var e=this.props,t=e.entityKey,n=e.uploads,r=e.contentMap,o=e.editorKey,s=e.editorState,i=e.setEditorState,l=s.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=a(u,["uploadId","contentId"]),p=c&&n[c];if(p&&p.contentId&&r&&r[p.contentId]&&!d){var g=(0,U.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:o,editorState:U.EditorState.set(s,{currentContent:g})})}}},{key:"retry",value:function(e,t){e.preventDefault();var n=this.props,r=n.retryUploadAttachment,a=n.continueUploadAttachmentMultipart;t.uploadId&&""!==t.uploadId?a(t):r(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,n=void 0===t?0:t,r=e.total,a=100*n/(void 0===r?1:r);return x.default.createElement("div",{className:this.ss("loading"),style:{width:a+"%"}})}},{key:"renderFailed",value:function(e){var t=this;return x.default.createElement("div",{className:this.ss("loading-failed")},x.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),x.default.createElement("button",{className:this.ss("loading-button"),onClick:function(n){return t.retry(n,e)}},x.default.createElement("span",{className:this.ss("content")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),x.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,n=e.offsetKey,r=e.editorKey,a=e.entityKey,o=e.renderOnly;return x.default.createElement(q.default,{parentEditorKey:r,parentIsFocused:t,parentOffsetKey:n,editorKey:r+":"+n,entityKey:a,renderOnly:o,placeholder:this.__("player_caption_placeholder")})}},{key:"renderPlayer",value:function(e){var t=this,n=this.props,r=n.isFocused,a=n.onDragStart,o=n.renderOnly,s=n.challengeId,i=n.submission,l=n.loginUser,u=n.loginTo,c=e||{},d=c.downloadUrl,f="btn_tip_public",p="ifont-icons_lockon";c.isPrivate||(f="btn_tip_private",p="ifont-icons_lockoff");var g=null;!o&&""!==s&&i&&(g=x.default.createElement(B.default,{text:this.__(f),position:"top",className:this.ss("lock_tooltip")},x.default.createElement("button",{className:this.ss("lock","ifont",p),onClick:function(){return t.onSwitchLock(e)}})));var h=x.default.createElement("div",{className:this.ss("footer")},x.default.createElement("div",{className:this.ss("caption")},this.renderCaption()),x.default.createElement("div",{className:this.ss("buttons")},g)),m=x.default.createElement("div",{className:this.ss("login-btn-mask")},x.default.createElement("div",{className:this.ss("login-icon","ifont","ifont-material-baseline-account_circle")}),x.default.createElement(V.default,{className:this.ss("button"),label:this.__("login_to_watch"),theme:"primary-blue",onClick:function(){return u()}}));return x.default.createElement("div",{className:this.ss("attachment-media",r&&"selected",o&&"render-only"),onClick:function(e){return t.onAttachmentClick(e)},draggable:!!a,onDragStart:a},x.default.createElement("div",{className:this.ss("player")},!l&&m,x.default.createElement(K.default,{src:d,size:"auto",width:1e3,height:560,directPlay:!0,progress:!0})),h)}},{key:"renderPrivatePlayer",value:function(){var e=this.props,t=e.loginUser,n=e.loginTo;return x.default.createElement("div",{className:this.ss("private-player")},x.default.createElement("div",{className:this.ss("player-wrap",!t&&"no-login"),onClick:function(){return!t&&n()}},x.default.createElement("div",{className:this.ss("player-img")},x.default.createElement(z.default,{src:Q,sizes:"160px",width:160,height:133})),x.default.createElement("span",null,this.__(t?"label_private_player":"label_private_player_no_login"))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFocused,r=t.focus,a=t.onDragStart,o=t.editorState,s=t.entityKey,i=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.offsetKey,d=t.editorKey,f=t.challengeId,p=t.userCanDownload,g=t.submission,h=o.getCurrentContent().getEntity(s).getData(),m=h.uploadId,v=h.contentId,_=v&&l[v],y=i[m];if(_){var b=_.title,S=_.size,w=_.contentType,E=_.isPrivate;if(_.oembed)return x.default.createElement(H.default,{isFocused:n,entityKey:s,renderOnly:u,offsetKey:c,editorKey:d,focus:r,onDragStart:a});if(-1!==J.indexOf(w))return!p&&E&&u?this.renderPrivatePlayer(_):this.renderPlayer(_);var O=x.default.createElement("button",{className:this.ss("download","ifont","ifont-icons_download_cloud"),onClick:function(){return e.onDownload(_)}}),I=null;if(!u&&""!==f&&g){var k="btn_tip_public",C="ifont-icons_lockon";E||(k="btn_tip_private",C="ifont-icons_lockoff"),I=x.default.createElement(B.default,{text:this.__(k),position:"top",className:this.ss("lock_tooltip")},x.default.createElement("button",{className:this.ss("lock","ifont",C),onClick:function(){return e.onSwitchLock(_)}}))}return u&&""!==f&&(E&&(I=x.default.createElement("i",{className:this.ss("lock","nonpointer","ifont","ifont-icons_lockon")})),E&&!p&&(O=null)),x.default.createElement("div",{className:this.ss("attachment",n&&"selected",u&&"render-only"),onClick:function(t){return e.onAttachmentClick(t)},draggable:!!a,onDragStart:a},x.default.createElement("div",{className:this.ss("empty")}),x.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),x.default.createElement("div",{className:this.ss("content-body")},x.default.createElement("div",{className:this.ss("title")},b),x.default.createElement("div",{className:this.ss("size")},(0,F.formatSize)(S))),I,O)}if(y){var T=y.filename,j=y.fileSize,M=y.status;return x.default.createElement("div",{className:this.ss("attachment",!(0,L.isLoading)(M)&&n&&"selected"),onClick:r,draggable:!!a,onDragStart:a},x.default.createElement("div",{className:this.ss("empty")}),x.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),x.default.createElement("div",{className:this.ss("content-body")},x.default.createElement("div",{className:this.ss("title")},T),x.default.createElement("div",{className:this.ss("size")},(0,F.formatSize)(j))),(0,L.isFailed)(M)&&this.renderFailed(y),(0,L.isLoading)(M)&&this.renderLoading(y))}return null}}]),t}(),p.propTypes={loginUser:A.default.object,isFocused:A.default.bool,entityKey:A.default.string,offsetKey:A.default.string,renderOnly:A.default.bool,challengeId:A.default.string,userCanDownload:A.default.bool,submission:A.default.object,uploads:A.default.object,contentMap:A.default.object,editorKey:A.default.string,editorState:A.default.object,loginTo:A.default.func,focus:A.default.func,onDragStart:A.default.func,setEditorState:A.default.func,retryUploadAttachment:A.default.func,continueUploadAttachmentMultipart:A.default.func,downloadContent:A.default.func,downloadDraftContent:A.default.func,switchContentVisibility:A.default.func},f=g))||f)||f)||f);t.default=X},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=r(n(3)),g=r(n(1)),h=r(n(12)),m=r(n(789)),v=r(n(2)),_=r(n(4)),y=r(n(790)),b=["application/x-mpegURL","application/vnd.apple.mpegURL"],S=(i=(0,_.default)(y.default))((c=u=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={muted:!1,loading:!0},r.reloadTimeout=null,r.hls=null,s=n,o(r,s)}return s(t,p.default),f(t,[{key:"componentDidMount",value:function(){var e=h.default.findDOMNode(this.refs.video),t=!1;if(m.default.isSupported()&&!this.props.directPlay){var n=this.props.src;this.hls=new m.default,this.hls.loadSource(n),this.hls.attachMedia(e),this.bindEvents(this.hls)}else e.canPlayType&&(t=b.reduce(function(t,n){return t||/probably|maybe/.test(e.canPlayType(n))},!1));if(this.props.onInitialized){var r=this.refs.video.volume,a=this.state.loading;this.props.onInitialized({volume:r,loading:a,mseSupported:m.default.isSupported(),m3u8Supported:t})}}},{key:"componentDidUpdate",value:function(e){var t=e.src,n=this.props,r=n.src,a=n.directPlay;r!==t&&m.default.isSupported()&&!a&&(this.reloadTimeout&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=null),this.reload(r))}},{key:"componentWillUnmount",value:function(){m.default.isSupported()&&this.hls&&!this.props.directPlay&&(this.reloadTimeout&&(clearTimeout(this.reloadTimeout),this.reloadTimeout=null),this.hls.destroy())}},{key:"onPlay",value:function(){if(this.props.onPlay){var e;(e=this.props).onPlay.apply(e,arguments)}}},{key:"onPlaying",value:function(){if(this.props.onPlaying){var e;(e=this.props).onPlaying.apply(e,arguments)}}},{key:"onEnded",value:function(){if(this.props.onEnded){var e;(e=this.props).onEnded.apply(e,arguments)}}},{key:"onPause",value:function(){if(this.props.onPause){var e;(e=this.props).onPause.apply(e,arguments)}}},{key:"onVolumeChange",value:function(){if(this.props.onVolumeChange){var e;(e=this.props).onVolumeChange.apply(e,arguments)}}},{key:"onDurationChange",value:function(){this.props.onDurationChange&&this.props.onDurationChange(this.refs.video.duration)}},{key:"onMutedChange",value:function(e){this.props.onMutedChange&&this.props.onMutedChange(e)}},{key:"onLoadingChange",value:function(e){this.props.onLoadingChange&&this.props.onLoadingChange(e)}},{key:"onTimeUpdate",value:function(){this.props.onTimeUpdate&&this.props.onTimeUpdate(this.refs.video.currentTime)}},{key:"onProgress",value:function(){if(this.props.onProgress){for(var e=[],t=0;t<this.refs.video.buffered.length;t++)e.push({start:this.refs.video.buffered.start(t),end:this.refs.video.buffered.end(t)});this.props.onProgress(e)}}},{key:"changeLoading",value:function(e){this.setState({loading:e}),this.onLoadingChange(e)}},{key:"reload",value:function(e){if(this.changeLoading(!0),m.default.isSupported()&&!this.props.directPlay){var t=h.default.findDOMNode(this.refs.video);this.hls.destroy(),this.hls=new m.default,this.hls.attachMedia(t),this.bindEvents(this.hls),this.hls.loadSource(e)}}},{key:"seekTo",value:function(e){this.refs.video.currentTime=e}},{key:"bindEvents",value:function(e){var t=this;e.on(m.default.Events.MANIFEST_PARSED,function(){t.changeLoading(!1),h.default.findDOMNode(t.refs.video).play()}),e.on(m.default.Events.ERROR,function(e,n){var r=n.type,a=n.details,o=n.response,s=(void 0===o?{}:o).code;switch(r){case m.default.ErrorTypes.NETWORK_ERROR:switch(a){case m.default.ErrorDetails.MANIFEST_LOAD_ERROR:s&&403===s?t.props.onHardReloadNeeded&&(t.reloadTimeout=setTimeout(function(){t.reloadTimeout=null,t.props.onHardReloadNeeded()},1e4)):t.reloadTimeout=setTimeout(function(){t.reloadTimeout=null,t.reload(t.props.src)},1e4);break;case m.default.ErrorDetails.LEVEL_LOAD_ERROR:t.reload(t.props.src)}}})}},{key:"pause",value:function(){this.refs.video.pause()}},{key:"play",value:function(){this.refs.video.play()}},{key:"load",value:function(){this.refs.video.load()}},{key:"unmute",value:function(){this.setState({muted:!1}),this.onMutedChange(!1)}},{key:"mute",value:function(){this.setState({muted:!0}),this.onMutedChange(!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.src,a=t.directPlay,o=t.controls,s=t.preload,i=t.playsInline,l=this.state.muted,u={};return m.default.isSupported()&&!a||(u.src=r),o&&(u.controls=o),s&&(u.preload=s),i&&(u.playsInline=!0),g.default.createElement("video",d({ref:"video",height:"100%",muted:l,className:this.ss(n,"video"),onPlay:function(){return e.onPlay.apply(e,arguments)},onPlaying:function(){return e.onPlaying.apply(e,arguments)},onEnded:function(){return e.onEnded.apply(e,arguments)},onPause:function(){return e.onPause.apply(e,arguments)},onVolumeChange:function(){return e.onVolumeChange.apply(e,arguments)},onDurationChange:function(){return e.onDurationChange()},onTimeUpdate:function(){return e.onTimeUpdate()},onProgress:function(){return e.onProgress()}},u))}},{key:"volume",get:function(){return this.refs.video.volume},set:function(e){this.refs.video.volume=Math.max(Math.min(e,1),0)}},{key:"loading",get:function(){return this.state.loading}},{key:"seekable",get:function(){for(var e=this.refs.video.seekable,t=0,n=0;n<e.length;n++)t+=e.end(n)-e.start(n);return t>0}}]),t}(),u.propTypes={src:v.default.string,className:v.default.string,directPlay:v.default.bool.isRequired,controls:v.default.string,preload:v.default.string,playsInline:v.default.bool,onPlay:v.default.func,onPlaying:v.default.func,onEnded:v.default.func,onPause:v.default.func,onVolumeChange:v.default.func,onMutedChange:v.default.func,onInitialized:v.default.func,onLoadingChange:v.default.func,onHardReloadNeeded:v.default.func,onDurationChange:v.default.func,onTimeUpdate:v.default.func,onProgress:v.default.func},l=c))||l;t.default=S},function(e,t,n){e.exports=n(8)(1013)},function(e,t){e.exports={video:"video_3Pdt9-4t"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,g,h,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=r(n(1)),y=r(n(3)),b=r(n(12)),S=r(n(2)),w=n(451),E=r(n(4)),O=r(n(792)),I=(l=(0,E.default)(O.default))((d=c=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={items:{},keyCursor:0},r.pipeId=0,r.queue=[],r.lines={},a=n,s(r,a)}return i(t,y.default),v(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.requestUniqueKey;this.pipeId=(0,w.registerPipe)(t(),function(t,n){return e.send(t,n)})}},{key:"componentWillUnmount",value:function(){if(this.pipeId){var e=this.props.requestUniqueKey;(0,w.withdrawPipe)(e(),this.pipeId)}}},{key:"getNextLine",value:function(){for(var e=0;this.lines[e];)e++;return this.lines[e]=!0,e}},{key:"send",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b.default.findDOMNode(this).parentNode.getBoundingClientRect().height/28-2,r=!0,o=0;o<n;o++)this.lines[o]||(r=!1);var s=this.state,i=s.items,l=s.keyCursor;r?this.queue.push({item:e,options:t}):this.setState({items:m({},i,a({},l,e)),keyCursor:l+1})}},{key:"releaseLine",value:function(e){if(this.lines[e]=!1,0!==this.queue.length){var t=this.queue.shift(),n=t.item,r=t.options;this.send(n,r)}}},{key:"destroyItem",value:function(e){var t=this.state.items;delete t[e],this.setState({items:t})}},{key:"render",value:function(){var e=this,t=this.state.items;return _.default.createElement("div",{className:this.ss("barrage-box")},Object.keys(t).map(function(n){return _.default.createElement(k,{key:n,renderBarrage:e.props.renderBarrage,value:t[n],onReleaseLine:function(t){return e.releaseLine(t)},onRequestLine:function(){return e.getNextLine()},onDestroy:function(){return e.destroyItem(n)}})}))}}]),t}(),c.propTypes={renderBarrage:S.default.func.isRequired,requestUniqueKey:S.default.func.isRequired},u=d))||u;t.default=I;var k=(f=(0,E.default)(O.default))((h=g=function(e){function t(){var e,n,r,a;o(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={animated:!1,transitionSet:!1,width:null,boxWidth:null},r.lineFreeCalled=!1,r.line=0,a=n,s(r,a)}return i(t,y.default),v(t,[{key:"componentDidMount",value:function(){var e=b.default.findDOMNode(this),t=e.getBoundingClientRect().width,n=e.parentNode.getBoundingClientRect().width;this.line=this.props.onRequestLine(),this.register(t,n)}},{key:"register",value:function(e,t){this.setState({width:e,boxWidth:t}),this.startAnimation()}},{key:"startAnimation",value:function(){var e=this;setTimeout(function(){e.setState({animated:!0})})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.onDestroy,r=e.renderBarrage;return _.default.createElement("div",{className:this.ss("barrage-item"),style:this.style,onTransitionEnd:function(){return n()}},r(t))}},{key:"style",get:function(){var e=this,t=this.state,n=t.width,r=t.boxWidth,a=this.props.onReleaseLine,o={transition:"left 12000ms linear",height:28,top:28*this.line};return n?(o.left="-"+(n/r*100+1)+"%",this.lineFreeCalled||(this.lineFreeCalled=!0,setTimeout(function(){return a(e.line)},n/(n+r)*12e3+800))):o.left="100%",o}}]),t}(),g.propTypes={value:S.default.any,renderBarrage:S.default.func.isRequired,onReleaseLine:S.default.func.isRequired,onRequestLine:S.default.func.isRequired,onDestroy:S.default.func.isRequired},p=h))||p},function(e,t){e.exports={"barrage-box":"barrage-box_1EINnQ0Z","barrage-item":"barrage-item_1Juxo5Q8"}},function(e,t){e.exports={switch:"switch_3LSWzEmT",blue:"blue_3MY5s__x",switchContent:"switchContent_15ZQhkhs",checked:"checked_go6jpT8O",medium:"medium_2ppmumlC",inner:"inner_2HgR_EWN",small:"small_viXnvpWP",rcSwitchOff:"rcSwitchOff_k2j8y_3N",rcSwitchOn:"rcSwitchOn_3IpaO-Ls",disabled:"disabled_1qkZagg2",none:"none_2a8RmF5p"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return("0"+e).slice(-2)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=r(n(1)),g=r(n(3)),h=r(n(12)),m=r(n(2)),v=r(n(4)),_=r(n(795)),y=(l=(0,v.default)(_.default))((d=c=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={virtualPlayed:null,showKnobTip:!1},r.adjustProgressEntry=function(){r.setState({virtualPlayed:r.props.played});var e=h.default.findDOMNode(r).getBoundingClientRect().width,t=function(t){var n=r.state.virtualPlayed,a=r.props.duration,o=n+t.movementX/e*a;o=Math.min(a,Math.max(0,o)),r.setState({virtualPlayed:o})};window.addEventListener("mouseup",function e(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",e),r.props.onChange(r.state.virtualPlayed),r.setState({virtualPlayed:null})}),window.addEventListener("mousemove",t)},s=n,o(r,s)}return s(t,g.default),f(t,[{key:"onProgressClick",value:function(e){var t=this.props,n=t.duration,r=t.onChange;if(t.seekable){var a=h.default.findDOMNode(this).getBoundingClientRect(),o=a.left,s=a.width,i=e.clientX-o;i=Math.max(0,i),r((i=Math.min(s,i))/s*n)}}},{key:"renderLoaded",value:function(){var e=this,t=this.props,n=t.loaded,r=void 0===n?[]:n,a=t.duration;return r.map(function(t,n){var r=t.start,o=t.end;return p.default.createElement("div",{key:n,className:e.ss("loaded"),style:{left:r/a*100+"%",width:(o-r)/a*100+"%"}})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.played,r=t.duration,a=t.seekable,o=this.state,s=o.virtualPlayed,l=o.showKnobTip,u=s||n,c=void 0,d=this.duration(u,"s");return c=d.hours()?i(d.hours())+":"+i(d.minutes())+":"+i(d.seconds()):i(d.minutes())+":"+i(d.seconds()),p.default.createElement("div",{className:this.ss("progress",a&&"seekable"),onMouseDown:function(t){return e.onProgressClick(t)}},p.default.createElement("div",{className:this.ss("played"),style:{width:n/r*100+"%"}}),this.renderLoaded(),a&&p.default.createElement("div",{className:this.ss("knob"),style:{left:"calc("+u/r*100+"% - 5px)"},onMouseDown:this.adjustProgressEntry,onMouseEnter:function(){return e.setState({showKnobTip:!0})},onMouseLeave:function(){return e.setState({showKnobTip:!1})}},p.default.createElement("div",{className:this.ss("knob-tip-box",(s||l)&&"show")},p.default.createElement("div",{className:this.ss("knob-tip")},c))))}}]),t}(),c.propTypes={loaded:m.default.array,played:m.default.number,duration:m.default.number,seekable:m.default.bool,onChange:m.default.func},u=d))||u;t.default=y},function(e,t){e.exports={progress:"progress_2nr9H-v9",seekable:"seekable_20qznWuC",played:"played_30HmIueD",loaded:"loaded_11kNGWso",knob:"knob_33kBdZvq","knob-tip-box":"knob-tip-box_1s8bh_FI",show:"show_1-pMfu8Z","knob-tip":"knob-tip_rUJ6sqjN"}},function(e,t){e.exports={player:"player_1iu5jvOO",hover:"hover_1uiqdibz",controls:"controls_1wKCwlLp",idle:"idle_12Alv2ur",small:"small_9r6Gz_sv","video-wrap":"video-wrap_3OkltpRr",auto:"auto_12BKwZbM","video-idle":"video-idle_2IM6P156","controls-left":"controls-left_21dzqEqq","controls-right":"controls-right_2eAZ6mQ6","play-btn":"play-btn_2OKqMNtE","sound-btn":"sound-btn_1w2CByIe","refresh-btn":"refresh-btn_1E4YmQqp","fullscreen-btn":"fullscreen-btn_p3CGZnHl","cancel-fullscreen-btn":"cancel-fullscreen-btn_1i5Ikx7x","pause-btn":"pause-btn_28_T4j2V","mute-btn":"mute-btn_3ApXHqPw","volume-tier":"volume-tier_3ysymlA8","volume-bar":"volume-bar_2Yqw8ek9","volume-bar-value":"volume-bar-value_eP096ZlM","volume-knob":"volume-knob_2Usb5MxA","video-full-screen":"video-full-screen_14rJy7xR","volume-bar-wrap":"volume-bar-wrap_1Hzeyg3U",loading:"loading_1NTKuVh2","loading-circle":"loading-circle_3rRC2Za0",unsupported:"unsupported_DPUHbJIT","video-small":"video-small_1Ek42bMo","full-screen":"full-screen_342Axm29","video-wrap-full-screen":"video-wrap-full-screen_2cs5wP9W","barrage-ctrl":"barrage-ctrl_1xm1hBM9","barrage-ctrl-text":"barrage-ctrl-text_2raseCGs"}},function(e,t){e.exports={player_unsupported:"player_unsupported_2qX2",barrage:"barrage_R8WN"}},function(e,t){e.exports={"asset-wrap":"asset-wrap_gIy7Yh0u",gallery:"gallery_1E773NuT","asset-info":"asset-info_3nH0OFuG","asset-button":"asset-button_2-vRmiAb","asset-publisher":"asset-publisher_1J0yrHU5","asset-name":"asset-name_1plVq4xv","asset-price-wrap":"asset-price-wrap_1C6wH4vP","asset-price-origin":"asset-price-origin_1l14i0-L","asset-price-final":"asset-price-final_1sbJcnxN","asset-sale":"asset-sale_3Il29iv3","asset-sale-icon":"asset-sale-icon_3WAWFVpQ","asset-sale-text":"asset-sale-text_3gF3f-9m"}},function(e,t){e.exports={asset_price:"asset_price_1uys",asset_free:"asset_free_3dnq",button_buy:"button_buy_2Rjc",tag_sale:"tag_sale_12tE"}},function(e,t){e.exports={"video-container":"video-container_3ifzArEu","render-only":"render-only_35OX1Xy5","video-wrap":"video-wrap_D2B7z4fH",focus:"focus_3pFAAt6I","mark-wrap":"mark-wrap_E_dKdxeH","iframe-wrap":"iframe-wrap_26tmEn6c","video-icon-wrap":"video-icon-wrap_sU8Dd6bT",icon:"icon_1e9OhqfQ","image-wrap":"image-wrap_XAw6AWyK",image:"image_302XTHL0","edit-row":"edit-row_ks7Y0Dck","visibility-setting":"visibility-setting_3P73YYaO","visibility-setting-text":"visibility-setting-text_1JBKT3OK","setting-icon":"setting-icon_3Lrm-8qx"}},function(e,t){e.exports={video_caption_placeholder:"video_caption_placeholder_1ix1",visibility_setting:"visibility_setting_1U_g"}},function(e,t){e.exports={empty:"empty_2eKyqO6F","file-icon":"file-icon_3oIaJf_X","content-body":"content-body_3zrbOgw2",title:"title_14h_QzN6",size:"size_1chxozsp",download:"download_2F3al03N",lock:"lock_2cj7aBHr",nonpointer:"nonpointer_1MiRsCai",attachment:"attachment_bsCLeF7M",selected:"selected_1S9rZ3wx","render-only":"render-only_2oPTuX5j","attachment-media":"attachment-media_DuUJp3tr",player:"player_2LhddHhR","private-player":"private-player_1bM8brqm","player-wrap":"player-wrap_1fiKuib_","no-login":"no-login_tXoIkjCp","player-img":"player-img_2L0dDR1a",footer:"footer_1K2bRB0f",caption:"caption_2eoLQLp4",buttons:"buttons_1droTT7Z","loading-failed":"loading-failed_HR9aGYmz","loading-text":"loading-text_MIaJhh3d","loading-button":"loading-button_2ZV6fhKl",content:"content_3Bcprdlc",retry:"retry_2mGUg8mF",text:"text_3i0KGVld",loading:"loading_1pSOV3ZU","login-btn-mask":"login-btn-mask_s4iUwpvj",button:"button_2Ho7ZLA0","login-icon":"login-icon_1_pSCKiL"}},function(e,t){e.exports={file_uploading_failed:"file_uploading_failed_2-vE",file_uploading_retry:"file_uploading_retry_-fDS",btn_tip_public:"btn_tip_public_DZjr",btn_tip_private:"btn_tip_private_Eb2U",player_caption_placeholder:"player_caption_placeholder_3n8-",label_private_player:"label_private_player_3yhT",label_private_player_no_login:"label_private_player_no_login_33xq",login_to_watch:"login_to_watch_GSQS"}},function(e,t,n){e.exports=n.p+"../styles/i/player@2x.21e68022b8d193174dd7c86aaf615a32.png"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStates.",""],["draft.editorStates.",""]),h=i(["editorKey"],["editorKey"]),m=r(n(1)),v=r(n(2)),_=r(n(3)),y=n(5),b=n(0),S=r(n(4)),w=r(n(73)),E=r(n(806)),O={"header-one":"icons_block_h1","header-two":"icons_block_h2","unordered-list-item":"icons_block_ul","ordered-list-item":"icons_block_ol",blockquote:"icons_block_quote","code-block":"icons_code"},I=(l=(0,y.decorator)({editorState:(0,b.state)(g,(0,b.props)(h))}),u=(0,S.default)(w.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={hover:!1},r.onMouseEnter=function(){r.setState({hover:!0})},r.onMouseLeave=function(){r.setState({hover:!1})},s=n,o(r,s)}return s(t,_.default),p(t,[{key:"renderToolbar",value:function(){if(!this.state.hover)return null;var e=this.props.editorKey,t=[m.default.createElement(k,{editorKey:e,key:"h1"}),m.default.createElement(C,{editorKey:e,key:"h2"}),m.default.createElement(T,{editorKey:e,key:"ul"}),m.default.createElement(j,{editorKey:e,key:"ol"}),m.default.createElement(M,{editorKey:e,key:"quote"}),m.default.createElement(P,{editorKey:e,key:"code-block"})];return m.default.createElement("div",{className:this.ss("block-toolbar-wrapper")},m.default.createElement("div",{className:this.ss("block-toolbar")},t))}},{key:"render",value:function(){var e=this.props.editorState,t="icons_paragraph";if(e){var n=e.getSelection().getStartKey(),r=e.getCurrentContent().getBlockForKey(n).getType();O[r]&&(t=O[r])}return m.default.createElement("div",{className:this.ss("paragraph-icon-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},m.default.createElement("div",{className:this.ss("ifont","ifont-"+t,"paragraph-icon")}),this.renderToolbar())}}]),t}(),d.propTypes={editorKey:v.default.string.isRequired,editorState:v.default.object},c=f))||c)||c);t.default=I;var k=(0,E.default)("header-one","icons_block_h1"),C=(0,E.default)("header-two","icons_block_h2"),T=(0,E.default)("unordered-list-item","icons_block_ul"),j=(0,E.default)("ordered-list-item","icons_block_ol"),M=(0,E.default)("blockquote","icons_block_quote"),P=(0,E.default)("code-block","icons_code")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=i(["draft.editorStates.",""],["draft.editorStates.",""]),c=i(["editorKey"],["editorKey"]),d=i(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var n,r,i,b,S;return n=(0,h.decorator)({editorState:(0,m.state)(u,(0,m.props)(c)),setEditorState:(0,m.signal)(d)}),r=(0,_.default)(y.default),n(i=r((S=b=function(n){function r(){var t,n,s,i;a(this,r);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=s=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u))),s.toggleStyle=function(t){t.preventDefault();var n=s.props,r=n.editorKey,a=n.editorState;(0,n.setEditorState)({editorKey:r,editorState:(0,v.toggleBlockType)(a,e)})},s.preventBubblingUp=function(e){e.preventDefault()},i=n,o(s,i)}return s(r,g.default),l(r,[{key:"render",value:function(){var n=this.props.editorState,r=n.getSelection().getStartKey(),a=n.getCurrentContent().getBlockForKey(r).getType()===e;return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:this.toggleStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,a&&"active")}))}}]),r}(),b.displayName="BlockStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},i=S))||i)||i};var f=r(n(1)),p=r(n(2)),g=r(n(3)),h=n(5),m=n(0),v=n(10),_=r(n(4)),y=r(n(73))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStates.",""],["draft.editorStates.",""]),h=i(["editorKey"],["editorKey"]),m=i(["project.inlineToolbars.",""],["project.inlineToolbars.",""]),v=i(["project.showInlineToolbar"],["project.showInlineToolbar"]),_=i(["project.hideInlineToolbar"],["project.hideInlineToolbar"]),y=r(n(1)),b=r(n(12)),S=r(n(2)),w=r(n(3)),E=n(5),O=n(0),I=r(n(4)),k=r(n(132)),C=n(10),T=r(n(129)),j=n(808),M=r(n(812)),P=(l=(0,E.decorator)({editorState:(0,O.state)(g,(0,O.props)(h)),inlineToolbarState:(0,O.state)(m,(0,O.props)(h)),showInlineToolbar:(0,O.signal)(v),hideInlineToolbar:(0,O.signal)(_)}),u=(0,I.default)(k.default),l(c=u((f=d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,w.default),p(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,n=e.editorState,r=e.inlineToolbarState,a=e.showInlineToolbar,o=e.hideInlineToolbar;if(n.getSelection().isCollapsed())o({editorKey:t});else{var s=(0,C.getVisibleSelectionRect)(window);if(s&&s.width&&s.height){var i=b.default.findDOMNode(this),l=((0,T.default)(i.parentElement)||document.body).getBoundingClientRect(),u=s.top-l.top-16,c=s.left-l.left+s.width/2;a({editorKey:t,top:Math.round(u),left:Math.round(c)})}else{if(r&&"linkInput"===r.mode)return;o({editorKey:t})}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.inlineToolbarState,r=!!n,a=n&&{top:n.top,left:n.left},o=void 0;return n&&(o="linkInput"===n.mode?[y.default.createElement(j.LinkInput,{editorKey:t,key:"linkInput"})]:[y.default.createElement(x,{editorKey:t,key:"bold"}),y.default.createElement(A,{editorKey:t,key:"italic"}),y.default.createElement(R,{editorKey:t,key:"underline"}),y.default.createElement(D,{editorKey:t,key:"code"}),y.default.createElement(j.LinkButton,{editorKey:t,key:"link"})]),y.default.createElement("div",{className:this.ss("inline-toolbar",r&&"show"),style:a},o)}}]),t}(),d.propTypes={editorKey:S.default.string.isRequired,editorState:S.default.object,inlineToolbarState:S.default.object,showInlineToolbar:S.default.func,hideInlineToolbar:S.default.func},c=f))||c)||c);t.default=P;var x=(0,M.default)("BOLD","icons_inline_bold"),A=(0,M.default)("ITALIC","icons_inline_italic"),R=(0,M.default)("UNDERLINE","icons_inline_underline"),D=(0,M.default)("CODE","icons_code")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,g,h,m,v,_,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=i(["draft.editorStates.",""],["draft.editorStates.",""]),S=i(["editorKey"],["editorKey"]),w=i(["draft.setEditorState"],["draft.setEditorState"]),E=i(["project.showLinkInput"],["project.showLinkInput"]),O=i(["project.inlineToolbars.",""],["project.inlineToolbars.",""]),I=i(["project.changeLinkInputValue"],["project.changeLinkInputValue"]),k=i(["project.hideLinkInput"],["project.hideLinkInput"]),C=r(n(1)),T=r(n(2)),j=r(n(3)),M=n(5),P=n(0),x=n(10),A=r(n(480)),R=r(n(4)),D=r(n(132)),N=r(n(6)),L=r(n(811)),F=(l=(0,M.decorator)({editorState:(0,P.state)(b,(0,P.props)(S)),setEditorState:(0,P.signal)(w),showLinkInput:(0,P.signal)(E)}),u=(0,R.default)(D.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removeLinks=function(e){e.preventDefault();var t=r.props,n=t.editorKey,a=t.editorState,o=t.setEditorState,s=a.getSelection(),i=s.getStartKey(),l=s.getStartOffset(),u=s.getEndOffset(),c=a.getCurrentContent(),d=c.getBlockForKey(i),f=c;d.findEntityRanges(function(e){var t=e.getEntity(),n=t&&c.getEntity(t);return n&&"LINK"===n.getType()},function(e,t){if(e=Math.max(e,l),t=Math.min(t,u),e<t){var n=new x.SelectionState({anchorKey:i,anchorOffset:e,focusKey:i,focusOffset:t});f=x.Modifier.applyEntity(f,n,null)}}),f!==c&&(f=f.merge({selectionAfter:s.merge({hasFocus:!0})}),o({editorKey:n,editorState:x.EditorState.push(a,f,"apply-entity")}))},r.showLinkInput=function(e){e.preventDefault();var t=r.props,n=t.editorKey;(0,t.showLinkInput)({editorKey:n})},r.preventBubblingUp=function(e){e.preventDefault()},s=n,o(r,s)}return s(t,j.default),y(t,[{key:"render",value:function(){var e=this.props.editorState,t=e.getSelection();if(t.getStartKey()!==t.getEndKey())return null;var n=x.RichUtils.currentBlockContainsLink(e);return C.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},C.default.createElement("button",{type:"button",onClick:n?this.removeLinks:this.showLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",n&&"active")}))}}]),t}(),d.propTypes={editorKey:T.default.string.isRequired,editorState:T.default.object,setEditorState:T.default.func,showLinkInput:T.default.func},c=f))||c)||c),U=(p=(0,M.decorator)({editorState:(0,P.state)(b,(0,P.props)(S)),inlineToolbarState:(0,P.state)(O,(0,P.props)(S)),setEditorState:(0,P.signal)(w),changeLinkInputValue:(0,P.signal)(I),hideLinkInput:(0,P.signal)(k)}),g=(0,R.default)(D.default),h=(0,N.default)(L.default),p(m=g(m=h((_=v=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,n=r.props,a=n.editorKey;(0,n.changeLinkInputValue)({editorKey:a,value:t})},r.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=r.props,n=t.inlineToolbarState,a=t.editorKey,o=t.editorState,s=t.setEditorState,i=t.hideLinkInput,l=n.value,u=A.default.match(l),c=u&&u[0]?u[0].url:"";if(!c)return;i({editorKey:a});var d=o.getSelection(),f=d.merge({hasFocus:!0}),p=o.getCurrentContent(),g=(p=p.createEntity("LINK","MUTABLE",{url:c})).getLastCreatedEntityKey();p=(p=x.Modifier.applyEntity(p,d,g)).merge({selectionAfter:f});var h=x.EditorState.forceSelection(o,p.getSelectionAfter());h=x.EditorState.push(h,p,"apply-entity"),r.inputRef.blur(),s({editorKey:a,editorState:h})}else"Escape"===e.key&&r.hideLinkInput(e)},r.hideLinkInput=function(e){e.preventDefault();var t=r.props,n=t.editorKey,a=t.editorState,o=t.setEditorState;(0,t.hideLinkInput)({editorKey:n}),r.inputRef.blur(),o({editorKey:n,editorState:x.EditorState.forceSelection(a,a.getSelection())})},r.preventBubblingUp=function(e){e.preventDefault()},s=n,o(r,s)}return s(t,j.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.inlineToolbarState.value;return C.default.createElement("div",{className:this.ss("link-input-wrapper"),onMouseDown:this.preventBubblingUp},C.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),C.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideLinkInput}))}}]),t}(),v.propTypes={editorKey:T.default.string.isRequired,editorState:T.default.object,inlineToolbarState:T.default.object,setEditorState:T.default.func,changeLinkInputValue:T.default.func,hideLinkInput:T.default.func},m=_))||m)||m)||m);e.exports={LinkButton:F,LinkInput:U}},function(e,t,n){e.exports=n(8)(896)},function(e,t,n){e.exports=n(8)(902)},function(e,t){e.exports={link_input_place_holder:"link_input_place_holder_3V_y"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=i(["draft.editorStates.",""],["draft.editorStates.",""]),c=i(["editorKey"],["editorKey"]),d=i(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var n,r,i,b,S;return n=(0,h.decorator)({editorState:(0,m.state)(u,(0,m.props)(c)),setEditorState:(0,m.signal)(d)}),r=(0,_.default)(y.default),n(i=r((S=b=function(n){function r(){var t,n,s,i;a(this,r);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=s=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u))),s.applyStyle=function(t){t.preventDefault();var n=s.props,r=n.editorKey,a=n.editorState,o=n.setEditorState,i=a.getSelection(),l=a.getCurrentContent();l=v.Modifier.applyInlineStyle(l,i,e),o({editorKey:r,editorState:v.EditorState.push(a,l,"change-inline-style")})},s.removeStyle=function(t){t.preventDefault();var n=s.props,r=n.editorKey,a=n.editorState,o=n.setEditorState,i=a.getSelection(),l=a.getCurrentContent();l=v.Modifier.removeInlineStyle(l,i,e),o({editorKey:r,editorState:v.EditorState.push(a,l,"change-inline-style")})},s.preventBubblingUp=function(e){e.preventDefault()},i=n,o(s,i)}return s(r,g.default),l(r,[{key:"render",value:function(){var n=this.props.editorState,r=(0,v.getSelectionInlineStyle)(n).has(e);return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:r?this.removeStyle:this.applyStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,r&&"active")}))}}]),r}(),b.displayName="InlineStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},i=S))||i)||i};var f=r(n(1)),p=r(n(2)),g=r(n(3)),h=n(5),m=n(0),v=n(10),_=r(n(4)),y=r(n(132))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=i(["draft.editorStates.",""],["draft.editorStates.",""]),c=i(["project.openSettings"],["project.openSettings"]);t.default=function(e){var t=e.editorKey,n=e.theme;return function(e){var r,i,_,y,b;return r=(0,g.decorator)({editorState:(0,h.state)(u,t),openSettings:(0,h.state)(c)}),i=(0,m.default)(v.default),r(_=i((b=y=function(t){function r(){return a(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,p.default),l(r,[{key:"render",value:function(){var t=this.props,r=t.editorState,a=t.entityKey,o=t.openSettings,s=(r.getCurrentContent().getEntity(a).getData()||{}).alignment,i=void 0===s?"default":s;return d.default.createElement("div",{className:this.ss("alignment-"+i,n,o&&"openSettings")},d.default.createElement(e,this.props))}}]),r}(),y.propTypes={editorState:f.default.object,entityKey:f.default.string,openSettings:f.default.bool},_=b))||_)||_}};var d=r(n(1)),f=r(n(2)),p=r(n(3)),g=n(5),h=n(0),m=r(n(4)),v=r(n(133))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=i(["draft.editorStates.",""],["draft.editorStates.",""]),m=i(["editorKey"],["editorKey"]),v=i(["project.alignmentToolbar.",""],["project.alignmentToolbar.",""]),_=i(["project.showAlignmentToolbar"],["project.showAlignmentToolbar"]),y=i(["project.hideAlignmentToolbar"],["project.hideAlignmentToolbar"]),b=r(n(1)),S=r(n(12)),w=r(n(2)),E=r(n(3)),O=n(5),I=n(0),k=r(n(129)),C=r(n(4)),T=r(n(133)),j=r(n(815)),M=n(816),P=(0,j.default)("default","icons_alignment_normal"),x=(0,j.default)("left","icons_alignment_left"),A=(0,j.default)("right","icons_alignment_right"),R=(0,j.default)("center","icons_alignment_center"),D=(0,j.default)("fullscreen","icons_alignment_fullscreen"),N=(u=(0,O.decorator)({editorState:(0,I.state)(h,(0,I.props)(m)),alignmentToolbarState:(0,I.state)(v,(0,I.props)(m)),showAlignmentToolbar:(0,I.signal)(_),hideAlignmentToolbar:(0,I.signal)(y)}),c=(0,C.default)(T.default),u(d=c((p=f=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),g(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,n=e.showAlignmentToolbar,r=e.hideAlignmentToolbar;if(this.getEntityKey()){var a=S.default.findDOMNode(this),o=window.getSelection().focusNode;if(!l(a,o)){var s=o&&o.getBoundingClientRect&&o.getBoundingClientRect();if(s&&s.width&&s.height){var i=((0,k.default)(a.parentElement)||document.body).getBoundingClientRect(),u=s.top-i.top-21,c=s.left-i.left+s.width/2;n({editorKey:t,top:Math.round(u),left:Math.round(c)})}}}else r({editorKey:t})}},{key:"getEntityKey",value:function(){var e=this.props.editorState;if(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey(),a=e.getCurrentContent(),o=a.getBlockForKey(r);if(n===r&&"atomic"===o.getType()){var s=o.getEntityAt(0),i=a.getEntity(s).getType();if("IMAGE"===i||"VIDEO"===i)return s}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.alignmentToolbarState,r=!!n,a=n&&{top:n.top,left:n.left},o=void 0,s=this.getEntityKey();return s&&n&&(o="linkInput"===n.mode?[b.default.createElement(M.ImageLinkInput,{editorKey:t,entityKey:s,key:"linkInput"})]:[b.default.createElement(x,{editorKey:t,entityKey:s,key:"left"}),b.default.createElement(R,{editorKey:t,entityKey:s,key:"center"}),b.default.createElement(P,{editorKey:t,entityKey:s,key:"default"}),b.default.createElement(D,{editorKey:t,entityKey:s,key:"fullscreen"}),b.default.createElement(A,{editorKey:t,entityKey:s,key:"right"}),b.default.createElement(M.ImageLinkButton,{editorKey:t,entityKey:s,key:"link"})]),b.default.createElement("div",{className:this.ss("alignment-toolbar",r&&"show"),style:a},o)}}]),t}(),f.propTypes={editorKey:w.default.string.isRequired,editorState:w.default.object,alignmentToolbarState:w.default.object,showAlignmentToolbar:w.default.func,hideAlignmentToolbar:w.default.func},d=p))||d)||d);t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=i(["draft.editorStates.",""],["draft.editorStates.",""]),c=i(["editorKey"],["editorKey"]),d=i(["draft.setEditorState"],["draft.setEditorState"]),f=i(["project.contentMap"],["project.contentMap"]);t.default=function(e,t){var n,r,i,E,O;return n=(0,m.decorator)({editorState:(0,v.state)(u,(0,v.props)(c)),setEditorState:(0,v.signal)(d),contentMap:(0,v.state)(f)}),r=(0,y.default)(b.default),n(i=r((O=E=function(n){function r(){var t,n,s,i;a(this,r);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=s=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u))),s.onClick=function(){var t=s.props,n=t.editorKey,r=t.editorState,a=t.entityKey,o=t.setEditorState,i=r.getCurrentContent(),l=(0,_.mergeAtomicEntityData)(i,a,{alignment:e});o({editorKey:n,editorState:_.EditorState.set(r,{currentContent:l})})},s.preventBubblingUp=function(e){e.preventDefault()},i=n,o(s,i)}return s(r,h.default),l(r,[{key:"render",value:function(){var n=this.props,r=n.entityKey,a=n.editorState,o=n.contentMap,s=a.getCurrentContent().getEntity(r).getData()||{},i=s.alignment,l=void 0===i?"default":i,u=s.contentId,c=l===e,d=((u&&o&&o[u]||{}).originalImage||{}).width;return d&&d<S&&-1===w.indexOf(e)?null:p.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},p.default.createElement("button",{type:"button",onClick:c?void 0:this.onClick,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,c&&"active")}))}}]),r}(),E.displayName="AlignmentButton("+e+")",E.propTypes={editorKey:g.default.string.isRequired,editorState:g.default.object,contentMap:g.default.object,entityKey:g.default.string.isRequired,setEditorState:g.default.func},i=O))||i)||i};var p=r(n(1)),g=r(n(2)),h=r(n(3)),m=n(5),v=n(0),_=n(10),y=r(n(4)),b=r(n(133)),S=1e3,w=["left","default","right","center"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,g,h,m,v,_,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=i(["draft.editorStates.",""],["draft.editorStates.",""]),S=i(["editorKey"],["editorKey"]),w=i(["draft.setEditorState"],["draft.setEditorState"]),E=i(["project.showImageLinkInput"],["project.showImageLinkInput"]),O=i(["project.alignmentToolbar.",""],["project.alignmentToolbar.",""]),I=i(["project.changeImageLinkInputValue"],["project.changeImageLinkInputValue"]),k=i(["project.hideImageLinkInput"],["project.hideImageLinkInput"]),C=r(n(1)),T=r(n(2)),j=r(n(3)),M=n(5),P=n(0),x=n(10),A=r(n(480)),R=r(n(4)),D=r(n(133)),N=r(n(6)),L=r(n(817)),F=(l=(0,M.decorator)({editorState:(0,P.state)(b,(0,P.props)(S)),setEditorState:(0,P.signal)(w),showImageLinkInput:(0,P.signal)(E)}),u=(0,R.default)(D.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removeLinks=function(e){e.preventDefault();var t=r.props,n=t.editorKey,a=t.editorState,o=t.entityKey,s=t.setEditorState,i=a.getCurrentContent();if((i.getEntity(o).getData()||{}).url){var l=(0,x.mergeAtomicEntityData)(i,o,{url:""});s({editorKey:n,editorState:x.EditorState.push(a,l,"apply-entity")})}},r.showImageLinkInput=function(e){e.preventDefault();var t=r.props,n=t.editorKey;(0,t.showImageLinkInput)({editorKey:n})},r.preventBubblingUp=function(e){e.preventDefault()},s=n,o(r,s)}return s(t,j.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.entityKey,r=t.getCurrentContent().getEntity(n);if("IMAGE"!==r.getType())return null;var a=!!(r.getData()||{}).url;return C.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},C.default.createElement("button",{type:"button",onClick:a?this.removeLinks:this.showImageLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",a&&"active")}))}}]),t}(),d.propTypes={editorKey:T.default.string.isRequired,editorState:T.default.object,entityKey:T.default.string.isRequired,setEditorState:T.default.func,showImageLinkInput:T.default.func},c=f))||c)||c),U=(p=(0,M.decorator)({editorState:(0,P.state)(b,(0,P.props)(S)),alignmentToolbarState:(0,P.state)(O,(0,P.props)(S)),setEditorState:(0,P.signal)(w),changeImageLinkInputValue:(0,P.signal)(I),hideImageLinkInput:(0,P.signal)(k)}),g=(0,R.default)(D.default),h=(0,N.default)(L.default),p(m=g(m=h((_=v=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,n=r.props,a=n.editorKey;(0,n.changeImageLinkInputValue)({editorKey:a,value:t})},r.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=r.props,n=t.alignmentToolbarState,a=t.editorKey,o=t.editorState,s=t.entityKey,i=t.setEditorState,l=t.hideImageLinkInput,u=n.value,c=A.default.match(u),d=c&&c[0]?c[0].url:"";if(!d)return;l({editorKey:a}),r.inputRef.blur();var f=o.getCurrentContent(),p=(0,x.mergeAtomicEntityData)(f,s,{url:d});i({editorKey:a,editorState:x.EditorState.push(o,p,"apply-entity")})}else"Escape"===e.key&&r.hideImageLinkInput(e)},r.hideImageLinkInput=function(e){e.preventDefault();var t=r.props,n=t.editorKey,a=t.editorState,o=t.setEditorState;(0,t.hideImageLinkInput)({editorKey:n}),r.inputRef.blur(),o({editorKey:n,editorState:x.EditorState.forceSelection(a,a.getSelection())})},r.preventBubblingUp=function(e){e.preventDefault()},s=n,o(r,s)}return s(t,j.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.alignmentToolbarState.value;return C.default.createElement("div",{className:this.ss("link-input-wrapper"),onMouseDown:this.preventBubblingUp},C.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("image_link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),C.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideImageLinkInput}))}}]),t}(),v.propTypes={editorKey:T.default.string.isRequired,editorState:T.default.object,entityKey:T.default.string.isRequired,alignmentToolbarState:T.default.object,setEditorState:T.default.func,changeImageLinkInputValue:T.default.func,hideImageLinkInput:T.default.func},m=_))||m)||m)||m);e.exports={ImageLinkButton:F,ImageLinkInput:U}},function(e,t){e.exports={image_link_input_place_holder:"image_link_input_place_holder_37Ed"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["draft.editorStates.",""],["draft.editorStates.",""]),h=i(["editorKey"],["editorKey"]),m=i(["project.mentionToolbars.",""],["project.mentionToolbars.",""]),v=i(["suggest.candidate"],["suggest.candidate"]),_=i(["project.showMentionToolbar"],["project.showMentionToolbar"]),y=i(["project.hideMentionToolbar"],["project.hideMentionToolbar"]),b=i(["project.moveToMentionItem"],["project.moveToMentionItem"]),S=i(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),w=i(["draft.setEditorState"],["draft.setEditorState"]),E=r(n(1)),O=r(n(12)),I=r(n(2)),k=r(n(3)),C=n(5),T=n(0),j=n(10),M=r(n(129)),P=r(n(16)),x=r(n(4)),A=r(n(482)),R=(l=(0,C.decorator)({editorState:(0,T.state)(g,(0,T.props)(h)),mentionToolbarState:(0,T.state)(m,(0,T.props)(h)),suggestCandidate:(0,T.state)(v),showMentionToolbar:(0,T.signal)(_),hideMentionToolbar:(0,T.signal)(y),moveToMentionItem:(0,T.signal)(b),fetchCandidates:(0,T.signal)(S),setEditorState:(0,T.signal)(w)}),u=(0,x.default)(A.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onMouseDown=function(e){e.preventDefault();var t=r.props,n=t.mentionToolbarState,a=t.suggestCandidate,o=t.editorKey,s=t.editorState,i=t.setEditorState,l=n.prefix,u=n.index,c=a.user,d=c.length;i({editorKey:o,editorState:(0,j.addUserMention)(s,l,c[(u%d+d)%d])})},r.onMouseEnter=function(e){var t=r.props,n=t.editorKey;(0,t.moveToMentionItem)({editorKey:n,index:e})},s=n,o(r,s)}return s(t,k.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=e.editorState,n=this.props,r=n.editorState,a=n.editorKey,o=n.showMentionToolbar,s=n.hideMentionToolbar,i=n.fetchCandidates,l=t.getSelection(),u=r.getSelection();if(l!==u)if(u.isCollapsed()&&u.getHasFocus()){var c=r.getCurrentContent(),d=u.getFocusKey(),f=c.getBlockForKey(d),p=u.getFocusOffset();if("atomic"!==f.getType()&&"code-block"!==f.getType()){for(var g="",h=p-1;h>=0&&h>=p-20&&!(f.getEntityAt(h)||/\s/.test(f.getText()[h])&&" "!==f.getText()[h]);h--)if("@"===f.getText()[h]){(0===h||f.getEntityAt(h-1)||/\s/.test(f.getText()[h-1]))&&h+1<p&&(g=f.getText().substring(h+1,p));break}if(g){var m=(0,j.getLeafOffsetKeyAndOffset)(r,d,p-1-g.length),v=m.offsetKey,_=m.offset,y=(0,j.getLeafBoundingClientRect)(a,v,_),b=O.default.findDOMNode(this),S=((0,M.default)(b.parentElement)||document.body).getBoundingClientRect();if(y.top+y.bottom<window.innerHeight){var w=y.bottom-S.top+5,E=y.left-S.left;o({editorKey:a,top:Math.round(w),left:Math.round(E),prefix:g})}else{var I=S.bottom-y.top+5,k=y.left-S.left;o({editorKey:a,bottom:Math.round(I),left:Math.round(k),prefix:g})}i({q:g,st:"user"})}else s({editorKey:a})}else s({editorKey:a})}else s({editorKey:a})}},{key:"renderCandidate",value:function(e,t,n){var r=this;return E.default.createElement("div",{className:this.ss("candidate",n&&"active"),key:e.id,onMouseEnter:function(){return r.onMouseEnter(t)},onMouseDown:this.onMouseDown},E.default.createElement(P.default,{className:this.ss("avatar"),user:e,size:"xxxsmall"}),E.default.createElement("span",{className:this.ss("name")},"@",e.name))}},{key:"renderCandidates",value:function(){var e=this,t=this.props,n=t.mentionToolbarState,r=t.suggestCandidate,a=[];if(n&&"user"===r.st&&r.q===n.prefix&&r.user&&(a=r.user),!a.length)return null;var o=a.length,s=(n.index%o+o)%o;return E.default.createElement("div",{className:this.ss("candidates")},a.map(function(t,n){return e.renderCandidate(t,n,n===s)}))}},{key:"render",value:function(){var e=this.props.mentionToolbarState,t=!!e,n=e&&{top:e.top,bottom:e.bottom,left:e.left};return E.default.createElement("div",{className:this.ss("mention-toolbar",t&&"show"),style:n},this.renderCandidates())}}]),t}(),d.propTypes={editorKey:I.default.string.isRequired,editorState:I.default.object,mentionToolbarState:I.default.object,suggestCandidate:I.default.object,showMentionToolbar:I.default.func,hideMentionToolbar:I.default.func,moveToMentionItem:I.default.func,fetchCandidates:I.default.func,setEditorState:I.default.func},c=f))||c)||c);t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d,f,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=i(["project.userCards"],["project.userCards"]),h=i(["project.fetchUserCard"],["project.fetchUserCard"]),m=r(n(1)),v=r(n(12)),_=r(n(2)),y=r(n(3)),b=n(5),S=n(0),w=r(n(820)),E=r(n(4)),O=r(n(482)),I={strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()},t)},component:(l=(0,b.decorator)({userCards:(0,S.state)(g),fetchUserCard:(0,S.signal)(h)}),u=(0,E.default)(O.default),l(c=u((f=d=function(e){function t(){var e,n,r,s;a(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={hover:!1,top:void 0,bottom:void 0},r.onMouseEnter=function(){var e=r.props,t=e.entityKey,n=e.contentState;(0,e.fetchUserCard)({id:n.getEntity(t).getData().userId});var a=v.default.findDOMNode(r).getBoundingClientRect(),o=void 0,s=void 0;a.top+a.bottom<window.innerHeight?o=a.height:s=a.height,r.clearHoverTimeout(),r.hoverTimeout=setTimeout(function(){r.setState({hover:!0,top:o,bottom:s})},750)},r.onMouseLeave=function(){r.clearHoverTimeout(),r.hoverTimeout=setTimeout(function(){r.setState({hover:!1})},750)},s=n,o(r,s)}return s(t,y.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearHoverTimeout()}},{key:"clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"renderUserCard",value:function(){var e=this.props,t=e.entityKey,n=e.contentState,r=e.userCards[n.getEntity(t).getData().userId],a=this.state,o=a.hover,s=a.top,i=a.bottom;return r&&o?m.default.createElement(w.default,{user:r,top:s,bottom:i}):null}},{key:"render",value:function(){var e=this.props,t=e.entityKey,n=e.contentState,r=e.children,a=n.getEntity(t).getData().userId;return m.default.createElement("span",{className:this.ss("mention-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},m.default.createElement("a",{href:"/u/"+a},r),this.renderUserCard())}}]),t}(),d.propTypes={entityKey:_.default.string.isRequired,contentState:_.default.object.isRequired,children:_.default.any.isRequired,userCards:_.default.object,fetchUserCard:_.default.func},c=f))||c)||c)};t.default=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l,u,c,d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=r(n(1)),g=r(n(2)),h=r(n(3)),m=n(11),v=r(n(821)),_=r(n(16)),y=r(n(15)),b=r(n(24)),S=r(n(4)),w=r(n(826)),E=r(n(6)),O=r(n(827)),I=n(51),k=(i=(0,S.default)(w.default),l=(0,E.default)(O.default),i(u=l((d=c=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,h.default),f(t,[{key:"onAvatarClick",value:function(e){(0,m.pauseEvent)(e);var t="/u/"+this.props.user.id;window.open(t,"_blank")}},{key:"renderProjects",value:function(){var e=this,t=this.props.user.projects;if(!t||0===t.length)return null;var n=t.map(function(t){var n=t.id,r=t.thumbnail;return p.default.createElement("div",{key:n,className:e.ss("project-thumbnail")},p.default.createElement(y.default,{src:r&&r.url||I,sizes:"80px"}))});return p.default.createElement("div",{className:this.ss("projects")},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.top,a=t.bottom,o=v.default.getCoverImage(n);return p.default.createElement("div",{className:this.ss("user-card"),style:{top:r,bottom:a},contentEditable:!1,onClick:function(t){return e.onAvatarClick(t)}},p.default.createElement("div",{className:this.ss("content-wrapper")},p.default.createElement("div",{className:this.ss("cover-image")},p.default.createElement(y.default,{src:o,sizes:"300px"})),p.default.createElement("div",{className:this.ss("avatar-area")},p.default.createElement(_.default,{user:n,size:"xlarge"})),p.default.createElement("div",{className:this.ss("card-desc")},p.default.createElement("div",{className:this.ss("card-desc-top")},p.default.createElement("div",{className:this.ss("card-name")},n.fullName),p.default.createElement("div",{className:this.ss("card-title")},n.title),p.default.createElement("div",{className:this.ss("social-wrapper")},p.default.createElement(b.default,{text:this.__("followers_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("followers")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-followers-icon")}),p.default.createElement("div",{className:this.ss("followers-count")},(0,m.formatNumber)(n.followCount)))),p.default.createElement("div",{className:this.ss("divider")}),p.default.createElement(b.default,{text:this.__("likes_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("likes")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-heart")}),p.default.createElement("div",{className:this.ss("likes-count")},(0,m.formatNumber)(n.likeCount))))),this.renderProjects()))))}}]),t}(),c.propTypes={user:g.default.object,top:g.default.number,bottom:g.default.number},u=d))||u)||u);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["cover1.jpg","cover2.jpg","cover3.jpg"];t.default={getCoverImage:function(e){if(!e)return null;var t=e.id,a=e.coverImage;if(a)return a;var o=parseInt(t.slice(0,8),16),s=r[o%r.length];return n(822)("./"+s)}}},function(e,t,n){function r(e){return n(a(e))}function a(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./cover1.jpg":823,"./cover2.jpg":824,"./cover3.jpg":825};r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=822},function(e,t,n){e.exports=n.p+"../styles/i/covers/cover1.11afc8808f4eb99ed42e5d990061d7a3.jpg"},function(e,t,n){e.exports=n.p+"../styles/i/covers/cover2.862db3f5daf7c6eb0c25a59086b58be5.jpg"},function(e,t,n){e.exports=n.p+"../styles/i/covers/cover3.b987e978934b1adfff96cff52cacea49.jpg"},function(e,t){e.exports={"user-card":"user-card_3knOls37","content-wrapper":"content-wrapper_3ElBmhUU","cover-image":"cover-image_25CyGwlB","avatar-area":"avatar-area_12QnvrxR","card-desc":"card-desc_15GQIgeV","card-desc-top":"card-desc-top_3NzLKS_g","card-name":"card-name_3DqaUNT5","card-title":"card-title_3WQTXL2e","social-wrapper":"social-wrapper_3PVg1RJ5",followers:"followers_1xngoZGs",likes:"likes_fgpzQZT6",icon:"icon_E7n02UV3",divider:"divider_yC_3Gdhy",projects:"projects_1unr_xBB","project-thumbnail":"project-thumbnail_2r25Jn-u"}},function(e,t){e.exports={followers_count:"followers_count_1Gvb",likes_count:"likes_count_1Vyn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=i(["draft.editorStates.",""],["draft.editorStates.",""]),c=i(["project.dragOverBlockKey"],["project.dragOverBlockKey"]),d=i(["project.dragStartBlockKey"],["project.dragStartBlockKey"]),f=i(["project.dragStartBlockAfterKey"],["project.dragStartBlockAfterKey"]),p=i(["project.setDragOverBlockKey"],["project.setDragOverBlockKey"]),g=i(["project.setDragStartBlockKey"],["project.setDragStartBlockKey"]);t.default=function(e){var t,n,r,i=e.editorKey,w=e.renderOnly;return(0,y.decorator)({editorState:(0,b.state)(u,i),dragOverBlockKey:(0,b.state)(c),dragStartBlockKey:(0,b.state)(d),dragStartBlockAfterKey:(0,b.state)(f),setDragOverBlockKey:(0,b.signal)(p),setDragStartBlockKey:(0,b.signal)(g)})((r=n=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onDragEnter=function(){r.counter++},r.onDragLeave=function(){if(r.counter--,0===r.counter){var e=r.props,t=e.dragOverBlockKey,n=e.setDragOverBlockKey;t&&n()}},r.onDragOver=function(e){e.preventDefault();var t=void 0;m.default.findDOMNode(r).querySelectorAll('[data-editor="'+i+'"][data-block="true"]').forEach(function(n){t||n.getBoundingClientRect().bottom>e.clientY&&(t=n)});var n=r.props,a=n.dragOverBlockKey,o=n.setDragOverBlockKey,s=n.dragStartBlockKey,l=n.dragStartBlockAfterKey,u=t&&t.getAttribute("data-offset-key"),c=(u&&S.DraftOffsetKey.decode(u)||{}).blockKey,d=void 0===c?"":c;if(d!==a){var f=r.props.editorState.getCurrentContent(),p=["GAMEGALLERY","SHOWCASEGALLERY","WEBGLGALLERY"],g=f.getBlockForKey(d);if(g&&"atomic"===g.getType()){var h=g.getEntityAt(0),v=f.getEntity(h).getType();if(-1!==p.indexOf(v))return void o()}o({blockKey:d,internalDrag:r.internalDrag})}!r.internalDrag||s&&d!==s&&d!==l||(e.dataTransfer.dropEffect="none")},r.onDrop=function(){var e=r.props,t=e.dragOverBlockKey,n=e.setDragOverBlockKey;t&&n(),r.counter=0},r.onDragStart=function(){r.internalDrag=!0},r.onDragEnd=function(){r.internalDrag=!1,(0,r.props.setDragStartBlockKey)()},r.counter=0,r.internalDrag=!1,r}return s(t,_.default),l(t,[{key:"render",value:function(){var e=this.props.children;return h.default.createElement("div",{onDragEnter:w?void 0:this.onDragEnter,onDragLeave:w?void 0:this.onDragLeave,onDragOver:w?void 0:this.onDragOver,onDrop:w?void 0:this.onDrop,onDragStart:w?void 0:this.onDragStart,onDragEnd:w?void 0:this.onDragEnd,style:{paddingTop:"1px",paddingBottom:"1px"}},e)}}]),t}(),n.propTypes={editorState:v.default.object,dragOverBlockKey:v.default.string,dragStartBlockKey:v.default.string,dragStartBlockAfterKey:v.default.string,setDragOverBlockKey:v.default.func,setDragStartBlockKey:v.default.func,children:v.default.any},t=r))||t};var h=r(n(1)),m=r(n(12)),v=r(n(2)),_=r(n(3)),y=n(5),b=n(0),S=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=i(["draft.editorStates.",""],["draft.editorStates.",""]),d=i(["project.setDragStartBlockKey"],["project.setDragStartBlockKey"]);t.default=function(e){var t=e.editorKey,n=e.renderOnly;return function(e){var r,i,_;return(0,h.decorator)({editorState:(0,m.state)(c,t),setDragStartBlockKey:(0,m.signal)(d)})((_=i=function(t){function r(){var e,t,n,s;a(this,r);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return t=n=o(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(l))),n.onDragStart=function(e){var t=n.props,r=t.offsetKey,a=t.editorState,o=v.DraftOffsetKey.decode(r).blockKey;e.dataTransfer.dropEffect="move",e.dataTransfer.setData("CONNECT_BLOCK_DRAG",1);var s=a.getCurrentContent().getKeyAfter(o);(0,n.props.setDragStartBlockKey)({blockKey:o,blockAfterKey:s})},s=t,o(n,s)}return s(r,g.default),u(r,[{key:"render",value:function(){return f.default.createElement(e,l({},this.props,{onDragStart:n?void 0:this.onDragStart}))}}]),r}(),i.propTypes={offsetKey:p.default.string,editorState:p.default.object,setDragStartBlockKey:p.default.func},r=_))||r}};var f=r(n(1)),p=r(n(2)),g=r(n(3)),h=n(5),m=n(0),v=n(10)},function(e,t){e.exports={content:"content_2Z0BDHTp",head:"head_1wgys79j","button-close":"button-close_2Tsjh1vb","input-wrap":"input-wrap_2R_bJrTZ",input:"input_1bnWeffK","supported-hint":"supported-hint_1g7RGveZ","embed-wrap":"embed-wrap_xsP9xALU",title:"title_2k60smls","embed-previews":"embed-previews_1YosqFGH",item:"item_1y7ITpAP","item-thumbnail":"item-thumbnail_2ESzND7-","item-content":"item-content_7ndEdDUJ","item-info":"item-info_3Ff3-54F","item-title":"item-title_2oiRIFdL","item-provider":"item-provider_R9ytn-H2","item-delete":"item-delete_1xJGVge4",delete:"delete_215D28QY",foot:"foot_wgrk-Mf6",button:"button_3Wl5QEuk","loading-wrap":"loading-wrap_3jewD8lz",loading:"loading_3f1QMv6J"}},function(e,t){e.exports={title_add_embed:"title_add_embed_3uCt",input_placeholder:"input_placeholder_3pIf",supported_hint:"supported_hint_3dC4",total_embeds:"total_embeds_1Frc",from_provider:"from_provider_1dL3",asset_store:"asset_store_1K3T",button_delete:"button_delete_2pPz",button_cancel:"button_cancel_2qO2",button_ok:"button_ok_39s8"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=i(["draft.editorStates.",""],["draft.editorStates.",""]),d=i(["draft.editorEditable.",""],["draft.editorEditable.",""]),f=i(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e){var t=e.editorKey,n=e.renderOnly;return function(e){var r,i,S;return(0,v.decorator)({editorState:(0,_.state)(c,t),editable:(0,_.state)(d,t),setEditorState:(0,_.signal)(f)})((S=i=function(r){function i(){var e,n,r,s;a(this,i);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=o(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(u))),r.onCopy=function(e){if(r.props.editorKey===(0,b.findEditorKey)(e.target)){e.preventDefault();var t=r.props,n=t.offsetKey,a=t.editorState,o=b.DraftOffsetKey.decode(n).blockKey,s=a.getCurrentContent(),i=s.getBlockForKey(o).getEntityAt(0),l=s.getEntity(i),u={type:l.getType(),data:l.getData()};e.clipboardData.setData("text","CONNECT_ATOMIC_ENTITY:"+JSON.stringify(u))}},r.onCut=function(e){if(r.props.editorKey===(0,b.findEditorKey)(e.target)){r.onCopy(e);var n=r.props,a=n.offsetKey,o=n.editorState,s=n.setEditorState,i=b.DraftOffsetKey.decode(a).blockKey,l=new b.ContentBlock({key:i}),u=o.getCurrentContent(),c=u.getBlockMap().set(i,l),d=u.merge({blockMap:c,selectionAfter:new b.SelectionState({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,hasFocus:!0})});s({editorKey:t,editorState:b.EditorState.push(o,d,"remove-range")})}},r.onFocus=function(e){e.stopPropagation()},r.onBlur=function(e){e.stopPropagation()},r.onSelect=function(e){e.stopPropagation()},r.focus=function(){var e=r.props,n=e.offsetKey,a=e.editorState,o=e.setEditorState,s=b.DraftOffsetKey.decode(n).blockKey;o({editorKey:t,editorState:b.EditorState.forceSelection(a,new b.SelectionState({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0}))})},s=n,o(r,s)}return s(i,m.default),u(i,[{key:"componentDidMount",value:function(){this.setSelection()}},{key:"componentDidUpdate",value:function(){this.setSelection()}},{key:"setSelection",value:function(){if(!n){var e=this.props,t=e.offsetKey,r=e.editorState,a=e.editable,o=b.DraftOffsetKey.decode(t).blockKey,s=r.getSelection();if(a&&s.getHasFocus()&&s.hasEdgeWithin(o,0,1)){var i=g.default.findDOMNode(this);(0,b.setDraftEditorSelection)(s,i,o,0,1)}}}},{key:"isFocused",value:function(){var e=this.props,t=e.offsetKey,n=e.editorState,r=b.DraftOffsetKey.decode(t).blockKey,a=n.getSelection();return a.getHasFocus()&&a.hasEdgeWithin(r,0,1)}},{key:"render",value:function(){var t=!n&&this.isFocused();return p.default.createElement("div",{onCopy:n?void 0:this.onCopy,onCut:n?void 0:this.onCut,onFocus:n?void 0:this.onFocus,onBlur:n?void 0:this.onBlur,onSelect:n?void 0:this.onSelect},p.default.createElement(e,l({},(0,y.default)(this.props,"editorState","editable","setEditorState"),{isFocused:t,focus:n?void 0:this.focus})))}}]),i}(),i.propTypes={offsetKey:h.default.string.isRequired,editorKey:h.default.string.isRequired,editorState:h.default.object,editable:h.default.bool,setEditorState:h.default.func},r=S))||r}};var p=r(n(1)),g=r(n(12)),h=r(n(2)),m=r(n(3)),v=n(5),_=n(0),y=r(n(70)),b=n(10)},,,,function(e,t){e.exports={"title-wrap":"title-wrap_-ekColTs",webgl:"webgl_2pSxb2PI",warning:"warning_1fQ4d39i"}},function(e,t){e.exports={"desc-wrap":"desc-wrap_PnjADqsM",webgl:"webgl_2kx-zyK1"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly,o=e.editorType;if(!t)throw new Error("editorKey is empty");return{onChange:n||"webgl"!==o?void 0:function(e,t){var n=t.getEditorState,o=t.getProps;return e.getCurrentContent().getFirstBlock().getLength()>a?(o().controller.getSignal("header.showMessage")({message:"project_description_maxLength",params:{maxLength:a}}),r.EditorState.forceSelection(n(),n().getSelection())):e}}};var r=n(10),a=1e3},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return 0===e.indexOf("application/zip")||0===e.indexOf("application/x-zip-compressed")||0===e.indexOf("application/octet-stream")}Object.defineProperty(t,"__esModule",{value:!0}),t.readZipFile=function(e){if(!a(e.type))throw new Error("file is not zip file");return new Promise(function(t){t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"webgl"})})},t.readZipFiles=function(e){return e=[].concat(r(e)).filter(function(e){return a(e.type)}),Promise.all(e.map(readImage))}},function(e,t){e.exports={"upload-box":"upload-box_c6FwRnT1","add-new-wrap":"add-new-wrap_3hETAbYG","add-new":"add-new_U98aWd7R","drag-over":"drag-over_2NRUO8jR","add-new-icon":"add-new-icon_26tQ0eyh",webgl:"webgl_1XuRqfBP","add-new-title":"add-new-title_1JoeSvLq","add-new-description":"add-new-description_1BQhph2z","webgl-description":"webgl-description_tVFJzuDA","add-new-buttons":"add-new-buttons_1Yz6cC1H",button:"button_dbLZhdMD","black-background":"black-background_2mabe52L",hide:"hide_3lAUgXb9"}},function(e,t){e.exports={add_new_title:"add_new_title_2wKN",add_new_description:"add_new_description_1_iC",add_new_title_webgl:"add_new_title_webgl_3umT",add_new_description_webgl:"add_new_description_webgl_1ifb",button_upload_photo:"button_upload_photo_278_",button_upload_embed:"button_upload_embed_31ZK",button_upload_webgl:"button_upload_webgl_33PU"}},function(e,t,n){e.exports=n.p+"../styles/i/upload.e6ce3e994a4e0a115ef3cc622fc5c008.png"},function(e,t,n){e.exports=n.p+"../styles/i/ic-cloud-upload.f19a337e5a19e31ad2eaff1cc9c4f6aa.png"},,,,,,,function(e,t){e.exports={"body-wrap":"body-wrap_3YlawKUK","render-only":"render-only_13OpRvr5"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,g,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=l(["project.gallery.itemPos"],["project.gallery.itemPos"]),v=l(["project.setItemPos"],["project.setItemPos"]),_=l(["project.gallery.thumbPos"],["project.gallery.thumbPos"]),y=l(["project.setThumbPos"],["project.setThumbPos"]),b=l(["project.uploads"],["project.uploads"]),S=l(["project.uploadVideo.pendingUploadIds"],["project.uploadVideo.pendingUploadIds"]),w=l(["project.contentMap"],["project.contentMap"]),E=l(["draft.editorStates.",""],["draft.editorStates.",""]),O=l(["editorKey"],["editorKey"]),I=l(["project.projectData.pendingWebgl"],["project.projectData.pendingWebgl"]),k=l(["draft.setEditorState"],["draft.setEditorState"]),C=l(["project.positions"],["project.positions"]),T=l(["project.unsetPressed"],["project.unsetPressed"]),j=l(["project.setPressed"],["project.setPressed"]),M=l(["project.updatePressed"],["project.updatePressed"]),P=l(["project.checkPendingWebgl"],["project.checkPendingWebgl"]),x=r(n(1)),A=r(n(2)),R=r(n(3)),D=r(n(12)),N=n(5),L=n(0),F=r(n(94)),U=n(10),K=n(11),B=r(n(852)),z=r(n(4)),q=r(n(855)),V=r(n(6)),H=r(n(856)),W=(u=(0,N.decorator)({itemPos:(0,L.state)(m),setItemPos:(0,L.signal)(v),thumbPos:(0,L.state)(_),setThumbPos:(0,L.signal)(y),uploads:(0,L.state)(b),uploadIds:(0,L.state)(S),contentMap:(0,L.state)(w),editorState:(0,L.state)(E,(0,L.props)(O)),pendingWebgl:(0,L.state)(I),setEditorState:(0,L.signal)(k),positions:(0,L.state)(C),unsetPressed:(0,L.signal)(T),setPressed:(0,L.signal)(j),updatePressed:(0,L.signal)(M),checkPendingWebgl:(0,L.signal)(P)}),c=(0,z.default)(q.default),d=(0,V.default)(H.default),u(f=c(f=d((g=p=function(e){function t(){var e,n,r,i;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={},r.onNext=function(e,t){var n=t.animating,a=t.pageSize;n||r.focusToClick(e,function(){r.setThumbPos(r.props.thumbPos+a-1)})},r.onPrev=function(e,t){var n=t.animating,a=t.pageSize;n||r.focusToClick(e,function(){r.setThumbPos(r.props.thumbPos-a+1)})},r.onClickThumbnail=function(e){var t=e.index;r.setItemPos(t)},r.onClickGallery=function(e){r.props.focus&&r.props.focus(e)},r.onMouseMove=function(e){var t=e.pageX,n=r.props,a=n.positions,o=n.updatePressed;if(a){var s=a.pageX,i=a.left;a.isPressed&&o({pos:{pageX:t,left:i+(t-s)}})}},r.onMouseUp=function(){var e=r.props,t=e.positions,n=e.unsetPressed;if(t){var a=t.id,o=t.isPressed,s=t.left;if(o){var i=r.calcNewSort(a,s),l=r.getEntityContents();if(a!==i&&i<l.length){var u=(0,K.arrayMove)(l,a,i);r.syncToEntity(u)}n(),r.setItemPos(i)}}},r.onMouseDown=function(e,t){0===e.button&&r.focusToClick(e,function(){var n=r.props,a=n.renderOnly,o=n.setPressed,s=n.itemPos;if(t!==s&&r.setItemPos(t),!a){var i=e.pageX;o({pos:{id:t,pageX:i,left:0}})}})},r.refMap={},r.deleteItem=function(e,t){if(r.props.itemPos===t){(0,K.pauseEvent)(e);var n=r.getEntityData(r.props).contents,o=void 0===n?[]:n,s=[].concat(a(o));s.splice(t,1),r.syncToEntity(s)}},r.syncToEntity=function(e){var t=r.props,n=t.entityKey,a=t.editorKey,o=t.editorState,s=t.setEditorState,i=(0,U.mergeAtomicEntityData)(o.getCurrentContent(),n,{contents:e.filter(function(e){return e.contentId||e.uploadId})});s({editorKey:a,editorState:U.EditorState.push(o,i,"apply-entity")})},i=n,s(r,i)}return i(t,R.default),h(t,[{key:"componentDidMount",value:function(){var e=this;this.props.renderOnly||(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.setItemPos(this.getContentMax()),this.setThumbPos(this.getThumbMax()));var t=this.props,n=t.pendingWebgl,r=t.checkPendingWebgl;n&&setTimeout(function(){e.syncToEntity([{uploadId:n}]),r()},100)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getContentMax();e.itemPos>t&&this.setItemPos(t)}},{key:"componentWillUnmount",value:function(){this.props.renderOnly||(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)),this.setItemPos(0)}},{key:"setItemPos",value:function(e){var t=this.props,n=t.itemPos,r=t.thumbPos;if(e!==n){var a=this.getContentMax(),o=a>0?Math.max(0,Math.min(a,e)):Math.max(0,e);this.props.setItemPos({itemPos:o});var s=Math.min(a,r+4-1);o<=r?this.setThumbPos(r-1):o>=s&&this.setThumbPos(r+1)}}},{key:"setThumbPos",value:function(e){if(e!==this.props.thumbPos){var t=this.getThumbMax(),n=t>0?Math.max(0,Math.min(t,e)):Math.max(0,e);this.props.setThumbPos({thumbPos:n})}}},{key:"getEntityData",value:function(e){var t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t).getData()}},{key:"getEntityContents",value:function(){var e=this.getEntityData(this.props).contents,t=void 0===e?[]:e;return!0===this.props.renderOnly?[].concat(a(t)):[].concat(a(t),[{addNew:!0}])}},{key:"getContentMax",value:function(){return this.getEntityContents().length-1}},{key:"getThumbMax",value:function(){return this.getEntityContents().length-4}},{key:"focusToClick",value:function(e,t){var n=this.props,r=n.isFocused;n.renderOnly||r||this.onClickGallery(e),t&&t()}},{key:"calcNewSort",value:function(e,t){var n=D.default.findDOMNode(this.refMap[e]),r=e;if(n){var a=(n||{}).offsetWidth,o=void 0===a?1:a,s=Math.round(t/o)+e,i=this.getEntityContents();r=Math.max(0,Math.min(s,i.length-2))}return r}},{key:"renderUploadBox",value:function(){var e=this.props,t=e.isFocused,n=e.editorKey,r=e.entityKey,a=e.renderOnly,o=e.editorState,s=e.focus;return x.default.createElement(F.default,{key:"new",isFocused:t,editorKey:n,entityKey:r,renderOnly:a,editorState:o,focus:s,ratio:.56,syncToEntity:this.syncToEntity})}},{key:"renderUploading",value:function(e){var t=this.props.uploads,n=void 0===t?{}:t,r=e.uploadId;if(!n[r])return null;var a=n[r],o=a.loaded,s=void 0===o?0:o,i=a.total,l=100*s/(void 0===i?1:i);return x.default.createElement("div",{key:r,className:this.ss("progress-wrapper")},x.default.createElement("div",{className:this.ss("loading-text")},this.__("zip_uploading")),x.default.createElement("div",{className:this.ss("loading-bar")},x.default.createElement("div",{className:this.ss("loading"),style:{width:l+"%"}})))}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.editorKey,r=t.entityKey,a=t.renderOnly,o=this.getEntityContents(),s=o;return(a||o.length>1)&&(s=o.filter(function(e){return!e.addNew})),s.map(function(t){return t.addNew?e.renderUploadBox():x.default.createElement(B.default,{key:t.uploadId||t.contentId,renderOnly:a,editorKey:n,entityKey:r,item:t})})}},{key:"renderWebgl",value:function(){}},{key:"render",value:function(){return x.default.createElement("div",{className:this.ss("game-gallery")},this.renderItems())}}]),t}(),p.propTypes={editorKey:A.default.string.isRequired,entityKey:A.default.string,offsetKey:A.default.string,renderOnly:A.default.bool,isFocused:A.default.bool,editorState:A.default.object,itemPos:A.default.number,setItemPos:A.default.func,thumbPos:A.default.number,setThumbPos:A.default.func,uploads:A.default.object,contentMap:A.default.object,uploadIds:A.default.array,pendingWebgl:A.default.string,setEditorState:A.default.func,focus:A.default.func,positions:A.default.object,unsetPressed:A.default.func,setPressed:A.default.func,updatePressed:A.default.func,checkPendingWebgl:A.default.func},f=g))||f)||f)||f);t.default=W},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,f,p,g,h,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=u(["project.loadingMobile"],["project.loadingMobile"]),y=u(["project.uploads"],["project.uploads"]),b=u(["project.uploadVideo.pendingUploadIds"],["project.uploadVideo.pendingUploadIds"]),S=u(["project.contentMap"],["project.contentMap"]),w=u(["draft.editorStates.",""],["draft.editorStates.",""]),E=u(["editorKey"],["editorKey"]),O=u(["project.webglProcess"],["project.webglProcess"]),I=u(["currentUserId"],["currentUserId"]),k=u(["project.checkWindow"],["project.checkWindow"]),C=u(["project.removeWebgl"],["project.removeWebgl"]),T=u(["draft.setEditorState"],["draft.setEditorState"]),j=u(["project.setCheckWindow"],["project.setCheckWindow"]),M=r(n(1)),P=r(n(2)),x=r(n(3)),A=n(5),R=n(0),D=n(10),N=n(11),L=r(n(7)),F=n(135),U=r(n(4)),K=r(n(853)),B=r(n(6)),z=r(n(854)),q=(c=(0,A.decorator)({loadingMobile:(0,R.state)(_),uploads:(0,R.state)(y),uploadIds:(0,R.state)(b),contentMap:(0,R.state)(S),editorState:(0,R.state)(w,(0,R.props)(E)),webglProcess:(0,R.state)(O),currentUserId:(0,R.state)(I),checkWindow:(0,R.state)(k),removeWebgl:(0,R.state)(C),setEditorState:(0,R.signal)(T),setCheckWindow:(0,R.signal)(j)}),d=(0,U.default)(K.default),f=(0,B.default)(z.default),c(p=d(p=f((h=g=function(e){function t(){var e,n,r,a;s(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.syncToEntity=function(e){var t=r.props,n=t.entityKey,a=t.editorKey,o=t.editorState,s=t.setEditorState,i=(0,D.mergeAtomicEntityData)(o.getCurrentContent(),n,{contents:e.filter(function(e){return e.contentId||e.uploadId})});s({editorKey:a,editorState:D.EditorState.push(o,i,"apply-entity")})},r.deleteItem=function(e,t){(0,N.pauseEvent)(e);var n=r.getEntityData().contents,a=void 0===n?[]:n,s=a.findIndex(function(e){return e.contentId===t});if(s>=0){var i=[].concat(o(a));i.splice(s,1),r.syncToEntity(i)}},a=n,i(r,a)}return l(t,x.default),v(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"getEntityData",value:function(){var e=this.props,t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t).getData()}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,n=e.contentMap,r=e.item,s=r.uploadId,i=r.contentId,l=a(r,["uploadId","contentId"]),u=s&&t[s];if(u&&u.contentId&&n[u.contentId]&&!i){var c=this.getEntityData().contents,d=void 0===c?[]:c,f=[].concat(o(d)),p=d.findIndex(function(e){return e.uploadId===s});if(-1!==p){f.splice(p,1,m({},l,{contentId:u.contentId}));var g=this.props,h=g.entityKey,v=g.editorKey,_=g.editorState,y=g.setEditorState,b=(0,D.mergeAtomicEntityData)(_.getCurrentContent(),h,{contents:f});y({editorKey:v,editorState:D.EditorState.set(_,{currentContent:b})})}this.__placeholderSrc=u.dataUrl}}},{key:"renderLoading",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;if(t<0)return M.default.createElement("div",{key:e,className:this.ss("uploading-wrapper","fade-out")},M.default.createElement("div",{className:this.ss("check-icon","ifont","ifont-check-mark")}),M.default.createElement("div",{className:this.ss("loading-text")},this.__(e)),n&&this.renderDeleteButton());var o=60*Math.PI,s=(a-(t+r))/a*o;return isNaN(s)&&(s=o),M.default.createElement("div",{key:e,className:this.ss("uploading-wrapper")},M.default.createElement("svg",{className:this.ss("spinner"),width:"40px",height:"40px",viewBox:"0 0 66 66"},M.default.createElement("circle",{className:this.ss("circle"),fill:"none",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:o,strokeDashoffset:s,cx:"33",cy:"33",r:"30"})),M.default.createElement("div",{className:this.ss("loading-text")},this.__(e)),n&&this.renderDeleteButton())}},{key:"renderUploading",value:function(){var e=this.props,t=e.uploads,n=void 0===t?{}:t,r=(e.item||{}).uploadId;if(!n[r])return null;var a=n[r],o=a.loaded,s=a.total,i=a.status;if(i===L.default.succeeded)return this.renderWebglProcess();var l=100*o/s;return this.renderLoading("zip_uploading",l,i===L.default.failed,0,200)}},{key:"renderWebglProcess",value:function(){var e=this.props,t=e.webglProcess.progress,n=e.checkWindow,r=e.setCheckWindow;return n||r(),this.renderLoading("zip_uploading",t,!1,100,200)}},{key:"renderUploadDone",value:function(){return this.props.checkWindow?this.renderLoading("upload_done",-1,!1):null}},{key:"renderDeleteButton",value:function(){var e=this,t=this.props.item.contentId;return M.default.createElement("button",{className:this.ss("delete","ifont","ifont-icons_trash"),onClick:function(n){return e.deleteItem(n,t)}})}},{key:"renderWebgl",value:function(){var e=this.props,t=e.item.contentId,n=e.contentMap,r=e.renderOnly,a=e.currentUserId,o=e.loadingMobile;if(!n[t])return null;var s=(0,F.getDetailHtml)(n[t],a,o,!1,r?"detail":"edit");return M.default.createElement("div",null,this.renderUploadDone(),M.default.createElement("div",{className:this.ss("webgl-wrapper")},M.default.createElement("div",{className:this.ss("webgl",r&&"render-only"),dangerouslySetInnerHTML:{__html:s}})))}},{key:"render",value:function(){var e=this.props,t=e.renderOnly,n=e.item,r=e.removeWebgl,a=n||{},o=a.uploadId,s=a.contentId;return!t&&o?this.renderUploading():r?M.default.createElement("div",{className:this.ss("place-holder")}):s&&!r?this.renderWebgl():null}}]),t}(),g.propTypes={editorKey:P.default.string.isRequired,loadingMobile:P.default.bool,entityKey:P.default.string,editorState:P.default.object,webglProcess:P.default.object,currentUserId:P.default.string,item:P.default.object,renderOnly:P.default.bool,uploads:P.default.object,contentMap:P.default.object,checkWindow:P.default.bool,removeWebgl:P.default.bool,setEditorState:P.default.func,setCheckWindow:P.default.func},p=h))||p)||p)||p);t.default=q},function(e,t){e.exports={"uploading-wrapper":"uploading-wrapper_1zlVJbxR","check-icon":"check-icon_2XpxaLYH",spinner:"spinner_14hZ_N_h",circle:"circle_1dRFkjdC","loading-text":"loading-text_T0V1Cd1Z","loading-button":"loading-button_1zjbv-WW",content:"content_1bJ--qC9",retry:"retry_3ac0I9BX",text:"text_34fMIzhZ","place-holder":"place-holder_1vMuwTrk",display:"display_20KMt6am","fade-out":"fade-out_2Xy3wWOR",fade:"fade_2bx98Rac","webgl-wrapper":"webgl-wrapper_3m-QlLms",webgl:"webgl_9Q8if8gt","render-only":"render-only_MOLaCMHj",delete:"delete_3ithFa6p"}},function(e,t){e.exports={zip_uploading:"zip_uploading_LujW",webgl_processing:"webgl_processing_23UC",upload_done:"upload_done_fKZf"}},function(e,t){e.exports={"game-gallery":"game-gallery_nO7XOTx7","game-slides":"game-slides_2MfYWDkg","game-thumb-container":"game-thumb-container_2hj0IDHL","game-thumb-wrap":"game-thumb-wrap_16AQfJWO","game-thumb":"game-thumb_3l28tLwA","thumbnail-add-new-wrap":"thumbnail-add-new-wrap_14dfh-QB",focus:"focus_1Uqe7Mss","thumbnail-add-new":"thumbnail-add-new_3GHxnbRS",icon:"icon_2K1FBnis",text:"text_2hylvYbG",nav:"nav_2-tdEW1j",active:"active_Tpvt7Dad","left-nav":"left-nav_1CdRPnaw","right-nav":"right-nav_3qKbTWcn",hide:"hide_JfRnpLTh","game-gallery-device":"game-gallery-device_306gxyJ_","game-item":"game-item_2A4JLpjL"}},function(e,t){e.exports={button_add_new:"button_add_new_2dvP"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:n?void 0:function(e,t){var n=t.getEditorState,o=!1,s=0,i=e.getCurrentContent();if(i.getBlocksAsArray().forEach(function(e,t){if(!o){var n=!1;(0,r.findGalleryEntities)(e,function(){n=!0},i),n&&(1==++s?0!==t&&(o=!0):s>1&&(o=!0))}}),0===s&&(o=!0),!o){var l=i.getLastBlock();if("atomic"===l.getType())return e;var u=i.getBlockMap();return u=u.delete(l.getKey()),i.merge({blockMap:u}),a.EditorState.forceSelection(a.EditorState.set(e,{currentContent:i.merge({blockMap:u})}),n().getSelection())}return a.EditorState.forceSelection(n(),n().getSelection())}}};var r=n(483),a=n(10)},,,,,,,,,,,,function(e,t){e.exports={"text-area":"text-area_2BOgovPM",failed:"failed_2e0uEJtN","theme-dark":"theme-dark_1LMHZvyK","theme-white":"theme-white_1R8mbBNa","active-blue-green":"active-blue-green_Yn_tXGPr","active-primary-blue":"active-primary-blue_2m3-wSvT",notice:"notice_JaXd-Lps",succeeded:"succeeded_2kwbLXj3",inProgress:"inProgress_3Cbo0Edf",initial:"initial_2mkG-AMx",bottom:"bottom_28Ro_W0b",hide:"hide_1Vzat0h4"}},function(e,t){e.exports={inProgress:"inProgress_2fdL",succeeded:"succeeded_3GM1",failed:"failed_1G4m"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return JSON.stringify(e).replace(/<\/(script)/gi,"<\\/$1").replace(/<!--/g,"<\\!--").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},,function(e,t,n){var r=n(1020),a="Expected a function";e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError(a);return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},function(e,t,n){var r=n(1021);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},function(e,t,n){var r=n(1022),a=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}},function(e,t,n){var r=n(438),a=n(1023),o=NaN,s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):i.test(e)?o:+e}},function(e,t,n){var r=n(501),a=n(502),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==o}}]);